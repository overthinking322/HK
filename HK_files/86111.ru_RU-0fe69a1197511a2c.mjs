(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["86111"],{591503:function(e,a,l){var n,i,t;l.r(a),l.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i,{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="f888770275b549d56226cc6df8d28156";let s=r},888711:function(e,a,l){var n,i,t;l.r(a),l.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},n,i,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},t],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};r.hash="7142df6a7a3c1aee54267c5441d3d50b";let s=r},351786:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="9fe338bb0275ffff2818b274fce014af";let i=n},414201:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};n.hash="535b0dce979f4e368b354c1d7db63f73";let i=n},684517:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};n.hash="0122ac469895f29aa7d039970fa36eb0";let i=n},947597:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="3fa8620068a79dc4a73dbbcde3f352f9";let t=i},162416:function(e,a,l){var n,i,t;l.r(a),l.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},n,i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,t],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},i,t],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};r.hash="e1e37c221693c863e8ed160cd9265c59";let s=r},407526:function(e,a,l){var n,i,t,r;l.r(a),l.d(a,{default:()=>o});let s=(n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[n,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayableCommunityContentType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"originPin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useIsGroupBoard_pin"},{args:null,kind:"FragmentSpread",name:"useIsBoardOwnerOrCollaborator_pin"},{args:null,kind:"FragmentSpread",name:"useCloseupBodyUtils_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"SavedInfo_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupAttributionAndDescription_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"}],type:"Pin",abstractKey:null});s.hash="7a6cb466fc8eed4b7d494eb24b321975";let o=s},879971:function(e,a,l){var n,i,t;l.r(a),l.d(a,{default:()=>s});let r=(n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],t=[i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n,storageKey:null},i,{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});r.hash="28ab0b1e7aa7707dbaca4eab96280169";let s=r},222769:function(e,a,l){var n,i,t,r,s,o,d;l.r(a),l.d(a,{default:()=>c});let u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LinkModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},i,r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},t,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};u.hash="2be523d18cdb97a01003da320f0cb7d3";let c=u},675112:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MaybeClickthroughLink_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"LinkModule_pin"}],type:"Pin",abstractKey:null};i.hash="39a7882a66a91ae06ef6da7137136e67";let t=i},718972:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};n.hash="cce8a8d5ad05c8e6c1137bf7c8845c2a";let i=n},883229:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};n.hash="ab1d44e9e9493de6e62e369100d61e23";let i=n},842362:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="86cb4963f4714e2184c01e13236c3616";let t=i},158388:function(e,a,l){var n,i,t,r,s,o,d,u,c,p,g,m,_,h,y,f,k,S,x,P,v,b,T,F,I,w,C,A,K,L,j,E,R,D,Z,M,N,B,O,z,U,V,H,G,W,$,X,Y,q,Q,J,ee,ea,el,en,ei,et,er,es,eo,ed,eu,ec,ep,eg,em,e_,eh,ey,ef,ek,eS,ex,eP,ev,eb,eT,eF,eI;l.r(a),l.d(a,{default:()=>eC});let ew=(n={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},i={defaultValue:null,kind:"LocalArgument",name:"pinId"},t=[{kind:"Variable",name:"pin",variableName:"pinId"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},d=[o={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],c={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},m=[{kind:"Literal",name:"spec",value:"236x"}],f=[u={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],k={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Z={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[D={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},M=[h,y,u,r],N={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},z=[h,u,y],U=[{kind:"Literal",name:"spec",value:"474x"}],V=[{kind:"Literal",name:"spec",value:"564x"}],H=[{kind:"Literal",name:"spec",value:"736x"}],G={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},W={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null},r],storageKey:null}],storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},q={kind:"InlineFragment",selections:Y=[X={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},c],type:"ParagraphBlock",abstractKey:null},Q={kind:"InlineFragment",selections:Y,type:"HeadingBlock",abstractKey:null},J={kind:"InlineFragment",selections:Y,type:"TextBlock",abstractKey:null},ee=[N,u,y,h,B],ea={alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},en={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},et={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},er=[r],eo={alias:"image236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:es=[r,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:z,storageKey:null},F],storageKey:'additionalImagesPerSpec(spec:"236x")'},ed={alias:"image474x",args:U,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:es,storageKey:'additionalImagesPerSpec(spec:"474x")'},eu={alias:"image564x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:es,storageKey:'additionalImagesPerSpec(spec:"564x")'},ec={alias:"image736x",args:H,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:es,storageKey:'additionalImagesPerSpec(spec:"736x")'},ep={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},eg={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},em=[u],e_=[{kind:"Literal",name:"spec",value:"170x"}],eh=[u,h,y,_],ey={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},ef=[C,x],ev=[ek={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},eS={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},ex={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},eP={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},p,et,u],eb={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},eF={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[ek,eT={alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},$,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[ei,en],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},ey],storageKey:null},{fragment:{argumentDefinitions:[n,i],kind:"Fragment",metadata:null,name:"ShoppingModuleQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ShoppingModule_v3GetStelaShoppingCarousel"}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,n],kind:"Operation",name:"ShoppingModuleQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWash",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDynamicContentSpan",kind:"LinkedField",name:"dynamicHeaderContentSpan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[r,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[r,{kind:"InlineFragment",selections:[p,g,{alias:"imageSpec_236x",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:f,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[k,S,u,x,P,{alias:null,args:null,kind:"ScalarField",name:"featuredIn",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[g,x],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},g,v,b,{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[k,S,u,x,g,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[r,x,w,g,C,A,K,L,j,E,R,Z],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},x,R,C,g,r,L,A,K,E,Z],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[r,x,g,C,R,w,K,L,j],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[g,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:M,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[h,y,u,r,N],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:M,storageKey:null},r],storageKey:null},x,r,B],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[S,u],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},I,O,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},F,{alias:"imagesSpec_236x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"236x")'},r,{alias:"image236x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"236x")'},{alias:"image474x",args:U,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"474x")'},{alias:"image564x",args:V,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"564x")'},{alias:"image736x",args:H,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"736x")'},G],storageKey:null},x,r,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[r,G,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:z,storageKey:null},I],storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},W],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[r,$,{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[u,y,h],storageKey:'images(spec:"750x")'},I],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},x,{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[X,{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,q,Q,J,{kind:"InlineFragment",selections:[X],type:"IngredientBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[r,q,Q,J,{kind:"InlineFragment",selections:[X,c,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:"videoListMobile",args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:ee,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:ee,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:ee,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:ee,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:ee,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:ee,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:ee,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[G,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[h,N,y,u],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},ea,{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[r,x,S,u,g],storageKey:null},el,{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[en,ei],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},et],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[T,p,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:er,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[r,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:er,storageKey:null}],storageKey:null},eo,ed,eu,ec,ep,S,eg,{alias:"additionalImageSpec_236x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:U,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:V,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:H,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:er,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[O,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},eo,ed,eu,ec,ep,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[S],storageKey:null},eg,r,S,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},r,u,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:em,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:f,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:e_,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:f,storageKey:'images(spec:"170x")'},{alias:"imageSpec_474x",args:U,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eh,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:V,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:em,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:H,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eh,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:em,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[u,r,h,y,_],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},x],storageKey:null},{alias:"image236x",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"236x")'},{alias:"image474x",args:U,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"474x")'},{alias:"image564x",args:V,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"564x")'},{alias:"image736x",args:H,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:z,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},ey,{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[et],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},x,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[g,x,C,K,L,R],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[g,x,C,R,K,L],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[K,x,w,C,A,L,j,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},E,R,Z,g],storageKey:null},x,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},W,{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:ef,storageKey:null},x],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[C,x,g],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:ef,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"PinNote",kind:"LinkedField",name:"pinNote",plural:!1,selections:[c,x],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFoodIndicator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[ek,eS,r,u,ex,eP,p,et],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:ev,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:ev,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedbackOverlay",storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},p,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[eb,eF],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[eb,eF,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"GenAIInterestData",kind:"LinkedField",name:"genAiTopics",plural:!0,selections:[eT,S],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},eI={alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[g,S,{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[r,g,x],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},P,{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:e_,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:em,storageKey:'images(spec:"170x")'},{alias:"images236x",args:m,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:em,storageKey:'images(spec:"236x")'},v,{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},C,E,R,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[S,D],storageKey:null},x],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[el,{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},et,u,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:em,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:em,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:em,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},eI],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[g,R],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[g,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:d,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[x],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[C,E,Z,R,K,x],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:d,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},ea],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}]},params:{id:"68a20013de0eb355ce49da8d78606818a26b3949b465c721f94ae6f9e0eaa4df",metadata:{},name:"ShoppingModuleQuery",operationKind:"query",text:null}});ew.hash="5b0b7d9c9c5e735a0c9cc8ebf5415be0";let eC=ew;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let a=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[a]=e}}}(ew.default||ew)},575629:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStelaUrlWithLargestStelaObject_pin"}],type:"Pin",abstractKey:null};n.hash="8f5a1016117d8ba33bcd13e6842ad7f2";let i=n},928320:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="1dad325a13951c2d1449a683f8133aae";let i=n},630590:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"isAuthParam"},{defaultValue:!0,kind:"LocalArgument",name:"isDesktopParam"}],kind:"Fragment",metadata:null,name:"ShoppingModule_v3GetStelaShoppingCarousel",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayViewState",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuthParam",variableName:"isAuthParam"},{kind:"Variable",name:"isDesktopParam",variableName:"isDesktopParam"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_story"}],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null};n.hash="bf46e3a65912ca9b7ce7b3f9eb1124d9";let i=n},752395:function(e,a,l){var n,i,t,r,s,o,d;l.r(a),l.d(a,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},i,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null});u.hash="e0961d958eda59cad942eda9890b0f5f";let c=u},538283:function(e,a,l){var n,i,t,r,s,o,d;l.r(a),l.d(a,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCloseupBodyUtils_pin",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[o,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:d=[r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null});u.hash="49e96ba3623eab58ae9375f43776abb7";let c=u},259553:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0";let i=n},988605:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="3ecf70d7e25decf88c7b8bafd5993b03";let t=i},656203:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="efee9cd30f69b524ed9920746ed65ceb";let t=i},45229:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="2eb6a7a4cf67ae04de84ac1b2b5e2715";let i=n},826299:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};i.hash="120c47eff2cf4911de716b514608718f";let t=i},932202:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsInCloseupShoppingRefinementsExp_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForCloseupOneBarRefinements",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null}],type:"Pin",abstractKey:null};n.hash="25d061dfff6d75937841f5a3a23e65e0";let i=n},646605:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsShortImage_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateImageContainerDimension_pin"}],type:"Pin",abstractKey:null};n.hash="eb2d45c46c7bd76cf5d4d1f36ec7a044";let i=n},45169:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};n.hash="1380cc65fb1c2132004a18dee261602e";let i=n},37751:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="e1f413e0ba2f9031ea605d85baa14a4b";let i=n},813954:function(e,a,l){l.d(a,{CA:()=>i,Gv:()=>n,k5:()=>t});let n=({orbacSubjectId:e,pinIsRepin:a,pinPinnerId:l,viewerId:n,viewerIsPartner:i})=>!a&&!!i&&[n,e].includes(l),i=e=>!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0),t=(e,a)=>{if(!e)return e;let l=[...e].filter(e=>!!e.mom_change?.roundedPercentChange&&e.mom_change.roundedPercentChange>0);return l.length<=a?l:Array(a).fill(1).map(()=>{let e=Math.floor(Math.random()*l.length);return l.splice(e,1)[0]})}},382167:function(e,a,l){l.r(a),l.d(a,{default:()=>B});var n,i,t=l(667294),r=l(581722);l(167912);var s=l(883119),o=l(230201),d=l(521367),u=l(422578),c=l(707855);let p=function(e,a,l){switch((0,c.o)(e)){case"SingularLegacy":case"PluralLegacy":case"PaginationLegacyData":return a;case"GraphQL":{let e=(0,u.useRelayEnvironment)();return a=>(0,u.commitLocalUpdate)(e,e=>l(e,a))}default:throw Error("Unexpected case")}};var g=l(907022),m=l(138596),_=l(217703),h=l(462867),y=l(133546),f=l(661376),k=l(216975),S=l(893957),x=l(583875),P=l(507006),v=l(894307),b=l(687163),T=l(785893);let F=({creatorData:e,onTap:a,onUserFollow:l})=>{let n=(0,m.ZP)(),i=(0,h.Z)(),{explicitly_followed_by_me:t,follower_count:r=0,full_name:o,id:d,image_medium_url:u,username:c,verified_identity:p,avatar_color_index:g,is_verified_merchant:_}=e||{},y=`/${c}/`;return(0,T.jsx)(s.sg,{span:4,children:(0,T.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},direction:"column",display:"flex",marginBottom:1,children:[(0,T.jsx)(s.Tg,{href:y,onTap:()=>a(d),children:(0,T.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,T.jsx)(s.xu,{height:60,width:60,children:(0,T.jsx)(x.qE,{color:g,name:o??"",size:"fit",src:u??"",verified:!1})}),(0,T.jsxs)(s.xu,{marginBottom:1,paddingY:2,children:[(0,T.jsx)(s.xu,{marginBottom:1,children:(0,T.jsx)(s.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:p||_?(0,T.jsx)(b.Z,{badgeSize:"xs",badgeSpacing:2,fullName:o??"",isVerifiedIdentity:p?.verified,isVerifiedMerchant:_}):o})}),(0,T.jsx)(s.xv,{align:"center",size:"100",children:(0,k.nk)(n.nbt(["{{ followerCount }}", "{{ followerCount }}", "{{ followerCount }}"], r, "suggestedCreatorRep.creator.followerCount", true),{followerCount:(0,T.jsx)(P.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:r},r)})})]})]})}),(0,T.jsx)(v.Z,{fullName:o,id:d,imageUrl:u,isOwnProfile:i.isAuth&&i.id===d,isSecondaryButton:!0,onUserFollow:e=>l({userIsNowFollowing:e,creatorId:d}),profileUrl:`/${c}/`,shouldStopEventPropagation:!0,size:"sm",userFollowed:t,viewParameter:156,viewType:3})]})})},I=({creatorRecs:e,fullName:a,pinId:l,viewParameter:n,viewType:i})=>{let{logContextEvent:t}=(0,o.v)(),r=(0,m.ZP)();(0,S.Z)(()=>{t({event_type:13,component:13891,view_parameter:n,view_type:i,aux_data:{...l?{pin_id:l}:{}}})});let d=e=>{t({event_type:101,component:13891,view_parameter:n,view_type:i,object_id_str:e,aux_data:{...l?{pin_id:l}:{}}})},u=({userIsNowFollowing:e,creatorId:a})=>{e?t({event_type:45,component:13891,object_id_str:a,view_parameter:n,view_type:i,aux_data:{...l?{pin_id:l}:{}}}):t({event_type:46,component:13891,object_id_str:a,view_parameter:n,view_type:i,aux_data:{...l?{pin_id:l}:{}}})};return(0,T.jsx)(s.xu,{minWidth:432,paddingY:4,children:(0,T.jsxs)(s.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[a&&(0,T.jsx)(s.X6,{align:"center",size:"300",children:(0,k.nk)(r.bt(" ,    {{creatorName}}", "More like {{creatorName}}", "suggestedCreatorRecs.title", undefined, true),{creatorName:a})}),(0,T.jsx)(s.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map(e=>(0,T.jsx)(F,{creatorData:e.user,onTap:d,onUserFollow:u},e.user_id))})]})})},w=3,C=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],A=({fullName:e,id:a,numCreatorsToShow:l=w,pinId:n,viewParameter:i,viewType:t})=>{let r=(0,f.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:C.join(","),page_size:l,referrer:4,target_user:a}}});if(!r.isLoaded||!(r.data&&r.data.length===l))return null;let s=r.data||[];return(0,T.jsx)(I,{creatorRecs:s,fullName:e,pinId:n,viewParameter:i,viewType:t})};var K=l(400962);let L=void 0!==n?n:n=l(259553),j=e=>e.includes("/:username"),E=function(e){let a=function(){let{forward:e}=(0,K.Hv)(),a=e&&e.length>0&&e[0].match&&e[0].match.path?e[0].match.path:null;return!!(a&&j(a))}(),l=(0,g.Z)(L,e);if(!a||!l)return{creatorRecsPrevState:!1};{let e=!!l.promotedIsLeadAd,a=l.richSummary?.typeName==="product";return{creatorRecsPrevState:!!l&&!e&&!a&&!!l.showSuggestedCreatorRecs}}};var R=l(400947),D=l(72034);function Z(e,a,l){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let M=void 0!==i?i:i=l(162416);class N extends t.PureComponent{constructor(...e){super(...e),Z(this,"state",{shouldShowCreatorRecs:this.props.suggestedCreatorRecsPrevState,user:this.props.officialUser}),Z(this,"anchorElementRef",(0,t.createRef)()),Z(this,"handleNavigateAndLog",(e,a)=>{let{pin:l}=this.props,n=!!l.storyPinDataId;e===a?this.props.logContextEvent({event_type:101,element:13382,view_type:this.viewType,view_parameter:this.viewParameter,...n?{component:230}:Object.freeze({}),object_id_str:l.entityId,aux_data:{pin_id:l.entityId,creator_id:l.sponsorship?.creator?.creatorId,aop_origin:"CreatorCard",...n?{story_pin_template_type:l.storyPinData?.metadata?.templateType}:{}}}):this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...n?{component:230}:Object.freeze({}),object_id_str:l.entityId,aux_data:{pin_id:l.entityId,creator_id:l.sponsorship?.creator?.creatorId,...n?{story_pin_template_type:l.storyPinData?.metadata?.templateType}:{}}})}),Z(this,"handleNavigateAndLogSponsorClick",()=>{let{pin:e}=this.props,a=e.entityId,l=e.sponsorship?.creator?.creatorId,n=e.sponsorship?.sponsor?.sponsorId,i=!!e.storyPinDataId;l&&n&&this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...i?{component:230}:Object.freeze({}),object_id_str:a,aux_data:{pin_id:a,creator_id:l,sponsor_id:n}})}),Z(this,"handleUserFollow",(e,a)=>{let{setShowSuggestedCreatorRecs:l,pin:{entityId:n,doneByMe:i},clientTrackingParams:t}=this.props;n.length,a?(this.props.logContextEvent({event_type:45,view_type:this.viewType,view_parameter:this.viewParameter,object_id_str:e,view_data:{isCurrentUser:i,viewObjectId:n,viewObjectIdStr:n},aux_data:{pin_id:n},clientTrackingParams:t}),this.setState({shouldShowCreatorRecs:!0}),l()):this.props.logContextEvent({event_type:46,view_type:this.viewType,view_parameter:this.viewParameter,object_id_str:e,aux_data:{pin_id:n},clientTrackingParams:t})})}static getDerivedStateFromProps(e,a){let l=e.officialUser;if(l&&l!==a.user)return{...a,user:l};let n=e.suggestedCreatorRecsPrevState;return n&&!a.shouldShowCreatorRecs?{...a,shouldShowCreatorRecs:n}:null}get viewType(){return this.props.viewType||3}get viewParameter(){return this.props.viewParameter||156}render(){let{user:e}=this.state;if(!e)return(0,T.jsx)(s.xu,{});let{pin:a,viewerUserId:l,isORBACProfileManager:n,clientTrackingParams:i,isCloseupRelatedPinsAboveTheFoldEnabled:t}=this.props,{full_name:r,follower_count:o,id:u,image_medium_url:c,is_verified_merchant:p,username:g,verified_identity:m}=e,_=!!m?.verified,h=!!a.promotedIsLeadAd,y=a.richSummary?.typeName==="product",f=!!(!h&&!y&&this.state.shouldShowCreatorRecs),k=!!l&&l===u,S=a.pinner?.isAdsOnlyProfile&&a.pinner.adsOnlyProfileSite?a.pinner?.adsOnlyProfileSite:`/${g}/`;return(0,T.jsx)(s.xu,{position:"relative",children:(0,T.jsxs)(s.xu,{children:[(0,T.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,T.jsx)(s.xu,{flex:"grow",children:(0,T.jsx)(R.Z,{followerCount:o,fullName:r,imageUrl:c,isPromoted:!!(a.promoter&&a.isPromoted),isVerifiedIdentity:_,isVerifiedMerchant:p,onNavigateClick:()=>this.handleNavigateAndLog(S,a.pinner?.adsOnlyProfileSite),onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,openNewTab:S===a.pinner?.adsOnlyProfileSite,profileUrl:S,sponsorName:a.sponsorship?.sponsor?.fullName??"",sponsorshipStatus:a.sponsorship?.status,sponsorUsername:a.sponsorship?.sponsor?.username??""})}),!n&&(0,T.jsx)(s.xu,{flex:"none",children:(0,T.jsx)(s.xu,{children:!k&&!t&&(0,T.jsx)(d._7,{anchor:".followButton",anchorElementRef:this.anchorElementRef.current,children:(0,T.jsx)(s.xu,{ref:this.anchorElementRef,children:(0,T.jsx)(v.Z,{button:({followText:e,onClick:a,userFollowed:l})=>(0,T.jsx)(s.xu,{"data-test-id":`user-${l?"unfollow":"follow"}-button`,children:(0,T.jsx)(s.Fm,{accessibilityLabel:l?this.props.i18n.bt(".", "Following", "creatorCard.followingButton.accessibilityLabel", undefined, true):this.props.i18n.bt("", "Follow", "creatorCard.followButton.accessibilityLabel", undefined, true),onClick:a,selected:!!l,size:"lg",text:e})}),clientTrackingParams:i,fullName:r,id:u,imageUrl:c||"",inline:!0,isOwnProfile:k,onUserFollow:e=>this.handleUserFollow(u,e),profileUrl:S,size:"md",viewParameter:this.viewParameter,viewType:this.viewType})})})})})]}),f&&(0,T.jsx)(s.xu,{marginEnd:1,marginStart:1,children:(0,T.jsx)(A,{fullName:r,id:u,pinId:a.entityId,viewParameter:this.viewParameter,viewType:this.viewType})})]})})}}let B=(0,_.Z)(function(e){let{logContextEvent:a}=(0,o.v)(),l=(0,m.ZP)(),n=(0,g.Z)(M,e.input),i=(0,r.I0)(),t=p(e.input,()=>{i((0,D.Vw)(n.entityId))},e=>{let a=e.get(n.entityId);a&&a.setValue(!0,"showSuggestedCreatorRecs")}),s=(0,h.Z)(),{creatorRecsPrevState:d}=E(n),{isCloseupRelatedPinsAboveTheFoldEnabled:u}=(0,y.x4)();return(0,T.jsx)(N,{...e,i18n:l,isCloseupRelatedPinsAboveTheFoldEnabled:u,logContextEvent:a,pin:n,setShowSuggestedCreatorRecs:t,suggestedCreatorRecsPrevState:d,viewerUserId:s.isAuth?s.id:null})})},286074:function(e,a,l){l.d(a,{Z:()=>aK});var n,i,t,r=l(581722),s=l(616550),o=l(451091),d=l(454435),u=l(667294),c=l(883119),p=l(813954),g=l(646941),m=l(510065),_=l(928585),h=l(110261),y=l(195658),f=l(877733),k=l(233511),S=l(721956),x=l(732054),P=l(290852),v=l(26458),b=l(236459),T=l(365976),F=l(758724),I=l(488631),w=l(804748),C=l(785893);function A(e){let{disabled:a,height:l,top:n=0,zIndex:i}=e,t=(0,u.useRef)(null),r=(0,w.Z)();if(a)return e.children;let s=t.current?.getBoundingClientRect().top||0;return(0,C.jsx)(c.xu,{ref:t,"data-test-id":"product-sticky-container",id:"product-sticky-container ",children:(0,C.jsx)(c.Le,{height:l,top:r+n+s,zIndex:i,children:e.children})})}var K=l(661376),L=l(462867),j=l(200619),E=l(601871),R=l(15392),D=l(133546),Z=l(632492);function M({disableRelatedResource:e=!1,relatedResourceOptions:a,hasXYcoordinates:l,isEligibleForStlFlyout:n,isStoryPin:i,isWideVideo:t,pin:r,taggedProducts:s,trafficSource:o,viewParameterType:d,onClickThrough:c,showStructuredDescription:p,data:g,didShortClickThrough:m,goBack:_,isInStream:h=!1,isDeletedStoryPin:y,isRelatedPins10PercentVisible:f,onSaveButtonClick:w,onUpdate:M,outerBodyStyle:N,routePush:B,showPartnerModule:O,showPinStats:z,showTrendsOnPinCloseup:U,showRepinOnInitialRender:V,trendsData:H,viewType:G}){let W=(0,K.Z)(e?null:a),$=(0,u.useRef)(null),X=(0,u.useRef)(null),Y=(0,L.Z)(),{closeupWithinMasonryEnabled:q,isCloseupRelatedPinsAboveTheFoldEnabled:Q,viewportSize:J,clientTrackingParams:ee}=(0,D.x4)(),ea=(0,j.Z)(),el=(0,E.lJ)(Y,ea),en=(0,x.Z)(90),ei=(0,b.Z)(),et=(0,v.Z)({metadataContainerRef:$,pinKey:{type:"deprecated",data:r}}),{isCloseupMediaViewerEnabled:er}=(0,F.Z)({isShufflePin:!!r?.shuffle}),[es,eo]=(0,u.useState)(!1),ed=!!r.is_eligible_for_aggregated_comments,{setClickthroughComponentForSurvey:eu,imageContainerRef:ec}=ei,{getViewParameter:ep}=(0,S.ZP)({type:"deprecated",data:r}),eg=ep(d),em=Q||"lg"===J?R.ER:R.g9,e_=(0,C.jsx)(T.Z,{hasXYcoordinates:l,isEligibleForStlFlyout:n,isStoryPin:i,isWideVideo:t,pin:r,taggedProducts:s,trafficSource:o,viewParameterType:d,visualContentContainerRef:ed?en.visualContentContainerRef:void 0,imageContainerRef:ec,handleImageClickThrough:()=>c({wasImageClicked:!0}),setClickthroughComponentForSurvey:eu,isShortImage:et,onSaveButtonClick:w,viewParameter:eg}),eh=(0,C.jsx)(A,{disabled:!1,top:-16,zIndex:Z.mS,children:e_}),ey=p&&!er?eh:e_,ef=(0,P.Z)({pinKey:{type:"deprecated",data:r},orbacActingAs:ea,viewer:Y}),ek=(0,C.jsx)(u.Fragment,{children:(0,C.jsx)(I.Z,{clientTrackingParams:ee,deprecatedRESTPinDoNotUse:r,detailsScrollContainerRef:$.current,hasXYcoordinates:l,isBoardOwnerOrCollaborator:ef,isLoadingNewlyCreatedComment:es,onClickThrough:c,outerPaddingSize:em,pinKey:{type:"deprecated",data:r},showPartnerModule:O,showPDPComments:ed,showPinNote:ef,showPinStats:z,showStructuredDescription:p,showTrendsOnPinCloseup:U,trendsData:H,viewParameter:eg})});return(0,C.jsx)(k.R,{descriptionContentMaxHeight:ed?en.descriptionContentMaxHeight:void 0,isEligibleForPinReactions:!r.is_promoted&&!r.is_downstream_promotion&&!y,isWideVideo:t,didShortClickThrough:m,webLinkSurveyState:ei,pin:r,outerBodyStyle:N,isStoryPin:i,trafficSource:o,visualContentContainer:ey,isCloseupMaximized:!1,data:g,outerPaddingSize:em,isInStream:h,metadataContainerRef:$,onClickThrough:()=>{c&&c({componentType:129}),ei.setClickthroughComponentForSurvey("legoMaybeLink")},isLoadingNewlyCreatedComment:es,setIsLoadingNewlyCreatedComment:eo,viewParameter:eg,viewType:G,metadata:ek,viewer:Y,orbacSubjectId:el,relatedModulesResource:W,marginBottom:q?0:8,disableLeadPin:!0,isDeletedStoryPin:y,onSaveButtonClick:w,showRepinOnInitialRender:V,goBack:_,onUpdate:M,showPDPComments:ed,routePush:B,closeupActionBarMaxWidth:q?void 0:R.CI,visualContentContainerRef:ed?en.visualContentContainerRef:void 0,actionBarContainerRef:X,isRelatedPins10PercentVisible:f})}l(167912);var N=l(34692),B=l(819108),O=l(560333),z=l(788730),U=l(346703),V=l(945624),H=l(513314),G=l(433100),W=l(907022),$=l(64627),X=l(551474),Y=l(271245);let q=(0,Y.Z)(()=>l.e("75139").then(l.bind(l,698318)),void 0,e=>698318,"StructuredFeedStoryModule"),Q=(0,Y.Z)(()=>l.e("65346").then(l.bind(l,746024)),void 0,e=>746024,"app-common-react-components-closeup-CloseupRelatedModules-DomainModule"),J=(0,Y.Z)(()=>Promise.resolve().then(l.bind(l,560333)),void 0,e=>560333,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),ee=(0,Y.Z)(()=>l.e("99743").then(l.bind(l,659885)),void 0,e=>659885,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),ea=void 0!==n?n:n=l(718972),el=(0,u.forwardRef)(({clientTrackingParams:e,isRelatedPins10PercentVisible:a,pinKey:l,setRelatedPinsHeaderRef:n,slotIndex:i,story:t,topLevelTrafficSource:r,viewParameter:s,viewportSize:o},d)=>{let u=(0,W.Z)(ea,l),{closeupWithinMasonryEnabled:p}=(0,D.x4)();if(!t)return null;let{container_type:g,story_type:m}=t;if((0,X.Z)(g)){let e=88===g,a=90===g;return(0,C.jsx)(c.xu,{marginBottom:e||a?0:12,paddingX:a?12:0,children:(0,C.jsx)(q,{componentFallback:13176,initialSlotIndex:i,story:t,storyKey:{type:"deprecated",data:t},surface:"ShoppingDynamicHeightGrid",view:3,viewParameter:s})})}return(0,$.HM)(m)?!p&&(0,C.jsx)(c.xu,{alignSelf:"center",children:(0,C.jsx)(J,{filter:(0,$.oV)(m),story:t,viewParameter:s})}):["related_products_feed_header","related_modules_header"].includes(m)?(0,C.jsx)(c.xu,{ref:n,"data-test-id":"related-modules-header",children:(0,C.jsx)(ee,{ref:d,clientTrackingParams:e,isRelatedPins10PercentVisible:a,slotIndex:i,storyId:t.id,storyType:m,title:t.title?.format,viewParameter:s})}):"related_domain_carousel"===m?(0,C.jsx)(c.xu,{display:"flex",justifyContent:"center",marginBottom:12,children:(0,C.jsx)(Q,{closeupImageSignature:u.imageSignature||"",data:t,slotIndex:i,storyId:t.id,storyType:m,topLevelTrafficSource:r,viewParameter:s,viewportSize:o})}):null});var en=l(797484),ei=l(216762),et=l(184865),er=l(603484),es=l(153149),eo=l(261954),ed=l(138596),eu=l(149238),ec=l(891851),ep=l(613567),eg=l(112658),em=l(309266),e_=l(548782),eh=l(285676),ey=l(758594);let ef=()=>(0,C.jsx)(u.Fragment,{children:Array(12).fill(void 0).map((e,a)=>(0,C.jsx)(c.xu,{marginEnd:4,width:et.j},`empty-pin-${a}`))}),ek=void 0!==i?i:i=l(842362);function eS(e){return 154===e.container_type?2:e.columnSpan??1}function ex({surface:e="PdpRelatedPinGrid",closeupBody:a,closeupInclusiveFilters:l,initialSlotIndex:n,isFetching:i=!1,pinKey:t,relatedPins:r,topLevelTrafficSource:s}){let o=(0,ed.ZP)(),{closeupWithinMasonryEnabled:d,viewportSize:p}=(0,D.x4)(),{checkExperiment:g}=(0,ep.F)(),m=(0,W.Z)(ek,t),_=(0,em.Z)(),h=(0,u.useRef)(null),y=(0,ec.Z)({hasPin:!!m,hasPinRichMetadata:!!m.richMetadata,hasPinRichMetadataProducts:!!m.richMetadata?.products,hasPinRichMetadataArticle:!!m.richMetadata?.article,hasPinRichMetadataRecipe:!!m.richMetadata?.recipe,hasPinStoryPinData:!!m.storyPinData}),f=g("web_closeup_inclusive_refinement").anyEnabled,k=({data:i,itemIdx:t})=>{let r=(0,eu.Z)(_),o=n+t,d=null;switch(i.type){case"closeup_module":d=a;break;case"shopping_module":d=(0,C.jsx)(ei.Z,{moduleWidth:"100%",pinKey:m,trafficSource:s,viewParameter:y});break;case"inclusive_filters_module":d=l;break;case"story":switch(154===i.container_type&&(d=(0,C.jsx)(er.Z,{slotIndex:o,story:i,viewParameter:y,viewType:3})),i.story_type){case"BUBBLE_ONE_COL":d=(0,C.jsx)(e_.default,{bubbles:i.objects,id:i.id,referringSource:i.referring_source,slotIndex:o,storyType:i.story_type,title:i.title,viewParameter:y,viewType:3});break;case"related_query_shop_upsell_closeup":d=(0,C.jsx)(es.default,{itemIdx:o,story:i,viewParameter:y,viewType:3})}break;default:d=(0,C.jsx)(eh.ZP,{componentType:13176,duploQueryRef:null,imageOnlyOption:r?"image-only":"default",pinId:i.id,slotIndex:o,surface:e,viewData:{pin_id:m.entityId},viewParameter:y,viewType:3})}return(0,C.jsx)(en.Z,{children:d})},S={isLoadedAccessibilityLabel:r.length>0?o.bt("     ", "Loaded more related product results", "closeup.relatedProducts.results", undefined, true):o.bt("    ", "Loaded related products result", "closeup.relatedProducts.results", undefined, true),isLoadingAccessibilityLabel:r.length>0?o.bt("     ", "Loading more related products results", "closeup.relatedProducts.loading", undefined, true):o.bt("    ", "Loading related products results", "closeup.relatedProducts.loading", undefined, true)},x=d?(0,C.jsx)(eo.default,{_dynamicHeights:d,_getColumnSpanConfig:eS,_getResponsiveModuleConfigForSecondItem:d?(0,V.f)(!!f):void 0,align:d||"sm"===p?"center":"start",isFetching:i,items:r,layout:"basic",masonryRef:h,minCols:2,renderItem:k,serverRender:!0,useLoadingState:!0,...S}):(0,C.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,C.jsx)(eo.default,{_getColumnSpanConfig:eS,isFetching:i,items:r,renderItem:k,useLoadingState:!0,...S}),(0,C.jsx)(ef,{})]});return(0,C.jsx)(ey.Z,{metricName:"RelatedModulesFeed",children:(0,C.jsx)(eg.Z,{component:86,viewParameter:y,children:x})})}var eP=l(210616),ev=l(645008),eb=l(190665),eT=l(383022),eF=l(629972),eI=l(618003),ew=l(73910),eC=l(575820);let eA=(0,Y.Z)(()=>l.e("80949").then(l.bind(l,1515)),void 0,e=>1515,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),eK=void 0!==t?t:t=l(883229),eL=(0,u.forwardRef)(({clientTrackingParams:e,closeupBody:a,excludeStories:l,initialSlotIndex:n=0,isFilteredFeed:i,isRelatedPins10PercentVisible:t,pinKey:r,relatedModulesFeedResource:o,setHasRelatedPins:d,setRelatedPinsHeaderRef:p,topLevelTrafficSource:g,viewParameter:m,viewportSize:_},h)=>{let y=(0,W.Z)(eK,r),{search:f}=(0,s.TH)(),{closeupWithinMasonryEnabled:k}=(0,D.x4)(),S=new URLSearchParams(f).get("f")??"",x=(0,U.Z)(S),P=(0,u.useMemo)(()=>(o.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"].includes(e?.story_type??"")).find(e=>(0,$.HM)(e?.story_type??"")),[o]),{closeupMasonryModules:v,inclusiveFilters:b}=(0,V.Z)(y.entityId,P),T=b?(0,$.oV)(b.story_type??""):"",{inInclusiveEfficientRefinements:F}=(0,H.Z)(T),I=k&&F&&x,w=(0,K.Z)(I?{name:"ApiResource",options:{url:`/v3/pins/${y.entityId}/related/pins/filter/`,data:{fields:ev.Z,related_pins_tabs_selections:x}}}:null),{data:A,isAtEnd:L,isFetching:j,fetchMore:E,nextBookmark:R}=I?w:o,Z=(A||[]).filter(e=>!(l&&"story"===e.type&&e.story_type&&l.includes(e.story_type))),M=i&&R===eF.qx,z=A?A.length:0,G=(0,ew.Z)(Z),X=e=>!!("pin"===e.type||"story"===e.type&&(eI.v8.has(e.story_type)||154===e.container_type)),Y=(0,s.k6)(),q=(0,u.useRef)(n),Q=(0,eC.mB)(f).rs,J=Y?.action==="POP";(0,u.useEffect)(()=>{(0,eP.Z)({isFromBackButton:J,referringSource:Q,relatedModulesRef:h})},[J,f,Q,h]),(0,u.useEffect)(()=>{d(0!==z)},[z,d]);let ee=b&&(0,C.jsx)(O.default,{filter:T,story:b,viewParameter:m}),ea=!0;return(0,C.jsxs)(u.Fragment,{children:[G.length>0?G.map((l,n)=>{let r=(0,C.jsx)(ex,{closeupBody:a,initialSlotIndex:q.current,isFetching:j,pinKey:y,relatedPins:v,surface:i?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:g});0===n&&(q.current=0);let s=0;return Array.isArray(l)?(s+=l.length,r=(0,C.jsx)(ex,{closeupBody:a,closeupInclusiveFilters:ee,initialSlotIndex:q.current,isFetching:j,pinKey:y,relatedPins:[...ea?v:[],...l.filter(X)],surface:i?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:g},l[0].id),ea=!1):"story"===l.type&&(s+=l.objects?.length||1,r=(0,C.jsx)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,C.jsx)(el,{ref:h,clientTrackingParams:e,isRelatedPins10PercentVisible:t,pinKey:y,setRelatedPinsHeaderRef:p,slotIndex:q.current,story:l,topLevelTrafficSource:g,viewParameter:m,viewportSize:_})},l.id)),q.current+=s,r}):(0,C.jsx)(ex,{closeupBody:a,initialSlotIndex:q.current,isFetching:j,pinKey:y,relatedPins:v,topLevelTrafficSource:g}),(0,C.jsx)(c.gr,{fetchMore:E,isAtEnd:L,isFetching:j}),M&&z>0&&(0,C.jsx)(N.Z,{}),M&&0===z&&(0,C.jsx)(B.Z,{})]})});function ej(e){let{relatedResourceOptions:a,clientTrackingParams:l,isRelatedPins10PercentVisible:n,setRelatedPinsHeaderRef:i,pinKey:t,relatedPinsContainerRef:r,topLevelTrafficSource:s,viewParameter:o,viewportSize:d}=e,p=(0,K.Z)(a),g=(0,eT.Z)(),[m,_]=(0,u.useState)(null),h=(0,eb.Z)(),{cacheOneBarModules:f,cachedProductFilterOneBarModules:k}=(0,G.X)(),{closeupWithinMasonryEnabled:S}=(0,D.x4)(),x=(0,W.Z)(eK,t),{isInCloseupShoppingRefinementsExp:P,shouldFetchSLURPFields:v}=(0,y.Z)({pinKey:x}),[b,T]=(0,u.useState)(!0),F=(0,K.Z)(P&&h&&x.entityId?{name:"ApiResource",options:{url:`/v3/pins/${x.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...v?["pin.is_eligible_for_closeup_one_bar_refinements"]:[]],data:{applied_unified_filters:h}}}:null),I=F?.data?F:p,w=I?.data?.find(e=>"story"===e.type&&e.story_type&&e.story_type===z.vs),A=w?.objects;(0,u.useEffect)(()=>{P&&A&&f({baseCacheKey:x.entityId,oneBarModules:A})},[p,p.data,x.entityId,f,P,F,A]),(0,u.useEffect)(()=>{!m&&P&&_(p?.data?.find(e=>"story"===e.type&&e.story_type&&z.aW.has(e.story_type)))},[p,P,_,m]);let L=!P||P&&!g;return(0,C.jsxs)(c.xu,{ref:r,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[P&&m&&b&&(0,C.jsx)(el,{ref:r,clientTrackingParams:l,isRelatedPins10PercentVisible:n,pinKey:x,setRelatedPinsHeaderRef:i,slotIndex:0,story:m,topLevelTrafficSource:s,viewParameter:o,viewportSize:d}),A&&A.length>0&&k&&k.length>0&&!S&&(0,C.jsx)(eA,{oneBarModules:A,viewParameter:o,viewType:3}),g&&(0,C.jsx)(eL,{...e,ref:r,initialSlotIndex:1,isFilteredFeed:!0,relatedModulesFeedResource:F,setHasRelatedPins:T}),L&&(0,C.jsx)(eL,{...e,ref:r,excludeStories:P?[...z.aW,z.vs]:[],initialSlotIndex:g?1:0,relatedModulesFeedResource:p,setHasRelatedPins:T})]})}var eE=l(671121),eR=l(196748),eD=l(17841),eZ=l(4533),eM=l(81221),eN=l(201363),eB=l(719301),eO=l(663),ez=l(200301),eU=l(230201),eV=l(470205),eH=l(681698),eG=l(176714),eW=l(856853),e$=l(391696),eX=l(240571),eY=l(49104),eq=l(566431),eQ=l(296339),eJ=l(35169),e0=l(438303),e1=l(220347),e3=l(830031),e6=l(398006),e2=l(23641),e5=l(774838),e7=l(825605),e4=l(34550),e8=l(730448),e9=l(736328),ae=l(439048),aa=l(577356),al=l(575647),an=l(417525),ai=l(289747),at=l(76849),ar=l(715987),as=l(410890),ao=l(271875),ad=l(386385),au=l(490515),ac=l(241028),ap=l(74195);function ag(e,a,l){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let am=(0,u.lazy)(()=>l.e("96615").then(l.bind(l,430505))),a_=(0,u.lazy)(()=>l.e("54347").then(l.bind(l,416843))),ah={sm:80},ay=({verticalNavWidth:e})=>({BREAKPOINT:1056+e,WIDE_VIDEO_BREAKPOINT:998+e,WIDE_PDP_BREAKPOINT:1300+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e,SM_WITH_CAROUSEL_BREAKPOINT:960+e,BACK_BUTTON_WIDE_BREAKPOINT:1135+e,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:1465+e,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:1640+e,BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:780+e,BACK_BUTTON_NARROW_BREAKPOINT:630+e}),af={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},ak={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},aS={boxShadow:void 0,borderRadius:16};function ax({conversation_id:e,senderId:a,pinId:l}){(0,eH.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:a,pin:l}})}function aP({viewportSize:e,hasCarouselData:a}){return a&&["lg","md"].includes(e)}let av=({isWideVideo:e,viewportSize:a,peekCloseupEnabled:l})=>!["md","sm"].includes(a)&&!e||l&&"sm"!==a;class ab extends u.Component{constructor(...e){super(...e),ag(this,"state",this.props.initialState),ag(this,"removedPwtThumbnailsConstraint",!1),ag(this,"setRelatedPinsHeaderRef",e=>{this.relatedPinsHeaderRef=e}),ag(this,"mounted",!1),ag(this,"updateViewportSize",(0,e8.Z)(()=>{let{visualState:{carouselData:e}}=this.state,{pin:a,closeupWithinMasonryEnabled:l,peekCloseupEnabled:n}=this.props,{isWideVideo:i}=(0,eY.Z)((0,e0.Z)({pin:a}))||{};if(this.mounted){let a=function({isWideVideo:e,hasCarouselData:a,closeupWithinMasonryEnabled:l,verticalNavWidth:n}){let{BREAKPOINT:i,WIDE_VIDEO_BREAKPOINT:t,WIDE_PDP_BREAKPOINT:r,SM_BREAKPOINT:s,EXP_SM_BREAKPOINT:o,SM_WITH_CAROUSEL_BREAKPOINT:d}=ay({verticalNavWidth:n}),u=i,c=l?o:s;return(e&&(u=t),a&&(u=r,c=l?d:c),window?.innerWidth<c)?"sm":window?.innerWidth<u?"md":"lg"}({isWideVideo:!!i,hasCarouselData:!!e,closeupWithinMasonryEnabled:l,verticalNavWidth:this.props.verticalNavWidth}),t=aP({viewportSize:a,hasCarouselData:!!e}),{hideBackButton:r}=function({viewportSize:e,isWideCarousel:a,closeupWithinMasonryEnabled:l,peekCloseupEnabled:n,verticalNavWidth:i}){let t;let{BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:r,BACK_BUTTON_NARROW_BREAKPOINT:s,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:o,BACK_BUTTON_WIDE_BREAKPOINT:d}=ay({verticalNavWidth:i});return t=["md","sm"].includes(e)?a?r:s:a?o:d,{hideBackButton:!l&&!n&&window?.innerWidth<=t||n&&"sm"===e}}({viewportSize:a,isWideCarousel:t,closeupWithinMasonryEnabled:l,peekCloseupEnabled:n,verticalNavWidth:this.props.verticalNavWidth});this.setState({viewportSize:a,hideBackButton:r})}},50)),ag(this,"triggerCampaignCreation",()=>{let{pinId:e,requestContext:a}=this.props,{advertiser:l}=a,n=(0,an.xN)(l,e);this.setState({campaignCreationTriggered:!0}),window.location.assign(n)}),ag(this,"clickThroughTimer",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!0})}),ag(this,"executeClickthrough",e=>{let{pinId:a,clientTrackingParams:l,setPlacementExtraContext:n,viewer:i,trafficSource:t,logContextEvent:r,pinFormattedLink:s,setAbortNoActionPlacementTimeout:o}=this.props,{pin:d,didPinClickThrough:u,didShortClickThrough:c}=this.state,p=!!d.story_pin_data,{wasImageClicked:g,auxData:m,componentType:_=p?228:4,elementType:h=g?35:p?11157:361,viewType:y=3}=e||{},f=(0,ec.Z)({hasPin:!0,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data}),k={...this.props.getStringifiedCommerceAuxData(),...m||{}};if(i&&i.isAuth&&!u&&n&&(n({didPinClickThrough:!0}),this.setState({didPinClickThrough:!0})),p&&r({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:d.id,url:s}}),r({event_type:101,object_id_str:a,component:_,element:h,aux_data:k,clientTrackingParams:l}),r({event_type:12,object_id_str:a,view_type:y,view_parameter:f,component:_,element:h,aux_data:k,clientTrackingParams:l}),r({event_type:8948,view_type:y,view_parameter:f,component:_,element:h,object_id_str:a,aux_data:{click_type:"clickthrough",closeup_navigation_type:t&&(0,eq.sV)(t)?"deeplink":"click",...k}}),g){let e=setInterval(this.clickThroughTimer,12e4);this.setState({intervalId:e})}this.clickThroughStartTime=Date.now(),c&&this.setState({didShortClickThrough:!1}),o(!0)}),ag(this,"handleFocus",()=>{let{setPlacementExtraContext:e}=this.props;clearInterval(this.state.intervalId),e&&e({didLongClickThrough:!1})}),ag(this,"handleWindowFocus",()=>{if(this.clickThroughStartTime>0){let e=Date.now()-this.clickThroughStartTime<5e3;this.setState({didShortClickThrough:e}),this.clickThroughStartTime=0}}),ag(this,"handleSaveButtonClick",()=>{this.props.logContextEvent({event_type:101,object_id_str:this.state.pin.id,component:4,element:13306,clientTrackingParams:this.props.clientTrackingParams,aux_data:{...this.props.getStringifiedCommerceAuxData()}}),this.props.setAbortNoActionPlacementTimeout(!0)}),ag(this,"handleBackButtonClick",()=>{this.props.onHandleBackButtonClick()}),ag(this,"handleCarouselSwipe",e=>{let{visualState:a,firstLoadComplete:l}=this.state;l&&this.setState({visualState:{...a,carouselData:{...a.carouselData,index:e}}})}),ag(this,"dispatch",(e,a)=>this.setState(a=>(function(e,a){switch(a.type){case"gallerySelect":return{shopping:a.select};case"pinLoaded":{let l=e.myTry?{}:{myTry:{isDoneByMe:a.pin.done_by_me}};return{pin:a.pin,...l,firstLoadComplete:!0}}case"tryChange":return{myTry:{isDoneByMe:a.isDoneByMe}};default:throw"impossible"}})(a,e),a)),ag(this,"handleScroll",(0,e8.Z)(()=>{let{isOverRelatedPins:e}=this.state;if(this.relatedPinsHeaderRef){let a=ad.hu,l=this.relatedPinsHeaderRef.getBoundingClientRect().top<=a;l&&!e?this.setState({isOverRelatedPins:!0}):!l&&e&&this.setState({isOverRelatedPins:!1})}},10)),ag(this,"onWrapperClick",e=>{e.stopPropagation(),this.handleBackButtonClick()}),ag(this,"onRelatedInterestsBannerDismiss",()=>{this.setState({isRelatedInterestsBannerDismissed:!0})})}populatePlaceholderCarouselData(){let{pin:e}=this.props,{visualState:a}=this.state;this.setState({visualState:{...a,carouselData:(0,eO.Z)({carouselData:e.carousel_data,images:e.images,product:(e.rich_metadata||e.rich_summary)?.products?.[0]})}})}componentDidMount(){let{conversation_id:e,conversationOpen:a,dispatch:l,pin:n,pinId:i,senderId:t,setPlacementExtraContext:r,shouldShowInbox:s,toastManager:o,openInbox:d,trackInteraction:u}=this.props,{visualState:{carouselData:c}}=this.state,p=function({richPinData:e={}}){return e?.products?.[0]}({richPinData:n.rich_summary});this.mounted=!0,!c&&(p?.has_multi_images||p?.videos?.length)&&this.populatePlaceholderCarouselData(),e&&t&&i&&ax({conversation_id:e,senderId:t,pinId:i}),e&&(a(e),s&&d()),n.image_signature&&this.props.setMostRecentPinImage(n.image_signature),i&&this.props.setMostRecentPinId(i),r&&r({is_own_or_group_pin:this.isOwnOrGroupPin});let g=(0,e4.M0)().getItem(eZ.M8)||"";g&&g===i&&((0,e4.M0)().removeItem(eZ.M8),u({action:"trigger",item:"unauth-save-button-quicksave"}),(0,eE.Z)({description:n.description,entityId:n.id,link:n.link,promotedIsRemovable:n.promoted_is_removable,title:n.title},this.props.i18n).then(e=>{let{id:a,url:t,name:r}=e;l((0,ac.d)({boardId:a,url:t,title:r||"",pinId:i,nodeId:n.node_id})),o.showToast(({hideToast:a})=>(0,C.jsx)(as.Z,{boardName:e.name,boardUrl:e.url,onHide:a,pinImageUrl:n.images?.["236x"]?.url??""}))})),this.updateViewportSize(),window.addEventListener("resize",this.updateViewportSize),window.addEventListener("focus",this.handleWindowFocus),window?.location?.search?.includes("invite_code=")&&(0,eG.Z)()}componentDidUpdate(e){let{didRepin:a,isLandingPage:l,pin:n,pinId:i,conversation_id:t,senderId:r,pinResource:s,pinResource:{data:o},pwtSurfaceContext:d,setPlacementExtraContext:u,goToCampaignCreation:c}=this.props,{visualState:{carouselData:p},firstLoadComplete:g,campaignCreationTriggered:m}=this.state;this.visualDataDidUpdate(),!g||this.isWideCarousel()||this.removedPwtThumbnailsConstraint||(d?.removeConstraint("thumbnailsLoaded"),(0,e2.l7)("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),o&&!g&&(o.carousel_data&&(o.carousel_data.index=p?.index||0),this.dispatch({type:"pinLoaded",pin:o})),t&&r&&i&&e.pinId!==i&&ax({conversation_id:t,senderId:r,pinId:i}),!e.pinResource.data&&s.data&&!m&&c&&this.triggerCampaignCreation();let _={};((0,e4.M0)().getItem(eZ.W3)||"").includes(`/pin/${i}`)&&l&&(_.loginPageType="pin"),a&&(_.didRepin=!0),n.image_signature&&(_.pin_image_signature=n.image_signature),_.is_own_or_group_pin=this.isOwnOrGroupPin,!(0,eW.Z)(_)&&u&&u({..._})}componentWillUnmount(){window.removeEventListener("resize",this.updateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}get isOwnOrGroupPin(){let{pin:e,viewer:a}=this.props,l=(e||{}).board||{},n=l.is_collaborative&&(0,eN.Z)(l.collaborated_by_me,l.owner?.id,a);return!!(a.isAuth&&e.pinner?.id===a.id||n)}isWideCarousel(){let{viewportSize:e,visualState:{carouselData:a}}=this.state;return aP({viewportSize:e,hasCarouselData:!!a})}visualDataDidUpdate(){let e;let{pin:a,mainImage:l}=this.props,{visualState:{carouselData:n,mainImage:i},firstLoadComplete:t}=this.state;if(!t)return;let r=(0,eO.Z)({carouselData:a.carousel_data,images:a.images,product:(a.rich_metadata||a.rich_summary)?.products?.[0]}),s=(r?.carousel_slots||[])[0]||{},o=(0,ez.Z)(s.images),d=n?.index||0;e=r&&(r.carousel_slots?.length||0)>1?{mainImage:l,carouselData:{...r,index:d},previewImage:(0,at.Yf)(a.images?.["236x"])}:o?.url?{mainImage:{url:o.url,height:o.height||1,width:o.width||1}}:{mainImage:l,previewImage:(0,at.Yf)(a.images?.["236x"])},(n?.id!==e.carouselData?.id||JSON.stringify(n?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||i.url!==e.mainImage.url)&&(this.setState({visualState:e}),this.updateViewportSize())}renderBodyContent({isEligibleForStlFlyout:e,relatedResourceOptions:a,maxWidth:l}){let{experimentsClient:{checkExperiment:n},isLimitedLogin:i,pin:t,pinResource:r,routePush:s,showRepinOnInitialRender:o,trafficSource:d,viewer:g,orbacActingAs:m,showStructuredDescription:_,userBusinessRoleResource:h,closeupWithinMasonryEnabled:y,trendsData:f}=this.props,{id:k,sponsorship:S,story_pin_data_id:x,story_pin_data:P}=t,v=!!x,b=!!P?.is_deleted,{creator:T,sponsor:F,status:I}=S||{},{username:w}=T||{},{username:A}=F||{},{refresh:K}=r,L=(0,E.lJ)(g,m),{data:j}=h||{},R=!t.is_repin&&!!A,D=A===g.username?[eB.V3.OWNER]:j?.permissions,Z=A===g.username||!!D?.find(e=>eD.Z.includes(e)),N=A===g.username||!!D?.find(e=>eD.Z.includes(e)),{didShortClickThrough:B,viewportSize:O}=this.state,{isWideVideo:z}=(0,eY.Z)((0,e0.Z)({pin:t}))||{},U=(0,eX.rh)(t&&{aggregatedPinData:t.aggregated_pin_data&&{creatorAnalytics:t.aggregated_pin_data.creator_analytics&&{_30dRealtime:t.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:t.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:t.board&&{privacy:t.board.privacy},creatorAnalytics:t.creator_analytics&&{_30dRealtime:t.creator_analytics["30d_realtime"]&&{carId:t.creator_analytics["30d_realtime"].id}},isRepin:t.is_repin,pinner:t.pinner&&{entityId:t.pinner.id},storyPinDataId:t.story_pin_data_id,videos:t.videos&&{videoList:t.videos.video_list&&{__typename:"VideoList"}}},g,L),V=(0,p.CA)(f?.data),H=R&&g.isAuth&&n("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(Z&&0===I||N&&1===I),G=v&&(P?.pages?.length??0)>0,W=(0,eX.WE)(g,O,U,V,f,H),$=y?aS:ak;return(0,C.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:v?{...af.storyPinGradientStyle,width:"100%"}:{}},"data-test-id":"gradient",display:"flex",id:"gradient",justifyContent:"center",children:(0,C.jsx)(u.Fragment,{children:(0,C.jsx)(ai.Z,{isStoryPin:v,isWideVideo:z,children:(0,C.jsx)(eV.Z,{name:"CloseupBody",children:(0,C.jsxs)(c.xu,{children:[(0,C.jsxs)(c.xu,{alignItems:z?"center":void 0,direction:z?"column":void 0,display:z?"flex":void 0,children:[H&&"number"==typeof I&&(0,C.jsx)(c.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,C.jsx)(eV.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,C.jsx)(e7.Z,{children:(0,C.jsx)(a_,{business_role:D,creatorUsername:w??"",pinId:k,sponsorshipStatus:I})})})}),W&&!y&&(0,C.jsx)(c.xu,{"data-test-id":"PartnerModule",width:"lg"===O&&z?l:"100%",children:(0,C.jsx)(eV.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,C.jsx)(e7.Z,{children:(0,C.jsx)(am,{borderStyle:$,isStoryPin:v,pinKey:{type:"deprecated",data:t},showPinStats:U,trendsData:V?f?.data?.results:null,viewportSize:O})})})})]}),(0,C.jsx)(M,{data:r.data,didShortClickThrough:B,goBack:this.handleBackButtonClick,isDeletedStoryPin:!!b,isEligibleForStlFlyout:e,isRelatedPins10PercentVisible:this.props.isRelatedPins10PercentVisible,isStoryPin:v,isWideVideo:z,onClickThrough:this.executeClickthrough,onSaveButtonClick:this.handleSaveButtonClick,onUpdate:K,outerBodyStyle:v?null:$,pin:t,relatedResourceOptions:a,routePush:s,showPartnerModule:W,showPinStats:U,showRepinOnInitialRender:!i&&o,showStructuredDescription:_,showTrendsOnPinCloseup:V,trafficSource:d,trendsData:f,viewParameterType:G?157:void 0,viewType:3})]})})})})})}render(){let{abortNoActionPlacementTimeout:e,clientTrackingParams:a,contextPinIds:l,getAdditionalFields:n,getStringifiedCommerceAuxData:i,pin:t,pinDerivedData:r,topLevelTrafficSource:s,topLevelTrafficSourceDepth:o,trafficSource:d,searchQuery:p,storyPinTaggedProductsResource:_,pinResource:h,viewer:y,orbacActingAs:f,isCloseupRelatedPinsAboveTheFoldEnabled:k,isCommentAttachmentSelectorOpen:S,peekCloseupEnabled:x,isCommentThreadExpanded:P,isPinNoteExpanded:v,isProductDetailsExpanded:b,isInRemoveMagnifyingGlassVariant:T,setIsCommentAttachmentSelectorOpen:F,setIsCommentThreadExpanded:I,setIsPinNoteExpanded:w,setIsProductDetailsExpanded:K,closeupWithinMasonryEnabled:L,setAbortNoActionPlacementTimeout:j,isCloseupMediaViewerOpen:D,setIsCloseupMediaViewerOpen:Z,landingContext:M}=this.props,{showStructuredDescription:N,...B}=this.props,O=i(),{isOverRelatedPins:z,viewportSize:U,didShortClickThrough:V,firstLoadComplete:H,visualState:{carouselData:G}}=this.state,{isWideVideo:W}=(0,eY.Z)((0,e0.Z)({pin:t}))||{},$=!L&&av({isWideVideo:!!W,viewportSize:U,peekCloseupEnabled:x}),{recommendation_reason:X}=t,Y={name:"RelatedModulesResource",options:{additional_fields:n(),pin_id:t.id,context_pin_ids:l,homefeed_source_sig:X&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(X.reason)&&X.reason_id,page_size:12,search_query:p,source:d,top_level_source:s,top_level_source_depth:o,is_pdp:t.is_eligible_for_pdp,landing_context:M}},q=(0,E.q6)(y,t.pinner?.id,f),Q=!!t.id&&!q||L,{data:J}=_||{},ee=this.isWideCarousel(),ea=L?R.Gg:R.CI,el=ee&&$?R.Ch:ea,en=ee?R.Gb:R.Kn,ei=L||"lg"!==U?el:en-el,et=H&&(this.isWideCarousel()||L),er=et&&(0,C.jsx)(A,{disabled:!N||L,children:(0,C.jsx)(e1.Z,{containerId:"InnerScrollContainer",children:(0,C.jsx)(eR.Z,{carouselSlots:G?.carousel_slots??[],commerceData:O,onImageSelect:this.handleCarouselSwipe,pinId:t.id,selectedIndex:G?.index||0,size:"sm",surfaceType:"closeup",viewParameter:(0,ec.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!this.props.pin.rich_metadata?.products,hasPinRichMetadataArticle:!!this.props.pin.rich_metadata?.article,hasPinRichMetadataRecipe:!!this.props.pin.rich_metadata?.recipe,hasPinStoryPinData:!!this.props.pin.story_pin_data})})})}),es=et&&(0,C.jsx)(c.xu,{width:ah.sm}),eo=this.renderBodyContent({relatedResourceOptions:Y,storyPinTaggedProducts:J,maxWidth:en}),ed=(0,C.jsx)(g.Z,{isVideoPin:r.isVideoPin,pin:t,pinResource:h,topLevelTrafficSource:s,didShortClickThrough:V,firstLoadComplete:H,viewportSize:U,relatedModulesContent:Q?(0,C.jsx)(ej,{closeupBody:eo,isRelatedPins10PercentVisible:this.props.isRelatedPins10PercentVisible,pinKey:{type:"deprecated",data:t},relatedPinsContainerRef:this.props.relatedPinsContainerRef,relatedResourceOptions:Y,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:s,viewParameter:(0,ec.Z)({hasPin:!!t,hasPinRichMetadata:!!t.rich_metadata,hasPinRichMetadataProducts:!!t.rich_metadata?.products,hasPinRichMetadataArticle:!!t.rich_metadata?.article,hasPinRichMetadataRecipe:!!t.rich_metadata?.recipe,hasPinStoryPinData:!!t.story_pin_data}),viewportSize:U}):(0,C.jsx)(u.Fragment,{}),onWrapperClick:this.onWrapperClick,beforeBodyContent:er,afterBodyContent:es,bodyContent:eo,backButton:(0,C.jsx)(ae.Z,{handleScroll:this.handleScroll,onClick:this.handleBackButtonClick,showShadow:z})});return(0,C.jsx)(m.Z,{abortNoActionPlacementTimeout:e,beforeBodyContent:er,classProps:{...B,location:{pathname:"",search:"",hash:""}},classState:this.state,clientTrackingParams:a,commerceData:O,showCloseupContentRight:$,showProductDetailPage:!0,paneWidth:el,maxWidth:en,descriptionPaneWidth:ei,handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:ed,onRelatedInterestsBannerDismiss:this.onRelatedInterestsBannerDismiss,isCloseupMediaViewerOpen:D,isCloseupRelatedPinsAboveTheFoldEnabled:k,isCommentAttachmentSelectorOpen:S,isCommentThreadExpanded:P,isInRemoveMagnifyingGlassVariant:T,isPinNoteExpanded:v,isProductDetailsExpanded:b,peekCloseupEnabled:x,setIsCommentAttachmentSelectorOpen:F,setIsCommentThreadExpanded:I,setIsCloseupMediaViewerOpen:Z,setIsPinNoteExpanded:w,setIsProductDetailsExpanded:K,closeupWithinMasonryEnabled:L,setAbortNoActionPlacementTimeout:j})}}let aT=(0,f.Z)(function(e){let{clientTrackingParams:a,pin:l,pinResource:n,pinId:i,viewer:t,deepLinkBackGoesToBoard:s,goBack:o,routePush:d,trafficSource:c}=e,{logContextEvent:g}=(0,eU.v)(),m=(0,e9.Z)(),f=(0,ed.ZP)(),k=(0,e5.B)(),S=(0,ep.F)(),{checkExperiment:x}=S,P=!!(l.is_eligible_for_pdp&&!l.story_pin_data&&l.formatted_description?.components),[v,b]=(0,u.useState)(!1),[T,F]=(0,u.useState)(!1),[I,w]=(0,u.useState)(!1),[A,L]=(0,u.useState)(!1),[R,D]=(0,u.useState)(!1),[Z,M]=(0,u.useState)(!1),N=(0,u.useRef)(null),[B,O]=(0,u.useState)(!1);(0,u.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{O(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),a=N?.current;return N?.current&&e.observe(N?.current),()=>{a&&e.unobserve(a)}},[N]);let{setMostRecentPinId:z,setMostRecentPinImage:U}=(0,au.f)(),V=(0,al.Z)({type:"deprecated",data:l}),H=(0,eJ.Z)({type:"deprecated",data:l}),G=(0,eq.sY)(l.embed?.type)&&"gif"||!!l.is_eligible_for_pdp&&"productPin"||l.rich_summary?.type_name==="recipe"&&"recipePin"||l.story_pin_data_id&&"storyPin"||!!l.videos?.video_list&&"video"||"image",W="pin_closeup_lcp",$=(0,e6.PY)(W),{conversationOpen:X}=(0,ao.Z)(),Y=(0,ap.Z)(),{shouldFetchSLURPFields:q}=(0,y.Z)({pinKey:{type:"deprecated",data:l}}),{landingContext:Q}=(0,e$.Z)(),J=(0,j.Z)(),ee=(0,E.lJ)(t,J);(0,u.useEffect)(()=>{$&&(0,e6.ku)({stopwatchName:W,binaryAnnotationName:"pinType",value:G,annotationType:"STRING"})},[$,G]);let ea=l.sponsorship?.sponsor?.id,el=!l.is_repin&&!!ea,en=(0,K.Z)(ea&&el&&t.isAuth&&"storyPin"===G?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${ea}/me/ad_accounts_permissions/`}}:null),{onHandleBackButtonClick:ei}=(0,ar.Z)({logCommerceAuxData:!0,deepLinkBackGoesToBoard:s,element:13310,goBack:o,routePush:d,trafficSource:c,viewer:t,requestContext:k,pinKey:{type:"deprecated",data:l}},g),et=t.isAuth&&(0,p.Gv)({orbacSubjectId:ee,pinIsRepin:l.is_repin,pinPinnerId:l.pinner?.id,viewerId:t.id,viewerIsPartner:t.isPartner}),{data:er,isLoaded:es}=(0,K.Z)(et?{name:"ApiResource",options:{url:`/v3/trends/partner/${t.id||""}/trends_for_pin/${l.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:eo}=(0,_.Z)(),eu=t.isAuth&&x("closeup_dweb_remove_magnifying_glass").anyEnabled,ec=(0,h.Z)({pin:l,pinId:i,pinResource:n}),{getMainPinImage:eg}=(0,eQ.Z)({pinKey:{type:"deprecated",data:l}}),em=(0,u.useCallback)(()=>{let e=q?["pin.is_eligible_for_closeup_one_bar_refinements"]:[],a=x("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return a&&(["control_pwt","enabled_pwt"].includes(a)&&x("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==a&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[q,x]);return(0,C.jsx)(ab,{...e,abortNoActionPlacementTimeout:v,clientTrackingParams:a,closeupWithinMasonryEnabled:eo,conversationOpen:X,dispatch:(0,r.I0)(),experimentsClient:S,getAdditionalFields:em,getSterlingURL:(0,eM.Z)(),getStringifiedCommerceAuxData:V,i18n:f,initialState:ec,isCloseupMediaViewerOpen:Z,isCloseupRelatedPinsAboveTheFoldEnabled:!0,isCommentAttachmentSelectorOpen:T,isCommentThreadExpanded:I,isInRemoveMagnifyingGlassVariant:eu,isPinNoteExpanded:A,isProductDetailsExpanded:R,isRelatedPins10PercentVisible:B,landingContext:Q,logContextEvent:g,mainImage:eg(),onHandleBackButtonClick:ei,orbacActingAs:J,peekCloseupEnabled:!eo,pinFormattedLink:H,pwtSurfaceContext:(0,e3.E)(),relatedPinsContainerRef:N,requestContext:k,setAbortNoActionPlacementTimeout:b,setIsCloseupMediaViewerOpen:M,setIsCommentAttachmentSelectorOpen:F,setIsCommentThreadExpanded:w,setIsPinNoteExpanded:L,setIsProductDetailsExpanded:D,setMostRecentPinId:z,setMostRecentPinImage:U,showStructuredDescription:P,toastManager:(0,aa.F9)(),trackInteraction:m,trendsData:{data:er,isLoaded:!et||es},userBusinessRoleResource:en,verticalNavWidth:Y})});var aF=l(400962),aI=l(250704),aw=l(267092),aC=l(228612);function aA(e){return(0,C.jsx)(o.l6,{...e,CloseupComponent:aT})}function aK(e){let a=(0,r.I0)(),l=(0,L.Z)(),n=(0,s.UO)(),i=(0,aF.aX)(),t=(0,s.TH)(),o=(0,aC.S6)()(n.id),c=(0,aI.Z)((t?.state||{}).trackingParams,o?.tracking_params),p={...e,history:(0,s.k6)(),location:(0,s.TH)(),clientTrackingParams:c,params:n,requestContext:(0,e5.B)(),searchPinCloseupViewed:(e,l)=>a((0,aw.Y4)(e,l)),viewer:l},{checkExperiment:g}=(0,ep.F)();return(0,C.jsx)(d.Z,{orbacSubjectId:(0,E.lJ)(l,(0,j.Z)()),pinId:n.id||"",children:({pinResource:e})=>(0,u.createElement)(aA,{...p,key:n.id,checkExperiment:g,clientTrackingParams:c,currentHistoryStack:i,pinResource:e})})}},210616:function(e,a,l){l.d(a,{Z:()=>i});var n=l(405897);function i({isFromBackButton:e,referringSource:a,relatedModulesRef:l}){!e&&l?.current&&a===n.i.SHOPPING_FILTER&&setTimeout(()=>{l.current?.scrollIntoView(),window.scrollBy(0,-100)},10)}},17841:function(e,a,l){l.d(a,{Z:()=>i});var n=l(719301);let i=[n.gO.ADMIN,n.gO.CAMPAIGN_MANAGER]},143040:function(e,a,l){l.d(a,{Z:()=>g});var n=l(667294),i=l(883119),t=l(361004),r=l(138596),s=l(216975),o=l(696749),d=l(785893);function u({minutes:e}){let a=(0,r.ZP)(),l=e%60,n=Math.floor(e/60),o=l>0?(0,s.nk)(a.bt("{{ mins }}", "{{ mins }}min", "closeup.storyPin.basicsLayout.cookTimeUnit", undefined, true),{mins:l}).join(""):"",u=n>0?(0,s.nk)(a.bt("{{ hours }}", "{{ hours }}hr", "closeup.storyPin.basicsLayout.cookTimeUnit", undefined, true),{hours:n}).join(""):"";return(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:(0,s.nk)(a.bt("{{ hoursText }} {{ minsText }}", "{{ hoursText }} {{ minsText }}", "closeup.storyPin.basicsLayout.cookTime", undefined, true),{hoursText:u,minsText:o})})})}function c({servingSize:e}){let a=(0,r.ZP)(),l=(0,o.Z)(a.nbt(["{{servingSize}} ", "{{servingSize}} ", "{{servingSize}} "], e, "number of servings for a recipe", true),{servingSize:e});return(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:(0,s.nk)(a.bt("{{ servingText }}", "{{ servingText }}", "closeup.storyPin.basicsLayout.servings", undefined, true),{servingText:l})})})}function p({difficulty:e}){let a=(0,r.ZP)(),l={1:a.bt("", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:a.bt("", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:a.bt("", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},n=e?l[e]:null;if(!n)return null;let o=a.bt(" :", "Difficulty:", "closeup.storyPin.basicsLayout.difficultyLevelLabel", undefined, true);return(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:(0,s.nk)(a.bt("{{ label }} {{ difficultyLevel }}", "{{ label }} {{ difficultyLevel }}", "closeup.storyPin.basicsLayout.difficulty", undefined, true),{label:o,difficultyLevel:n})})})}function g({keyValueBlocks:e,hasMetadataTemplateType:a}){if(!a)return null;let l=e||[];return(0,d.jsx)(i.xu,{"data-test-id":"categories-metadata",children:(l||[]).map((e,a)=>{let r=`kv-${a}`,s=function(e){let a=e.category_type??e.categoryType,{value:l}=e;if(2===a)return(0,d.jsx)(p,{difficulty:l});let n=parseInt(l,10);return 1===a?(0,d.jsx)(c,{servingSize:n}):0===a&&n?(0,d.jsx)(u,{minutes:n}):null}(e);return s?a<l.length-1?(0,d.jsxs)(n.Fragment,{children:[s,(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:" \xb7 "})})]},r):(0,d.jsx)(n.Fragment,{children:s},r):null}).filter(e=>null!=e)})}},233511:function(e,a,l){l.d(a,{R:()=>aa,Z:()=>al});var n,i,t,r,s,o=l(667294),d=l(581722),u=l(616550),c=l(883119);l(167912);var p=l(907022),g=l(79271),m=l(575647),_=l(785893);let h=void 0!==n?n:n=l(351786),y=({children:e,clientTrackingParams:a,pinKey:l,pinImageUrl:n,closeupNavigationType:i})=>{let t=(0,p.Z)(h,l),r=(0,m.Z)(t),{entityId:s}=t,o=t.isEligibleForPdp?r():{};return(0,_.jsx)(g.F,{clientTrackingParams:a,closeupImpressionType:13,closeupNavigationType:i,componentType:85,contextLogData:o,impressionAuxFields:{imageURL:n,clientTrackingParams:a},impressionType:"Pin",loggingId:s,slotIndex:-1,viewData:{pin_id:s},viewType:3,children:({impressionTrackerRef:a})=>(0,_.jsx)(c.xu,{ref:a,"data-test-id":"closeup-visual-container",children:e})})};var f=l(143040),k=l(930622),S=l(236739),x=l(752031),P=l(361004),v=l(283220),b=l(138596),T=l(216975);let F=e=>{if(!e)return null;let{categorizedIngredients:a}=e.recipe;return a&&a.length>0?{...e,categorizedIngredients:a}:null};var I=l(589771),w=l(569377),C=l(438303),A=l(132781),K=l(147950),L=l(692763),j=l(680589),E=l(133546),R=l(488598),D=l(1769),Z=l(977854),M=l(292917);let N=e=>e.replace(/\s+/g," "),B=void 0!==i?i:i=l(591503);class O extends o.Component{componentDidMount(){let{onUpdate:e}=this.props;e?.()}componentDidUpdate(e){if(e.showMore!==this.props.showMore){let{onUpdate:e}=this.props;e?.()}}render(){let{carouselInfo:e,isArticle:a,pin:l,tutorialDescription:n,showMore:i,onToggle:t,i18n:r,closeupWithinMasonryEnabled:s,peekCloseupEnabled:o,showSponsorshipAttribution:d,hasAffiliateLink:u,hasAffiliateProducts:p,instagramPostLink:g}=this.props,{closeupUnifiedDescription:m,userMentionTags:h,storyPinData:y}=l,f=(m||"").trim(),x=e?.carouselData;if(x){let e=x.carousel_slots??[],a=x.index??0;e[a]&&e[a].details&&(f=e[a].details)}let b=f&&n&&n.trim()===f,E=f?N(f):"";(E=!i&&E&&E.length?(0,j.ZP)(E,a?195:200):E)&&h&&(E=(0,_.jsx)(v.Z,{description:E,mentionLinkColor:"shopping",shouldAdjustOffset:!0,userMentionTags:h.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))}));let B=f&&f.length>(a?195:200),O=null,z=F((0,I.Z)((0,w.Z)((0,C.Z)(this.props)))),U=y?.metadata?.basics;if(U){let e;let{keyValueBlocks:a,listBlocks:n}=U;l&&l.domain&&l.link&&(e={domain:l.domain,url:l.link});let i=[];e?.domain&&(i=[...i,e.domain]);let t=(a||[]).map(e=>(0,D.Z)(e.categoryType,e.value,r)).filter(e=>""!==e);t.length>0&&(i=[...i,...t]),(n??[]).forEach(({heading:e,blocks:a})=>{e&&(i=[...i,e]),(a??[]).forEach(({blocks:e})=>{(e??[]).forEach(({text:e})=>{e&&(i=[...i,e])})})}),O=(0,Z.Z)(i)}else if(z){let{pin:e}=this.props,{prepTime:a,cookTime:l,totalTime:n,servingSummary:i,serves:t}=z.recipe,r=n||l||a;if(l&&a){let e=l.h||0,n=l.m||0;r={h:e+(a.h||0),m:n+(a.m||0)}}let s=r?(0,L.Z)((0,K.X)(r),this.props.i18n):null,o=e.richMetadata?.recipe?.aggregateRating?.reviewCount;i&&(O=t?(0,_.jsxs)(c.xv,{inline:!0,size:P.n,children:[t," ",this.props.i18n.bt(".", "servings", "closeup.CardSourceDescriptionText.servesLabel", undefined, true)]},"recipe"):(0,_.jsx)(c.xv,{inline:!0,size:"200",children:i},"recipe")),s&&(O=O?(0,T.nk)("{{ timeLabel }} \xb7 {{ description }}",{timeLabel:s,description:O}):s),"number"==typeof o&&o>0&&(O=O?(0,T.nk)(this.props.i18n.bt(" ({{ reviewCount }})  {{ description }}", "{{ reviewCount }} reviews  {{ description }}", "number of reviews on a recipe and the description", undefined, true),{reviewCount:o,description:O}):o);let d=e.richMetadata?.recipe?.aggregateRating?.ratingValue,u=Number(d);Number.isNaN(u)&&(u=0),u>=.25&&(O=O?(0,T.nk)("{{ ratings }} {{ description }}",{ratings:(0,_.jsx)(A.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:d},d),description:O}):(0,_.jsx)(A.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:d},d))}if(!E||b)return null;let V=4;return s?V=0:o&&(V=2),f?(0,_.jsxs)(c.xu,{marginBottom:s?0:d&&(u||p)?2:4,marginTop:V,children:[(0,_.jsxs)(S.Z,{descriptionDir:(0,M.j)(f),children:[(0,_.jsx)(k.Z,{description:f||"",userMentionTags:h||[]}),g]}),d&&(0,_.jsx)(c.xu,{marginTop:1,children:(0,_.jsx)(R.Z,{hasAffiliateLink:u,hasAffiliateProducts:p})})]}):(0,_.jsxs)("span",{children:[(0,_.jsx)(c.xv,{color:s?"subtle":void 0,inline:!0,size:"200",children:(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"description",position:"relative",children:O?(0,T.nk)("{{ recipeInfo }} \xb7 {{ description }}",{recipeInfo:O,description:E}):E})}),B&&!i&&(0,_.jsx)(c.xu,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,_.jsx)(c.iP,{fullWidth:!1,onTap:t,children:(0,_.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:this.props.i18n.bt("", "More", " - ", undefined, true)})})})]})}}let z=function(e){let a=(0,b.ZP)(),{pinKey:l}=e,n=(0,p.Z)(B,l),{closeupWithinMasonryEnabled:i,peekCloseupEnabled:t}=(0,E.x4)(),{carouselInfo:r}=(0,x.r)();return(0,_.jsx)(O,{...e,carouselInfo:r,closeupWithinMasonryEnabled:i,i18n:a,peekCloseupEnabled:t,pin:n})},U=(e,a)=>e.length>300?e:e.length+a.length+3>300?`${e} ${a}...`:`${e} ${a}`,V=e=>e.split(" ").map(e=>e.trim()).reduce(U,""),H=void 0!==t?t:t=l(879971);function G(e){let[a,l]=(0,o.useState)(!1),{pinKey:n,onUpdate:i,showSponsorshipAttribution:t,hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:d}=e,u=(0,p.Z)(H,n);if(!u.entityId)return null;let g=!!u.aggregatedPinData,m=!!u.description,h=!!u.richMetadata?.recipe,y=!!u.richMetadata?.article,f=u.richMetadata?.article?.description,k=!!u.richMetadata?.tutorial,S=u.richMetadata?.tutorial?.description??"",x=y&&!h&&!k;return(0,_.jsx)(o.Fragment,{children:(0,_.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:m||g?(0,_.jsx)(z,{hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:d,isArticle:x,onToggle:()=>l(!0),onUpdate:i,pinKey:u,showMore:a,showSponsorshipAttribution:t,tutorialDescription:S}):x&&f&&(0,_.jsx)(c.xu,{marginBottom:3,children:(0,_.jsx)(c.xv,{children:V(f)})})})})}var W=l(201105);function $({mediaAttribution:{author:e,authorUrl:a,ccUrl:l,link:n,mediaType:i,providerName:t}}){let r=(0,b.ZP)(),s=!!(t&&n);if(!e&&!s)return null;let o=s?r.bt(": {{ provider }}", "from {{ provider }}", "closeup.attribution.imageWithProvider", undefined, true):null;return e&&(o="VIDEO"===i?s?r.bt("   {{ author }}  {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.attribution.videoWithAuthorProvider", undefined, true):r.bt(" : {{ author }}", "Video by {{ author }}", "closeup.attribution.videoWithAuthor", undefined, true):s?r.bt("   {{ author }}  {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.attribution.photoWithAuthorProvider", undefined, true):r.bt(" : {{ author }}", "Photo by {{ author }}", "closeup.attribution.photoWithAuthor", undefined, true)),(0,_.jsx)(c.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,_.jsxs)(c.xv,{color:"default",size:"200",children:[!!o&&(0,_.jsx)(W.Z,{text:(0,T.nk)(o,{author:(0,_.jsx)(c.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"hover",children:(0,_.jsx)(c.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,_.jsx)(c.xu,{display:"inlineBlock",marginEnd:1,children:(0,_.jsx)(c.rU,{display:"inlineBlock",href:n??"",rel:"nofollow",underline:"always",children:t},"provider")}):null})}),l&&(0,_.jsx)(c.rU,{href:l,rel:"nofollow",children:r.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})]})})}function X({attribution:{authorName:e,authorUrl:a,ccUrl:l,providerName:n,url:i},embed:t}){let r=(0,b.ZP)(),s=!!(n&&i);if(!e&&!s)return null;let o=null;return s?o=e?t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r.bt("   {{ author }}  {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.attribution.videoWithAuthorProvider", undefined, true):r.bt("   {{ author }}  {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.attribution.photoWithAuthorProvider", undefined, true):r.bt(": {{ provider }}", "from {{ provider }}", "closeup.attribution.imageWithProvider", undefined, true):e&&(o=t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r.bt(" : {{ author }}", "Video by {{ author }}", "closeup.attribution.videoWithAuthor", undefined, true):r.bt(" : {{ author }}", "Photo by {{ author }}", "closeup.attribution.photoWithAuthor", undefined, true)),(0,_.jsx)(c.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,_.jsxs)(c.xv,{color:"default",size:"200",children:[!!o&&(0,_.jsx)(W.Z,{text:(0,T.nk)(o,{author:(0,_.jsx)(c.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"hover",children:(0,_.jsx)(c.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,_.jsx)(c.xu,{display:"inlineBlock",marginEnd:1,children:(0,_.jsx)(c.rU,{display:"inlineBlock",href:i??"",rel:"nofollow",underline:"always",children:n},"provider")}):null})}),l&&(0,_.jsx)(c.rU,{href:l,rel:"nofollow",children:r.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})]})})}let Y=void 0!==r?r:r=l(888711),q=e=>{let{isStoryPin:a,pinKey:l,onUpdate:n,instagramPostLink:i}=e,t=(0,p.Z)(Y,l),r=t.entityId&&(!!t.attribution?.providerUrl&&!!t.attribution.providerName||!!t.attribution?.authorName),s=t.entityId&&(!!t.mediaAttribution?.link&&!!t.mediaAttribution.providerName||!!t.mediaAttribution?.author),o=null;if(r||s){let{closeupUnifiedDescription:e}=t,a=(e||"").trim()?"{{ credit }}":"{{ credit }}";o=t.mediaAttribution?(0,T.nk)(a,{credit:t.mediaAttribution&&(0,_.jsx)($,{mediaAttribution:{author:t.mediaAttribution.author,authorUrl:t.mediaAttribution.authorUrl,ccUrl:t.mediaAttribution.ccUrl,link:t.mediaAttribution.link,mediaType:t.mediaAttribution.mediaType,providerName:t.mediaAttribution.providerName}},"article-pin")}):(0,T.nk)(a,{credit:t.attribution&&(0,_.jsx)(X,{attribution:{authorName:t.attribution.authorName,authorUrl:t.attribution.authorUrl,ccUrl:t.attribution.ccUrl,providerName:t.attribution.providerName,url:t.attribution.url},embed:t.embed&&{type:t.embed.type,src:t.embed.src,subtype:t.embed.subtype}},"article-pin")})}return(0,_.jsxs)(c.xv,{inline:!0,children:[o,!a&&(0,_.jsx)(G,{instagramPostLink:i,onUpdate:n,pinKey:t})]})};var Q=l(186266),J=l(661376);function ee({creatorId:e,children:a}){let{data:l}=(0,J.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:e}});return a(l)}var ea=l(721956),el=l(290852),en=l(301055),ei=l(788730),et=l(879029),er=l(928585),es=l(483306),eo=l(382167),ed=l(935009),eu=l(230201),ec=l(239321),ep=l(470205),eg=l(173874),em=l(613567),e_=l(774838),eh=l(825605),ey=l(698808),ef=l(605203),ek=l(902123),eS=l(601871),ex=l(15392),eP=l(427488);function ev({children:e}){let{isCloseupRelatedPinsAboveTheFoldEnabled:a,closeupWithinMasonryEnabled:l,peekCloseupEnabled:n}=(0,E.x4)(),i=8,t=4;return n?(i=0,t=ex.O5):l&&(i=void 0,t=void 0),(0,_.jsx)(c.xu,{marginBottom:i,marginTop:t,minHeight:a?void 0:48,children:e})}var eb=l(271245);let eT=(0,eb.Z)(()=>l.e("35563").then(l.bind(l,176658)),void 0,e=>176658,"app-www-closeup-duplo-PinRecipeRating"),eF=(0,eb.Z)(()=>l.e("32077").then(l.bind(l,657361)),void 0,e=>657361,"app-common-react-components-GroupBoardCloseup-SavedInfo"),eI=(0,eb.Z)(()=>l.e("83287").then(l.bind(l,419700)),void 0,e=>419700,"app-common-react-components-closeup-CloseupCommentModule-UnifiedCommentModule"),ew=(0,o.lazy)(()=>l.e("96615").then(l.bind(l,430505))),eC=void 0!==s?s:s=l(407526);function eA({pinKey:e,clientTrackingParams:a,isStoryPin:l,isVideoPin:n,isDeletedStoryPin:i,viewParameter:t,trafficSource:r,details:s,viewer:d,onClickThrough:g,onCloseupBodyUpdate:m,orbacActingAs:h,outerPaddingSize:y,viewportSize:P,shouldShowPartnerModule:v,trendsData:T,showTrendsOnPinCloseup:F,showPinStats:I,clickthroughUrlLink:w,showShoppingModule:C}){let A;let K=(0,b.ZP)(),{checkExperiment:L}=(0,em.F)(),{logContextEvent:j}=(0,eu.v)(),{carouselInfo:D}=(0,x.r)(),Z=(0,p.Z)(eC,e),{getShowClickthroughLink:N,makeDetailsArgs:B}=(0,ea.ZP)(Z),{creatorId:O,showCreatorCard:z}=B(!!i),{sideBySideRedesignFastFollowsExpGroup:U,sideBySideFullWidthCTAEnabled:V}=(0,er.Z)(),H="enabled_cta_near_save"===U,G="enabled_persistent_cta"===U&&!n,W=N(l),$=(0,es.Z)({clientTrackingParams:a,pinKey:Z,pinId:Z.entityId,viewParameter:t,trafficSource:r}),X=(0,en.Z)(Z,d),{closeupUnifiedDescription:Y,closeupUserNote:J,commentsDisabled:eb,displayableCommunityContentType:eA,isEligibleForAggregatedComments:eK,userMentionTags:eL}=Z,ej=Y?.trim(),eE=(0,el.Z)({pinKey:Z,orbacActingAs:h,viewer:d}),eR=Z.storyPinData?.metadata?.basics?.keyValueBlocks?.map(({categoryType:e,value:a})=>({categoryType:e,value:a}))??[],eD=eR.length>0,eZ=(0,et.Z)(J)||!!Z.richMetadata,eM=Z.richMetadata?.recipe?.name&&Z.richMetadata.recipe.categorizedIngredients&&Z.richMetadata.recipe.categorizedIngredients.length>0,{closeupWithinMasonryEnabled:eN,isCloseupRelatedPinsAboveTheFoldEnabled:eB,peekCloseupEnabled:eO}=(0,E.x4)(),ez=(0,eS.q6)(d,Z.pinner?.entityId,h),[eU,eV]=(0,o.useState)(!1),eH=(0,u.TH)(),{isAuthenticated:eG,userAgent:{isMobile:eW}}=(0,e_.B)(),e$=!!eK&&eG&&!eb&&L("ce_dweb_new_closeup_comment_module").anyEnabled&&1===eA,eX=(0,_.jsx)(ek.q,{children:({hovered:e,onMouseEnter:l,onMouseLeave:n})=>(0,_.jsx)(ec.Z,{clientTrackingParams:a,hovered:e,pinKey:Z,trafficSource:r,viewType:3,children:(0,_.jsx)(c.xu,{onMouseEnter:l,onMouseLeave:n,children:(0,_.jsx)(eP.Z,{carouselInfo:D,isLink:W,onClick:$,onTitleCheck:eV,pinKey:Z})})})}),eY=()=>z&&(0,_.jsx)(Q.Z,{"data-testid":"closeup-metadata-creator",marginTop:eN?(y??ex.ER)/2:0,paddingBottom:eN?(y??ex.ER)/2:0,paddingRight:eN?0:8,children:(0,_.jsx)(ee,{creatorId:O,children:e=>!!e&&(0,_.jsx)(ev,{children:(0,_.jsx)(eo.default,{clientTrackingParams:a,componentType:126,impressionType:"User",input:Z,isORBACProfileManager:ez,loggingId:O,officialUser:e,slotIndex:0,viewParameter:t,viewType:3})})})}),eq=e$?(0,_.jsx)(eI,{pinKey:Z,viewParameter:t}):null,eQ=L("dweb_closeup_links").anyEnabled,eJ=Z.isInstagramApi&&Z.nativeCreator?.websiteUrl&&Z.nativeCreator?.isPrimaryWebsiteVerified,{link:e0,trackedLink:e1}=Z||{};if(D&&D.carouselData&&D.carouselData.id){let{carousel_slots:e=[],index:a=0}=D.carouselData;A=e[a]&&e[a].link}let e3=A||e1||e0||"",e6=eJ&&eQ?Z.nativeCreator.websiteUrl:(0,ef.Z)(e3)??e3,e2=!eG&&(0,eg.am)(eH),e5=!!(Z.promoter&&!Z.isDownstreamPromotion)&&Z.promoter?.entityId===Z.nativeCreator?.entityId,{sponsorship:e7,storyPinData:e4,affiliateLink:e8}=Z,e9=!!e8,ae=!!e4?.hasAffiliateProducts,aa=(!!e7?.sponsor||ae||e9)&&(e6||C)&&!e5&&!e2,al=d.isAuth&&Z.originPin?.originPinner?.entityId===d.id,an=W&&e6&&(al||!Z.isGoLinkless),ai=eO&&!eN?y??ex.ER:0,at=()=>an&&(0,_.jsx)(Q.Z,{marginTop:eO?y??ex.ER:void 0,paddingBottom:eO?(y??ex.ER)/2:void 0,paddingRight:ai,children:(0,_.jsx)(c.xu,{"data-test-id":"visit-site-button",marginTop:eB?void 0:5,children:(0,_.jsx)(ed.Z,{clientTrackingParams:a,color:"gray",fullWidth:V,link:e6,onClickThrough:()=>{eQ&&j({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:eJ}}),g()},pinKey:Z,text:K.bt(" -", "Visit site", "closeup.defaultMetadata.visitButton", undefined, true)})})});return(0,_.jsxs)(c.xu,{marginTop:eN?4:void 0,children:[v&&(l||eN)&&(0,_.jsx)(Q.Z,{paddingRight:(y??ex.ER)/2,children:(0,_.jsx)(c.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,_.jsx)(ep.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,_.jsx)(eh.Z,{children:(0,_.jsx)(ew,{borderStyle:ei.te,isStoryPin:l,pinKey:Z,showPinStats:I,trendsData:F?T?.data?.results:null,viewportSize:P})})})})}),(0,_.jsxs)(c.xu,{alignItems:eN?"start":void 0,display:eN?"flex":void 0,justifyContent:eN?"between":void 0,children:[(0,_.jsxs)(c.kC.Item,{flexBasis:!eN||H||G||!an?"100%":"77%",children:["enabled_url_cta"===U&&w,!eU&&(0,_.jsx)(Q.Z,{paddingRight:eN?void 0:y,children:(0,_.jsx)(c.xu,{color:"light","data-test-id":"closeup-title",display:"inlineBlock",children:eX})}),eO&&eY(),(0,_.jsx)(c.xu,{direction:eO?"column":void 0,display:eO?"flex":void 0,height:eO?"100%":void 0,children:(0,_.jsxs)(Q.Z,{paddingRight:y,children:[eD&&(0,_.jsx)(c.xu,{marginTop:eN?ex.O5:4,children:(0,_.jsx)(f.Z,{hasMetadataTemplateType:!!Z.storyPinData?.metadata?.templateType,keyValueBlocks:eR})}),!eD&&!!eM&&(0,_.jsx)(c.xu,{marginTop:eN?ex.O5:void 0,children:(0,_.jsx)(eT,{boldText:!1,fallback:(0,_.jsx)(c.xH,{accessibilityLabel:K.bt("    ", "Loading Pin recipe rating", "closeupDefaultMetadata.PinRecipeRating.loading.label", undefined, true),show:!0}),pinKey:Z,textSize:"300"})}),(0,_.jsxs)(o.Fragment,{children:[!!(l&&ej&&eZ)&&(0,_.jsx)(c.xu,{marginTop:eN?ex.O5:8,width:eN?"100%":void 0,children:(0,_.jsx)(S.Z,{descriptionDir:(0,M.j)(ej),children:(0,_.jsx)(k.Z,{description:ej||"",userMentionTags:eL?.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))})})}),!l&&(Z.attribution||ej)&&eN&&(0,_.jsx)(c.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,_.jsx)(c.xu,{marginBottom:eN&&!eM?ex.O5:void 0,marginTop:eN?ex.O5:void 0,width:eB?"100%":void 0,children:(0,_.jsx)(q,{instagramPostLink:(0,_.jsx)(ey.Z,{closeupLinkEnabled:eQ,nativeCreatorCloseupLinkEligible:!!eJ,peekCloseupEnabled:eO,uriComponent:e3}),isStoryPin:l,onUpdate:m,pinKey:Z})})}),aa&&(eW||eN)&&(0,_.jsx)(c.xu,{marginTop:2,children:(0,_.jsx)(R.Z,{hasAffiliateLink:e9,hasAffiliateProducts:ae})})]}),eq]})}),eN&&eY()]}),eN&&!H&&(!G||n)&&(0,_.jsx)(c.xu,{alignItems:"stretch",display:V?"block":"flex",flex:"grow",justifyContent:"end",children:at()})]}),eO&&at(),(0,_.jsxs)(o.Fragment,{children:[s,!!X&&!eB&&(0,_.jsx)(c.xu,{marginTop:ex.O5,children:(0,_.jsx)(eF,{pinKey:Z,showFavoritesInformation:!i&&eE})})]})]})}var eK=l(971116),eL=l(481671),ej=l(408304),eE=l(19817),eR=l(216762),eD=l(64151);let eZ=(0,o.lazy)(()=>l.e("99339").then(l.bind(l,403020))),eM=(0,eb.Z)(()=>Promise.resolve().then(l.bind(l,382167)),void 0,e=>382167,"app-common-react-components-CreatorCard"),eN=(0,eb.Z)(()=>l.e("34966").then(l.bind(l,670959)),void 0,e=>670959,"app-common-react-components-closeup-CloseupBody-CloseupPinNote-CloseupPinNote");function eB({isCommentSectionOpen:e,isStoryPin:a,isVideoPin:l,isDeletedStoryPin:n,orbacActingAs:i,orbacSubjectId:t,onCommentSectionClick:r,onCloseupBodyUpdate:s,outerPaddingSize:d=ex.g9,pin:p,viewer:g,shouldShowStlCarouselForOwnPin:m,storyPinTaggedProducts:h=[],taggedProducts:y,trafficSource:f,viewType:k,closeupContext:S,isLoadingNewlyCreatedComment:x,viewParameter:P,detailsScrollContainerRef:v,clientTrackingParams:T}){let{makeDetailsArgs:A}=(0,ea.ZP)({type:"deprecated",data:p}),{checkExperiment:K}=(0,em.F)(),{isShopTheLook:L,showCreatorCard:j,creatorId:E,showCanonicalComments:D}=A(!!n),Z=(0,b.ZP)(),M=(0,en.Z)({type:"deprecated",data:p},g),N=(0,u.TH)(),{isAuthenticated:B}=(0,e_.B)(),O=K("dweb_closeup_links").anyEnabled,z=p.is_instagram_api&&p.native_creator?.website_url&&p.native_creator?.is_primary_website_verified,{link:U,tracked_link:V}=p,H=F((0,I.Z)((0,w.Z)((0,C.Z)({pin:p})))),G=(y||[]).filter(e=>(function(e){if("pin_tag"===e.type){let{x_percent:a,y_percent:l}=e;if(a>0&&a<=100&&l>0&&l<=100)return!0}return!1})(e)),W=(0,eS.q6)(g,p.pinner?.id,i),{descriptionPaneWidth:$,closeupWithinMasonryEnabled:X,isCloseupRelatedPinsAboveTheFoldEnabled:Y,peekCloseupEnabled:J}=S,ei=!B&&(0,eg.am)(N),et=!!(p.promoter&&!p.is_downstream_promotion)&&p.promoter?.id===p.native_creator?.id,{sponsorship:er,story_pin_data:es,affiliate_link:eo}=p,ed=!!eo,eu=!!es?.has_affiliate_products,ec=(!!er||eu||ed)&&!et&&!ei,ef=!a&&(!((p.rich_summary?.products??[]).length||(p.rich_metadata?.products??[]).length)&&L&&G.length>0||m)&&!l,ek=a&&h&&h.length>0,eP=(0,el.Z)({pinKey:{type:"deprecated",data:p},orbacActingAs:i,viewer:g}),{isEligibleForStaticImageIdeaPin:eb}=(0,eE.Z)(p.should_open_in_stream,p.story_pin_data_id),eT=eb&&h&&h.length>0,{paddingLeft:eF,paddingRight:eI,marginTop:ew,marginBottom:eC}=X?{paddingLeft:0,paddingRight:0,marginTop:0,marginBottom:2}:J?{paddingLeft:0,paddingRight:d/2,marginTop:2,marginBottom:2}:{paddingLeft:d/2,paddingRight:d,marginTop:10,marginBottom:6},eA=p.favorited_by_me?Z.bt("  ", "Remove from favorites", "closeup.metadataDetails.removeFromFavorites", undefined, true):Z.bt("  ", "Add to favorites", "closeup.metadataDetails.addToFavorites", undefined, true),eB=[...ef||ek||eT?[(0,_.jsx)(Q.Z,{paddingLeft:X?void 0:d/2,paddingRight:X?void 0:d,children:(0,_.jsx)(ep.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,_.jsx)(eh.Z,{children:(0,_.jsx)(eZ,{closeupImageSignature:p.image_signature??"",isOwnCreatedPin:m,pin:p,pinId:p.id,taggedObjects:ek||eT?h:G,type:ef?"stl":"story",viewParameter:P})})})},"closeupStlModuleMetadataPadding")]:[],...Y?[]:[(0,_.jsx)(eR.Z,{moduleWidth:ex.Gg-ex.g9,pinKey:{type:"deprecated",data:p},trafficSource:f,viewParameter:P},"closeupShoppingModule")],...H?[(0,_.jsx)(Q.Z,{paddingLeft:Y?0:d/2,paddingRight:X?void 0:d/2,children:(0,_.jsx)(eD.Z,{recipeProps:H})},"closeupRecipeMetadataPadding")]:[],...Y&&!n&&eP?[(0,_.jsx)(Q.Z,{paddingRight:X?void 0:d/2,children:(0,_.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:X?0:2,marginTop:X?0:2,children:[X?(0,_.jsx)(c.xv,{size:"300",weight:"bold",children:eA}):(0,_.jsx)(c.xv,{weight:"bold",children:eA}),(0,_.jsx)(eL.Z,{pinKey:{type:"deprecated",data:p}})]})},"closeupFavoriteBarMetadataPadding")]:[],...eP?[(0,_.jsx)(Q.Z,{paddingLeft:Y?0:d/2,paddingRight:X?void 0:d/2,children:(0,_.jsxs)(o.Fragment,{children:[(0,_.jsx)(ej.Z,{}),(0,_.jsx)(eN,{boardId:p.board?.id,isGroupNote:M,pinId:p.id,pinNoteText:p.pin_note?.text})]})},"closeupPinNoteMetadataPadding")]:[]];return(0,_.jsx)(o.Fragment,{children:(0,_.jsxs)(c.kC,{alignItems:"stretch","data-testid":"closeup-metadata-details-flex",direction:"column",flex:"grow",height:J?"100%":void 0,justifyContent:"start",children:[X?null:(0,_.jsxs)(Q.Z,{"data-testid":"closeup-metadata-details",paddingLeft:X?void 0:J?0:d/2,paddingRight:X?void 0:d/2,children:[(0,_.jsx)(c.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,_.jsx)(c.xu,{marginTop:J?void 0:2,maxWidth:Y?void 0:$-2*d,width:Y?"100%":void 0,children:(0,_.jsx)(q,{instagramPostLink:(0,_.jsx)(ey.Z,{closeupLinkEnabled:O,nativeCreatorCloseupLinkEligible:!!z,peekCloseupEnabled:J,uriComponent:V||U||""}),isStoryPin:a,onUpdate:s,pinKey:{type:"deprecated",data:p}})})}),ec&&!X&&(0,_.jsx)(R.Z,{hasAffiliateLink:ed,hasAffiliateProducts:eu})]}),j&&!Y&&(0,_.jsx)(Q.Z,{"data-testid":"closeup-metadata-creator",paddingRight:d/2,children:(0,_.jsx)(ee,{creatorId:E,children:e=>!!e&&(0,_.jsx)(ev,{children:(0,_.jsx)(eM,{clientTrackingParams:T,componentType:126,impressionType:"User",input:{type:"deprecated",data:p},isORBACProfileManager:W,loggingId:E,officialUser:e,slotIndex:0,viewParameter:P,viewType:k})})})}),(0,_.jsx)(o.Fragment,{children:eB.map(e=>(0,_.jsxs)(o.Fragment,{children:[e,X&&(0,_.jsx)(c.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,_.jsx)(ej.Z,{show:!0,surface:"closeup-metadata-details"})})]},`detailFragment-${e.key}`))}),!eB.length&&(0,_.jsx)(c.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,_.jsx)(ej.Z,{show:X,surface:"closeup-metadata-details"})}),!n&&D&&(0,_.jsx)(ep.Z,{name:"CanonicalCard",children:(0,_.jsxs)(Q.Z,{paddingLeft:eF,paddingRight:eI,children:[(0,_.jsx)(ej.Z,{}),(0,_.jsx)(c.xu,{marginBottom:eC,marginTop:ew,children:(0,_.jsx)(eK.Z,{aggregatedPinId:p.aggregated_pin_data?.id,closeupAttributionId:p.closeup_attribution?.id,closeupAttributionUsername:p.closeup_attribution?.username,commentCount:p.aggregated_pin_data?.comment_count??0,commentsDisabled:p.comments_disabled,isCommentSectionOpen:e,isLoadingNewCreatedComment:x,isORBACProfileManager:W,isShopTheLook:L,isVideo:!!p.videos?.video_list,onCommentSectionClick:r,orbacSubjectId:t,photoCount:p.aggregated_pin_data?.did_it_data?.images_count??0,pinId:p.id,pinnerId:p.pinner?.id,scrollContainerRef:v,shouldShowHeading:!J||(p.aggregated_pin_data?.comment_count??0)>0,storyPinDataId:p.story_pin_data?.id,viewParameter:P})}),(0,_.jsx)(ej.Z,{})]})})]})})}function eO({maxHeight:e,pin:a,showShoppingModule:l,trafficSource:n,viewParameter:i}){let t={height:"48px",padding:"80px 4px 16px 4px",pointerEvents:"none",transition:"opacity 0.1s ease-in-out",width:"100%",zIndex:1},[r,s]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!0),p=(0,o.useRef)(null),g=()=>{let e=p.current;if(!e)return;let{scrollTop:a,scrollHeight:l,clientHeight:n}=e;s(0!==a),u(a+n!==l)};return(0,o.useEffect)(()=>{let e=p.current;if(e)return e.addEventListener("scroll",g),()=>{e.removeEventListener("scroll",g)}},[]),l&&(0,_.jsxs)(c.xu,{ref:p,dangerouslySetInlineStyle:{__style:{borderLeft:ei.tc}},"data-test-id":"peek-variant-shopping-module-container",height:"auto",maxHeight:e,overflow:"scrollY",children:[(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{...t,background:"linear-gradient(0deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:r?1:0}},"data-test-id":"peek-variant-top-gradient",position:"absolute",top:!0}),(0,_.jsx)(eR.Z,{moduleWidth:ei.LV,pinKey:{type:"deprecated",data:a},trafficSource:n,viewParameter:i}),(0,_.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...t,background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:d?1:0}},position:"absolute"})]})}var ez=l(732054),eU=l(26458),eV=l(236459),eH=l(365976),eG=l(101428),eW=l(562400),e$=l(306902),eX=l(893957),eY=l(462867),eq=l(200619),eQ=l(800640);let eJ={__style:{marginBottom:"0",marginTop:"0",maxWidth:ex.KP,minWidth:ex.Gg}};function e0({children:e,isWideVideo:a}){let{showCloseupContentRight:l,maxWidth:n,paneWidth:i,peekCloseupEnabled:t,closeupWithinMasonryEnabled:r,viewportSize:s}=(0,E.x4)(),{maxHeight:o}=(0,ei.Re)(),{mainImage:d}=(0,x.r)(),{peekRedesignFastFollowsEnabled:u}=(0,er.Z)(d),p=l||a?n:i;return p=r&&"sm"!==s||t?void 0:p,r?(0,_.jsx)(c.xu,{height:"100%",children:e}):(0,_.jsx)(c.xu,{"data-test-id":"closeup-lego-container",display:"flex",height:"100%",maxHeight:u?void 0:o,maxWidth:p,position:"relative",rounding:8,width:"100%",children:(0,_.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{display:"flex"},children:(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:a?eJ:{},display:"flex",children:e})})})})}var e1=l(855574),e3=l(60707),e6=l(542515),e2=l(767415);let e5=(0,eb.Z)(()=>Promise.all([l.e("74466"),l.e("9767")]).then(l.bind(l,478898)),{ssr:!1},e=>478898,"ChangeBoardModalCommon"),e7=(0,eb.Z)(()=>Promise.all([l.e("73362"),l.e("55759")]).then(l.bind(l,130442)),void 0,e=>130442,"CloseupActionBarCommon"),e4=(0,eb.Z)(()=>l.e("62220").then(l.bind(l,307546)),void 0,e=>307546,"app-common-react-components-closeup-LeadGen-LeadGenCloseupBodyContent"),e8=(0,eb.Z)(()=>l.e("30644").then(l.bind(l,456578)),void 0,e=>456578,"app-common-react-components-closeup-CloseupBody-CloseupInlineCommentComposer"),e9=(0,o.lazy)(()=>l.e("97556").then(l.bind(l,582938))),ae=({children:e,metadataContainerRef:a,closeupWithinMasonryEnabled:l})=>l?(0,_.jsx)(c.xu,{ref:a,width:"100%",children:e}):(0,_.jsx)(o.Fragment,{children:e});function aa({isWideVideo:e,didShortClickThrough:a,webLinkSurveyState:{webLinkSurveyRef:l,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t},pin:r,outerBodyStyle:s,isEligibleForPinReactions:p,isStoryPin:g,trafficSource:m,visualContentContainer:h,isCloseupMaximized:f,data:k,outerPaddingSize:S,isInStream:x,metadataContainerRef:P,onClickThrough:v,viewParameter:T,metadata:F,viewer:I,orbacSubjectId:w,setIsLoadingNewlyCreatedComment:C=()=>{},descriptionContentMaxHeight:A,marginBottom:K=0,isDeletedStoryPin:L,onSaveButtonClick:j,showRepinOnInitialRender:R,goBack:D,onUpdate:Z,routePush:M,closeupActionBarMaxWidth:N,visualContentContainerRef:B,showPDPComments:O,actionBarContainerRef:z,isRelatedPins10PercentVisible:U}){let{isCloseupRelatedPinsAboveTheFoldEnabled:V,descriptionPaneWidth:H,viewportSize:G,clientTrackingParams:W,closeupWithinMasonryEnabled:$,peekCloseupEnabled:X,setCalculatedImageHeight:Y}=(0,E.x4)(),q=(0,d.v9)(({changeBoardFromToast:e})=>e)||{},Q=(0,eR.F)(r.id),J=Q&&0!==Q.length,ee=(0,b.ZP)(),ea=(0,u.k6)(),el=(0,o.useRef)(null),[en,et]=(0,o.useState)(0),er=(0,o.useCallback)(()=>{B?.current&&Y&&Y(B.current.clientHeight);let e=P.current;e&&et(a=>{let l=e.offsetWidth;return a!==l?l:a})},[P,Y,B]);(0,e6.Z)(er,P);let es=(0,eq.Z)(),{pinner:eo}=r,ed=!((0,eS.q6)(I,eo?.id,es)&&!w)&&(!r.is_eligible_for_pdp||!!O)&&!r.comments_disabled&&!!r.is_eligible_for_aggregated_comments,eu=!!r.promoted_is_lead_ad,ec=0!==Object.keys(r).length,eg=B?.current?.clientHeight||0,em=r.comments_disabled?0:(r.aggregated_pin_data?.comment_count??0)+(r.aggregated_pin_data?.did_it_data?.images_count??0),[e_,ey]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=(0,eW.Z)(()=>{$&&ey(0===window.scrollY)},50);return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[$]),(0,eX.Z)(()=>{r.closeup_attribution?.id&&(0,e2.nP)("web.closeup.has_attribution.yes"),(0,e2.nP)("web.closeup.has_attribution.no")});let ef=(0,_.jsx)(e8,{aggregatedPinDataId:r.aggregated_pin_data?.id,closeupAttributionId:r.closeup_attribution?.id,commentCount:em,disablePhotoCommentSelection:!!r.done_by_me,isEligibleForPinReactions:p,isPDP:r.is_eligible_for_pdp,orbacSubjectId:w,pinId:r.id,privatePin:"secret"===r.privacy,reactionByMe:r.reaction_by_me||0,reactionCounts:r.reaction_counts,setIsLoadingNewlyCreatedComment:C,showCommentComposer:ed,showReactBackground:!$,storyPinDataId:r.story_pin_data_id,viewParameter:T}),ek=(0,_.jsx)(y,{clientTrackingParams:W,closeupNavigationType:(0,e3.Z)(ea,m),pinImageUrl:(r.images&&r.images["236x"]?.url)??"",pinKey:{type:"deprecated",data:r},children:h}),{fiftyPercentWidth:eP,fiftyPercentHeight:ev}=(0,ei.Re)(),eb=e&&!$?ex.KP:void 0;eb=X?eP:eb;let eT=(g||$)&&!X?void 0:A;X&&(eT="sm"===G?ev:Math.max(ei.ql,B?.current?.clientHeight??0));let eF=s;V&&(eF={...s,boxShadow:"unset",border:ei.tc,overflow:"clip"});let eI=$&&S?S:0,[ew,eC]=(0,o.useState)(!1);return(0,_.jsx)(eQ.ZP.Provider,{value:(0,eQ.yq)({closeupBodyWidth:en,isCollageOverlayOpen:ew,setIsCollageOverlayOpen:eC,isRelatedPins10PercentVisible:U}),children:(0,_.jsxs)(c.xu,{height:$?"round(100%, 2px)":"100%",marginBottom:K,position:"relative",width:$?"round(100%, 2px)":"100%",children:[(0,_.jsx)(e0,{isWideVideo:e,children:(0,_.jsxs)(c.xu,{display:$?void 0:"flex",position:"relative",children:[!a&&(0,_.jsx)(eh.Z,{children:(0,_.jsx)(e9,{ref:l,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t,pin:{aggregatedPinData:r.aggregated_pin_data&&{isShopTheLook:r.aggregated_pin_data.is_shop_the_look},board:r.board&&{entityId:r.board.id,owner:r.board.owner&&{entityId:r.board.owner.id??""}},entityId:r.id,imageSignature:r.image_signature,isDownstreamPromotion:r.is_downstream_promotion,isPromoted:r.is_promoted,link:r.link,recommendationReason:r.recommendation_reason&&{reason:r.recommendation_reason.reason}}})}),(0,_.jsx)(c.xu,{color:ec?"default":"transparent",dangerouslySetInlineStyle:{__style:{...eF}},"data-test-id":"closeup-body-style",display:"flex",paddingX:$?4:void 0,position:"relative",children:(0,_.jsx)(ae,{closeupWithinMasonryEnabled:$,metadataContainerRef:P,children:(0,_.jsx)(c.kC,{alignItems:"stretch",direction:"column",height:$?"100%":void 0,justifyContent:"start",children:(0,_.jsx)(e1.Z,{isStoryPin:g,isWideVideo:e,children:ec?(0,_.jsx)(o.Fragment,{children:r.promoted_is_lead_ad?(0,_.jsx)(e4,{clientTrackingParams:W,pin:r,data:!!k,goBack:D,onUpdate:Z,viewParameter:T,onSaveButtonClick:j,showRepinOnInitialRender:R,actionBarContainerRef:z,trafficSource:m,onClickThrough:v,isStoryPin:g,descriptionPaneWidth:H,metadataContainerRef:P,visualContentContainer:h,visualContentContainerHeight:eg,showLeadPinStdBeta:eu}):(0,_.jsxs)(o.Fragment,{children:[(0,_.jsxs)(c.xu,{children:[$&&(0,_.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...e_?{}:ex.fF,borderTop:e_?void 0:ei.tc,position:"sticky",top:"80px"}},"data-test-id":"closeup-action-bar",display:"flex",justifyContent:"center",marginEnd:-4,marginStart:-4,overflow:"visible",paddingX:4,zIndex:new c.Ry(2),children:(0,_.jsx)(e7,{actionBarContainerRef:z,goBack:D,gridDescription:r.description??"",isDeletedStoryPin:!!L,isEligibleForPinReactions:p,isOnSecretBoard:!1,isStoryPin:g,onEditSubmit:Z,onSaveButtonClick:j,outerPaddingSize:S,pin:r,routePush:M,showRepinOnInitialRender:R,viewParameter:T})}),ek]}),(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{overflow:X&&"sm"===G?"scroll":void 0}},"data-test-id":"description-content-container",direction:"column",display:"flex",height:f?0:"100%",maxHeight:eT,maxWidth:eb,width:e||$?void 0:H,children:k?(0,_.jsxs)(o.Fragment,{children:[!x&&!$&&(0,_.jsx)(ep.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,_.jsx)(e7,{actionBarContainerRef:el,goBack:D,gridDescription:r.description??"",isDeletedStoryPin:!!L,isEligibleForPinReactions:p,isOnSecretBoard:!1,isStoryPin:g,maxWidth:N,onEditSubmit:Z,onSaveButtonClick:j,outerPaddingSize:S,pin:r,routePush:M,showRepinOnInitialRender:R,viewParameter:T})}),(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:$?void 0:X?ei.Gd:ex.g9,paddingBottom:$?eI:void 0}},direction:"column",display:"flex",flex:"grow",children:(0,_.jsxs)(c.xu,{ref:$?void 0:P,alignItems:"stretch",direction:"column",display:"flex",flex:"grow",justifyContent:"start",overflow:$?void 0:"auto",children:[(0,_.jsx)(c.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{rowGap:$?4*ex.O5:void 0}},direction:"column",display:"flex",height:X?"100%":void 0,justifyContent:"start",width:X?"100%":void 0,children:F}),$&&ed&&ef]})}),!$&&ed&&(0,_.jsx)(c.Le,{bottom:0,children:ef})]}):(0,_.jsx)(c.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,_.jsx)(c.xH,{accessibilityLabel:ee.bt("   ", "Pin details loading", " - ", undefined, true),show:!0})})}),X&&"lg"===G&&(0,_.jsx)(eO,{maxHeight:B?.current?.clientHeight,pin:r,showShoppingModule:J,trafficSource:m,viewParameter:T})]})}):(0,_.jsx)(c.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,_.jsx)(c.xH,{accessibilityLabel:ee.bt(" ", "Pin loading", " - ", undefined, true),show:!0})})})})})})]})}),q.shouldOpenModal&&q.newPin&&q.originalPinId===r.id&&(0,_.jsx)(ep.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,_.jsx)(e5,{experience:q.experience,pinKey:{type:"deprecated",data:q.newPin}})})]})})}function al({isStoryPin:e,isVideoPin:a,isWideVideo:l,pin:n,taggedProducts:i,trafficSource:t,viewParameterType:r,onClickThrough:s,data:d,didShortClickThrough:u,goBack:p,isCloseupMaximized:g=!1,isInStream:m=!1,isDeletedStoryPin:h,onSaveButtonClick:y,onUpdate:f,outerBodyStyle:k,outerPaddingSize:S,routePush:x,showRepinOnInitialRender:P,viewType:v,isCommentSectionOpen:b,onCommentSectionClick:T,onCloseupBodyUpdate:F,shouldShowStlCarouselForOwnPin:I,storyPinTaggedProducts:w,clientTrackingParams:C,viewportSize:A,shouldShowPartnerModule:K,trendsData:L,showTrendsOnPinCloseup:j,showPinStats:R,isRelatedPins10PercentVisible:D}){let[Z,M]=(0,o.useState)(!1),N=(0,o.useRef)(null),B=(0,e$.Z)(),O=(0,o.useRef)(null),z=(0,E.x4)(),U=(0,eY.Z)(),V=!n.is_promoted&&!n.is_downstream_promotion&&!h,H=(0,eq.Z)(),G=(0,eS.lJ)(U,H),W=(0,eV.Z)(),$=(0,eU.Z)({metadataContainerRef:O,pinKey:{type:"deprecated",data:n}}),X=(0,ez.Z)(),{getViewParameter:Y}=(0,ea.ZP)({type:"deprecated",data:n}),q=Y(r),{setClickthroughComponentForSurvey:Q,imageContainerRef:J}=W,{getShowClickthroughLink:ee}=(0,ea.ZP)({type:"deprecated",data:n}),el=ee(e)&&(0,_.jsx)(c.xu,{"data-test-id":"maybe-clickthrough-link",direction:"row",display:"flex",marginBottom:1,children:(0,_.jsx)(ek.q,{children:({hovered:a,onMouseEnter:l,onMouseLeave:i})=>(0,_.jsx)(ec.Z,{clientTrackingParams:C,hovered:a,pinKey:{type:"deprecated",data:n},trafficSource:t,viewType:3,children:(0,_.jsx)(c.xu,{onMouseEnter:l,onMouseLeave:i,children:(0,_.jsx)(eG.Z,{actionBarHeight:N.current?.offsetHeight||ex.Ie,isStoryPin:e,legoLinkClickthroughAnchorRef:W?.legoLinkClickthroughAnchorRef,onClickThrough:s,pinKey:{type:"deprecated",data:n}})})})})}),en=(0,_.jsx)(eH.Z,{isStoryPin:e,isWideVideo:l,pin:n,taggedProducts:i,trafficSource:t,viewParameterType:r,visualContentContainerRef:X.visualContentContainerRef,imageContainerRef:J,handleImageClickThrough:()=>s({wasImageClicked:!0}),setClickthroughComponentForSurvey:Q,isShortImage:$,onSaveButtonClick:y,showRepinOnInitialRender:P,viewParameter:q}),ei=(0,_.jsx)(eB,{isCommentSectionOpen:b,isStoryPin:e,isVideoPin:a,isDeletedStoryPin:h,orbacActingAs:H,orbacSubjectId:G,onCommentSectionClick:T,onCloseupBodyUpdate:F,outerPaddingSize:S,pin:n,viewer:U,shouldShowStlCarouselForOwnPin:I,storyPinTaggedProducts:w,taggedProducts:i,trafficSource:t,viewType:v,closeupContext:z,isLoadingNewlyCreatedComment:Z,viewParameter:q,detailsScrollContainerRef:O.current,clientTrackingParams:C,reactionCounts:n.reaction_counts}),et=(0,_.jsx)(eA,{pinKey:{type:"deprecated",data:n},clientTrackingParams:C,isStoryPin:e,isVideoPin:a,isDeletedStoryPin:h,trafficSource:t,details:ei,onClickThrough:s,onCloseupBodyUpdate:F,outerPaddingSize:S,orbacActingAs:H,viewer:U,viewParameter:q,viewportSize:A,shouldShowPartnerModule:K,trendsData:L,showTrendsOnPinCloseup:j,showPinStats:R,clickthroughUrlLink:el}),er=(0,_.jsx)(aa,{isWideVideo:l,didShortClickThrough:u,webLinkSurveyState:W,pin:n,outerBodyStyle:k,isEligibleForPinReactions:V,isStoryPin:e,trafficSource:t,visualContentContainer:en,isCloseupMaximized:g,data:d,isInStream:m,metadataContainerRef:O,onClickThrough:()=>{s&&s({componentType:129}),W.setClickthroughComponentForSurvey("legoMaybeLink")},viewParameter:q,viewType:v,viewer:U,orbacSubjectId:G,isLoadingNewlyCreatedComment:Z,onCommentSectionClick:T,setIsLoadingNewlyCreatedComment:M,descriptionContentMaxHeight:X.descriptionContentMaxHeight,metadata:et,onSaveButtonClick:y,showRepinOnInitialRender:P,goBack:p,onUpdate:f,routePush:x,visualContentContainerRef:X.visualContentContainerRef,actionBarContainerRef:N,outerPaddingSize:S,isRelatedPins10PercentVisible:D}),es=(0,o.useMemo)(()=>({}),[]),eo=n?.ad_data?.exclude_from_grid_rep_tests,{checkExperiment:ed}=(0,em.F)(),eu=eo&&ed("web_exclude_from_grid_rep_tests").anyEnabled;return B&&eu?(0,_.jsx)("div",{className:"excludeFromGridRepTests",children:(0,_.jsx)(c.II,{value:es,children:er})}):er}},930622:function(e,a,l){l.d(a,{Z:()=>c});var n=l(883119),i=l(677650),t=l(361004),r=l(283220),s=l(785893);let o=({description:e,userMentionTags:a})=>(0,s.jsx)(r.Z,{description:e,mentionLinkColor:"link",shouldAdjustOffset:!0,shouldMakeHashtagLinksFromText:!0,textSize:t.n,userMentionTags:a});var d=l(133546);function u({description:e}){let{closeupWithinMasonryEnabled:a,peekCloseupEnabled:l}=(0,d.x4)();return(0,s.jsx)(n.xu,{children:(0,i.Z)({closeupWithinMasonryEnabled:a,peekCloseupEnabled:l,text:e})})}function c({description:e,userMentionTags:a}){let l=e=>e.replace(/\s+/g," "),i=e.split(/\n/)||[],t=({descriptionLine:a,userMentionTags:l})=>{let n=e.indexOf(a);return l.map(e=>e&&"number"==typeof e.offset&&e.offset>=n?{...e,offset:e.offset-n}:null).filter(e=>null!==e)||[]};return i.map((e,i)=>{let r=`description-broken-by-line-breaks-${i}`;if(!a||0===a.length)return(0,s.jsx)(u,{description:e},r);let d=t({descriptionLine:e,userMentionTags:a});return d.length>0?(0,s.jsx)(n.xu,{children:(0,s.jsx)(o,{description:l(e),userMentionTags:d})},r):(0,s.jsx)(u,{description:e},r)})}},365976:function(e,a,l){l.d(a,{Z:()=>C});var n=l(667294),i=l(883119),t=l(721956),r=l(145687),s=l(966695),o=l(788730),d=l(514793),u=l(758724),c=l(178138),p=l(752031),g=l(104999),m=l(470205),_=l(521367),h=l(400962),y=l(825605),f=l(176783),k=l(902123),S=l(462867),x=l(200619),P=l(601871),v=l(800640),b=l(133546),T=l(632492),F=l(785893);let I=(0,n.lazy)(()=>l.e("10176").then(l.bind(l,890943))),w=(0,n.lazy)(()=>Promise.all([l.e("63485"),l.e("26877"),l.e("63529"),l.e("59819")]).then(l.bind(l,600814)));function C({handleImageClickThrough:e,imageContainerRef:a,isShortImage:l,isStoryPin:C,isWideVideo:A,onSaveButtonClick:K,pin:L,setClickthroughComponentForSurvey:j,showRepinOnInitialRender:E,trafficSource:R,viewParameter:D,viewParameterType:Z,visualContentContainerRef:M={current:null}}){let[N,B]=(0,n.useState)(!1),{setIsCollageOverlayOpen:O}=(0,v.K4)(),{previous:z}=(0,h.Hv)(),U=(0,b.x4)(),V=(0,x.Z)(),H=(0,p.r)(),G=(0,S.Z)(),{getViewParameter:W}=(0,t.ZP)({type:"deprecated",data:L}),$=(0,g.Z)(),X=0===z.length,{carouselInfo:Y,imgSrc:q,mainImage:Q,video:J}=H,{isCloseupMediaViewerEnabled:ee}=(0,u.Z)({isShufflePin:!!L?.shuffle}),{executeWithViewTransition:ea}=(0,c.Z)({_enableViewTransitions:ee}),el=()=>{B(e=>!e)},en=()=>{B(!1)},ei=()=>{O(e=>!e)},et=e=>({gridDescription:L.description,imageSrc:e,isFlyoutOpen:N,onFlyoutDismiss:en,onToggleFlyout:el,pinId:L.id}),{clientTrackingParams:er,showCloseupContentRight:es,paneWidth:eo,isCloseupRelatedPinsAboveTheFoldEnabled:ed,closeupWithinMasonryEnabled:eu,peekCloseupEnabled:ec,setIsCloseupMediaViewerOpen:ep}=U,{fiftyPercentWidth:eg}=(0,o.Re)(),{maxHeight:em}=(0,d.Z)({pinKey:{type:"deprecated",data:L}});if(C)return null;let{domain:e_,music_attributions:eh,pinner:ey,should_mute:ef}=L,ek=!!e_&&!!L.link&&!L.link.startsWith("https://i.pinimg.com"),{width:eS}=Q,ex=(0,t.NE)({closePanelWidth:eo,isShortImage:l,carouselInfo:Y,isWideVideo:A,naturalWidth:eS,showCloseupContentRight:es}),eP=()=>{$({aux_data:{image_signature:L.image_signature},component:128,event_type:101,element:ee?15864:15865,view_type:3}),ea(()=>{ep(!0)})},ev=(0,P.q6)(G,ey?.id,V);return(0,F.jsxs)(i.xu,{ref:M,dangerouslySetInlineStyle:{__style:{height:ec?"100%":void 0,display:ec?"flex":"block"}},"data-test-id":"visual-content-container",children:[(0,F.jsx)(k.q,{children:({focused:l,hovered:n,onBlur:t,onFocus:o,onMouseEnter:d,onMouseLeave:u})=>(0,F.jsxs)(i.xu,{alignSelf:ec?"center":void 0,direction:eu?"column":void 0,display:"flex",justifyContent:"center",maxHeight:em,maxWidth:eg,onBlur:t,onFocus:o,onMouseEnter:d,onMouseLeave:u,position:"relative",tabIndex:0,width:A||ed?"100%":eo,children:[J&&eh?.length!==0&&(0,F.jsx)(i.xu,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",top:!0,width:eo,zIndex:f.Ls,children:(0,F.jsx)(r.Z,{musicAttributions:eh,shouldMute:!!ef})}),(0,F.jsx)(s.Z,{clientTrackingParams:er,closeupIsFirstPageInHistoryStack:X,flyoutShareProps:et(q),handleCollageOverlayToggle:ei,handleMediaButtonClick:eP,imageContainerRef:a,isHovered:l||n,isORBACProfileManager:ev,isWideVideo:A,onImageClick:()=>{e&&e(),j("imageContainer")},pin:L,shouldPadImage:!ed&&ex,showDomainLink:ek,trafficSource:R,viewParameter:W(Z)}),L&&L.showFeedback&&(0,F.jsx)(y.Z,{children:(0,F.jsx)(I,{pin:L})})]})}),(0,F.jsx)(i.mh,{zIndex:T.lI,children:(0,F.jsx)(_.Qp,{anchor:M.current,experienceIds:[506204],flyoutSize:"md",forceDirection:!eu,idealDirection:eu?"right":"down",placementId:12,showCaret:!0,textWeight:"normal"})}),ee&&(0,F.jsx)(m.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewer",children:(0,F.jsx)(y.Z,{children:(0,F.jsx)(w,{onClose:({isExitButton:e,isClick:a})=>{$({aux_data:{image_signature:L.image_signature},component:128,event_type:a?101:97,element:e?15867:15866,view_type:3}),ea(()=>{ep(!1)})},onImageClick:()=>{e&&e()},onSaveButtonClick:K,pin:L,rounding:24,showRepinOnInitialRender:E,trafficSource:R,viewParameter:D})})})]})}},721956:function(e,a,l){l.d(a,{NE:()=>g,ZP:()=>h,nU:()=>p});var n,i=l(667294);l(167912);var t=l(120034),r=l(907022),s=l(566431),o=l(891851),d=l(613567),u=l(518596),c=l(546151);function p({domain:e,hasLinkDomainOfficialUser:a,hasLinkUserWebsiteOfficialUser:l,hasNativeCreator:n,hasThirdPartyPinOwner:i,isPromoted:t,pinnerDomainUrl:r,pinnerDomainVerified:s}){return(l||a||i||s&&r===e)&&!t||!!n}function g({carouselInfo:e,closePanelWidth:a,isWideVideo:l,isShortImage:n,naturalWidth:i,showCloseupContentRight:t}){return!l&&!!t&&(!!n||!e&&i<a)}let m=["https://www.google.com/search?","https://yandex.com/images/search?","https://www.bing.com/images/search?","https://images.search.yahoo.com/search/images","https://www.gettyimages.com/photos/"],_=void 0!==n?n:n=l(538283);function h(e){let a=(0,r.Z)(_,e),l=(0,d.F)().checkExperiment("web_closeup_attribution_restricted_urls").anyEnabled,{currentDomain:n}=(0,t.Z)({carouselData:a.carouselData&&{carouselSlots:a.carouselData.carouselSlots&&a.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:a.carouselData?.index},domain:a.domain}),g=!!a?.isGoLinkless,h=!!a.link&&a.link.startsWith("https://i.pinimg.com"),y=(0,i.useCallback)(e=>!g&&(e&&!h?!!a.link:!a.isEligibleForPdp&&!!(0,s._S)(n)&&!h),[n,a.isEligibleForPdp,a.link,g,h]),f=(0,o.Z)({hasPin:!!a,hasPinRichMetadata:!!a.richMetadata,hasPinRichMetadataProducts:!!a.richMetadata?.products,hasPinRichMetadataArticle:!!a.richMetadata?.article,hasPinRichMetadataRecipe:!!a.richMetadata?.recipe,hasPinStoryPinData:!!a.storyPinData}),k=(0,i.useCallback)(e=>e||f,[f]),S=l&&"extension"===a.method&&m.some(e=>a.link&&a.link.startsWith(e))?null:a.linkDomain,x=!!a.nativeCreator,P=!!a.originPinner,v=!!a.thirdPartyPinOwner,b=!!a.linkUserWebsite?.officialUser,T=!!S,F=!!S?.officialUser,I=!!a.creatorClass,w=a.pinner;w=x?a.nativeCreator:T?S.officialUser:a.originPinner||a.pinner;let{pinCreditLink:C,pinCredit:A}=(0,c.Xe)({hasLinkDomain:T,hasNativeCreator:x,hasOriginPinner:P,pinDomain:a.domain,sourceUserUsername:w?.username??null,sourceUserFullName:w?.fullName??null}),K=!!w,L=!!C&&!!A,j=!!a.closeupAttribution;return{getShowClickthroughLink:y,getViewParameter:k,makeDetailsArgs:(0,i.useCallback)(e=>({isShopTheLook:!!a.aggregatedPinData?.isShopTheLook,showCreatorCard:p({domain:a.domain??"",hasLinkDomainOfficialUser:F,hasLinkUserWebsiteOfficialUser:b,hasNativeCreator:x,hasThirdPartyPinOwner:v,isPromoted:!!a.isPromoted,pinnerDomainUrl:a.pinner?.domainUrl??"",pinnerDomainVerified:!!a.pinner?.domainVerified})||!j&&K&&L,creatorId:a.closeupAttribution?.entityId??w?.entityId??null,showCanonicalComments:!!a.isEligibleForAggregatedComments,showReactions:(0,u.J6)({board:a.board?.isCollaborative||a.board?.collaboratedByMe?{isCollaborative:a.board.isCollaborative??null,collaboratedByMe:a.board.collaboratedByMe??null}:null,videos:a.videos?.entityId?{entityId:a.videos.entityId}:null,isDownstreamPromotion:a.isDownstreamPromotion,isPromoted:a.isPromoted,storyPinDataId:a.storyPinDataId},e),isCreatorClassPin:I}),[I,F,b,x,v,j,L,K,a.aggregatedPinData?.isShopTheLook,a.board?.collaboratedByMe,a.board?.isCollaborative,a.closeupAttribution?.entityId,a.domain,a.isDownstreamPromotion,a.isEligibleForAggregatedComments,a.isPromoted,a.pinner?.domainUrl,a.pinner?.domainVerified,a.storyPinDataId,a.videos?.entityId,w?.entityId])}}},732054:function(e,a,l){l.d(a,{Z:()=>s});var n=l(667294),i=l(893957);let t=l(386385).cI+16,r=`calc(100vh - ${t}px)`;function s(e=100){let[a,l]=(0,n.useState)(r),o=(0,n.useRef)(null),d=`calc(${e??"100"}vh - ${t}px)`;return(0,i.Z)(()=>{if(!window)return;let a=window.innerHeight-t,n=o.current?.clientHeight||0;n>a*e/100&&(d=n.toString()),l(a>n?d:n)}),{descriptionContentMaxHeight:a,visualContentContainerRef:o}}},290852:function(e,a,l){l.d(a,{Z:()=>o}),l(167912);var n,i=l(201363),t=l(907022),r=l(601871);let s=void 0!==n?n:n=l(826299);function o({pinKey:e,orbacActingAs:a,viewer:l}){let n=(0,t.Z)(s,e),o=!!n.pinner?.entityId&&(0,r.D3)(l,n.pinner.entityId,a),d=!!(n.board?.collaboratedByMe||n.board?.owner?.entityId)&&(0,i.Z)(n.board.collaboratedByMe,n.board.owner?.entityId,l);return o||d}},26458:function(e,a,l){l.d(a,{Z:()=>g});var n,i=l(667294);l(422578);var t=l(800691),r=l(752031),s=l(907022),o=l(415927),d=l(15392),u=l(133546);let c=100+d.Ie,p=void 0!==n?n:n=l(646605);function g({metadataContainerRef:e,pinKey:a}){let[l,n]=(0,i.useState)(!1),{paneWidth:d}=(0,u.x4)(),{mainImage:g,carouselInfo:m}=(0,r.r)(),_=(0,o.Z)(),h=(0,s.Z)(p,a),y=(0,t.ZP)({carouselData:m?.carouselData,mainImage:g,maxCloseupImageWidth:d,pinKey:h}).containerHeight;return(0,i.useEffect)(()=>{let a=()=>{if(!_&&e.current){let a=(e.current?.getBoundingClientRect()?.height??0)+c>y;a!==l&&n(a)}};a();let i=null;return!_&&e.current&&(i=new ResizeObserver(a)).observe(e.current),()=>{i&&i.disconnect()}},[e,l,_,y]),l}},236459:function(e,a,l){l.d(a,{Z:()=>i});var n=l(667294);function i(){let[e,a]=(0,n.useState)(""),l=(0,n.useRef)(null),i=(0,n.useRef)(null),t=(0,n.useRef)(null),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let a=()=>{e&&l.current&&l.current.handleEgSurveyClick(e)};return window.addEventListener("focus",a),()=>window.removeEventListener("focus",a)},[e]),{clickthroughComponentForSurvey:e,setClickthroughComponentForSurvey:a,webLinkSurveyRef:l,imageContainerRef:i,legoLinkClickthroughAnchorRef:t,maybeLinkRef:r}}},451091:function(e,a,l){l.d(a,{l6:()=>aZ,ZP:()=>aN});var n,i,t,r=l(667294),s=l(581722),o=l(616550),d=l(883119),u=l(813954);let c=Object.freeze(["JP"]);var p=l(233511),g=l(560433),m=l(646941),_=l(510065);l(167912);var h=l(907022),y=l(64627),f=l(133546),k=l(271245),S=l(785893);let x=(0,k.Z)(()=>Promise.resolve().then(l.bind(l,560333)),void 0,e=>560333,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),P=(0,k.Z)(()=>l.e("82713").then(l.bind(l,725529)),void 0,e=>725529,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModuleOneTapConfiguration"),v=(0,k.Z)(()=>l.e("99743").then(l.bind(l,659885)),void 0,e=>659885,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),b=void 0!==n?n:n=l(414201),T=(0,r.forwardRef)(({clientTrackingParams:e,isRelatedPins10PercentVisible:a,pinKey:l,searchQuery:n,setRelatedPinsHeaderRef:i,slotIndex:t,story:r,trafficSource:s,viewParameter:o,viewportSize:u},c)=>{let p=(0,h.Z)(b,l),{closeupWithinMasonryEnabled:g}=(0,f.x4)();if(!r)return null;let{story_type:m}=r;return"related_products_collage"===m?(0,S.jsx)(d.xu,{alignSelf:"center","data-test-id":"related-modules-one-tap-configuration",children:(0,S.jsx)(P,{pinKey:p,searchQuery:n,slotIndex:t,storyKey:{type:"deprecated",data:r},trafficSource:s,viewParameter:o,viewportSize:u})}):(0,y.HM)(m)?!g&&(0,S.jsx)(d.xu,{alignSelf:"center",children:(0,S.jsx)(x,{filter:(0,y.oV)(m),story:r,viewParameter:o})}):"related_modules_header"===m?(0,S.jsx)(d.xu,{ref:i,"data-test-id":"related-modules-header",children:(0,S.jsx)(v,{ref:c,clientTrackingParams:e,isRelatedPins10PercentVisible:a,slotIndex:t,storyId:r.id,storyType:m,title:r.title?.format,viewParameter:o})}):null});var F=l(34692),I=l(819108),w=l(560333),C=l(797484),A=l(346703),K=l(945624),L=l(513314),j=l(216762),E=l(210616),R=l(645008),D=l(583875),Z=l(806513),M=l(748336),N=l(234392);let B=[81];function O({data:e}){let{action:a,container_type:l,objects:n,title:i}=e||{},{format:t}=i??{},{text:r,url:s,user:o={}}=a??{},{image_large_url:u,full_name:c,avatar_color_index:p}=o,{images:g}=n?.find(e=>"pin"===e.type)||{},m=null,_=(0,M.Z)({url:s})?"nofollow":"none";return 81===l&&(m=(0,S.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[(0,S.jsxs)(d.xu,{position:"relative",children:[(0,S.jsx)(N.Z,{coverImages:g??void 0,height:Z.yF,text:t??"",textType:"text",url:s??""}),o.imageUrl&&(0,S.jsx)(d.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,S.jsx)(D.qE,{color:p||void 0,name:c||"",outline:!0,size:"md",src:u??""})})]}),(0,S.jsx)(d.ZP,{fullWidth:!0,href:s??"",rel:_,size:"lg",text:r??""})]})),m}var z=l(153149),U=l(953994),V=l(104999),H=l(261954),G=l(138596),W=l(171556),$=l(149238),X=l(891851),Y=l(906127),q=l(427052),Q=l(629972),J=l(661376),ee=l(529211),ea=l(112658),el=l(575820),en=l(893957),ei=l(548782),et=l(285676),er=l(767415);let es=e=>({height:ee.zX*e,width:ee.zX});function eo(e){return e.columnSpan??1}let ed=void 0!==i?i:i=l(947597),eu=({closeupBody:e,surface:a="RelatedPinGrid",clientTrackingParams:l,isFilteredFeed:n,lfvExperiences:i,relatedPinsResource:t,setHasRelatedPins:s,i18n:u,closeupWithinMasonryEnabled:c,logContextEvent:p,relatedPinsInRow:g,pin:m,relatedPinsContainerRef:_,topLevelTrafficSource:h,viewParameter:f})=>{let[k,x]=(0,r.useState)(t.auxData?.grid_layout?.w_h_ratio),[P,v]=(0,r.useState)(!0),b=(0,r.useRef)(null),T=(0,r.useRef)(null),E=(0,r.useMemo)(()=>(t.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"].includes(e?.story_type)).find(e=>(0,y.HM)(e?.story_type??"")),[t]),{closeupMasonryModules:D,hasShoppingModule:Z,inclusiveFilters:M}=(0,K.Z)(m.entityId,E),N=M?(0,y.oV)(M.story_type??""):"",{inInclusiveEfficientRefinements:V}=(0,L.Z)(N),{search:G}=(0,o.TH)(),ee=new URLSearchParams(G).get("f")??"",el=(0,A.Z)(ee);(0,en.Z)(()=>{p({event_type:13,view_parameter:f,view_type:3,component:86,clientTrackingParams:l})}),(0,r.useEffect)(()=>{!k&&t.auxData?.grid_layout?.w_h_ratio&&(x(t.auxData.grid_layout.w_h_ratio),b.current=window)},[c,k,t]);let ed=`relatedPins:${m.entityId}`,eu=(0,r.useMemo)(()=>["related_products_button_footer","related_domain_carousel","related_products_feed_header"],[]),ec=c&&V&&el,ep=(0,J.Z)(ec?{name:"ApiResource",options:{url:`/v3/pins/${m.entityId}/related/pins/filter/`,data:{fields:R.Z,related_pins_tabs_selections:el}}}:null),{isAtEnd:eg,fetchMore:em,data:e_,isFetching:eh,nextBookmark:ey}=ec?ep:t,ef=(e_&&e_?.findIndex(e=>"pin"===e.type))??0,ek=(e_||[]).slice(ef).filter(e=>!eu.includes(e?.story_type)),eS=(0,r.useMemo)(()=>[...c?D:[],...ek||[]],[c,D,ek]),ex=V&&Z&&!!M,eP=({data:l,itemIdx:n})=>{let t;let r=(0,X.Z)({hasPin:!!m,hasPinRichMetadata:!!m.richMetadata,hasPinRichMetadataProducts:!!m.richMetadata?.products,hasPinRichMetadataArticle:!!m.richMetadata?.article,hasPinRichMetadataRecipe:!!m.richMetadata?.recipe,hasPinStoryPinData:!!m.storyPinData});if(ex&&("shopping_module"===l.type||"inclusive_filters_module"===l.type))"shopping_module"===l.type&&(t=(0,S.jsxs)(d.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,S.jsx)(j.Z,{moduleWidth:"100%",pinKey:m,trafficSource:h,viewParameter:r}),M?.story_type&&(0,S.jsx)(w.default,{filter:N,story:M,viewParameter:r})]}));else switch(l.type){case"closeup_module":t=e;break;case"shopping_module":t=(0,S.jsx)(j.Z,{moduleWidth:"100%",pinKey:m,trafficSource:h,viewParameter:r});break;case"inclusive_filters_module":t=(0,S.jsx)(w.default,{filter:N,story:M,viewParameter:r});break;case"story":switch((0,er.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:l.story_type||"unknown",surface:"closeup"}}),l.story_type){case"BUBBLE_ONE_COL":t=(0,S.jsx)(ei.default,{bubbles:l.objects,id:l.id,referringSource:l.referring_source,slotIndex:n,storyType:l.story_type,title:l.title,viewParameter:r,viewType:3});break;case"related_query_shop_upsell_closeup":t=(0,S.jsx)(z.default,{itemIdx:n,story:l,viewParameter:r,viewType:3});break;default:t=null}l.container_type&&B.includes(l.container_type)&&(t=(0,S.jsx)(O,{data:l}));break;default:let s=(0,$.Z)(i);t=(0,S.jsx)(et.ZP,{componentType:13007,duploQueryRef:null,imageOnlyOption:s?"image-only":"default",pinId:l.id,pinImageCrop:k?es(k):null,slotIndex:n,surface:a,trackingParams:l?.tracking_params,viewData:{pin_id:m.entityId},viewParameter:r,viewType:3})}return(0,S.jsx)(C.Z,{children:t})},ev=t.data?t.data.length:0;(0,r.useEffect)(()=>{s(0!==ev)},[ev,s]);let eb=(0,r.useRef)(!1),eT=(0,r.useRef)(0),eF=(0,q.B)(),eI=()=>{eT.current=performance.now()};(0,en.Z)(()=>{eb.current||(eb.current=!0,eF?.start())}),(0,r.useEffect)(()=>{eb.current&&(P||(eF?.abort(),eb.current=!1),0!==eS.length&&(eg&&(eF?.stop(),eb.current=!1),eT.current>0&&(eF?.stop(eT.current),eb.current=!1)))},[P,eg,eF,eF?.isTiming,eS.length]);let ew=n&&ey===Q.qx,eC=(0,U.Z)({isHiddenPin:m?.isHidden,isUnsafePin:m?.isUnsafe});return(0,S.jsx)(W.Z,{onVisibilityChange:e=>{v(e.some(e=>e.isIntersecting))},options:{threshold:[0]},children:e=>(0,S.jsx)(d.xu,{ref:e,children:(0,S.jsx)(d.xu,{ref:_,children:(0,S.jsx)(ea.Z,{clientTrackingParams:l,component:86,viewParameter:(0,X.Z)({hasPin:!!m,hasPinRichMetadata:!!m.richMetadata,hasPinRichMetadataProducts:!!m.richMetadata?.products,hasPinRichMetadataArticle:!!m.richMetadata?.article,hasPinRichMetadataRecipe:!!m.richMetadata?.recipe,hasPinStoryPinData:!!m.storyPinData}),children:(0,S.jsxs)(r.Fragment,{children:[(0,S.jsx)(Y.Z,{isAtEndOfFeed:eg,isPlaceholderGrid:!0,itemCount:eS.length,stopwatchContext:eF,stopwatchSetVisuallyCompleteResult:eI,children:(0,S.jsx)(H.default,{_dynamicHeights:c,_getColumnSpanConfig:c?eo:void 0,_getResponsiveModuleConfigForSecondItem:c?(0,K.f)(!!V):void 0,align:c?"center":void 0,cacheKey:ed,isFetching:eh,isGridCentered:g,isLoadedAccessibilityLabel:eS.length>0?u.bt("     ", "Loaded more related product results", "closeup.relatedProducts.results", undefined, true):u.bt("    ", "Loaded related products result", "closeup.relatedProducts.results", undefined, true),isLoadingAccessibilityLabel:eS.length>0?u.bt("     ", "Loading more related products results", "closeup.relatedProducts.loading", undefined, true):u.bt("    ", "Loading related products results", "closeup.relatedProducts.loading", undefined, true),items:eS,layout:"basic",loadItems:em,masonryRef:T,minCols:c?2:void 0,renderItem:eP,scrollContainerRef:b,serverRender:!0,useLoadingState:eC})}),ew&&ev>0&&(0,S.jsx)(F.Z,{}),ew&&0===ev&&(0,S.jsx)(I.Z,{})]})})})})})};function ec({pinKey:e,relatedModulesRef:a,...l}){let n=(0,G.ZP)(),i=(0,V.Z)(),{clientTrackingParams:t,closeupWithinMasonryEnabled:s}=(0,f.x4)(),d=(0,o.TH)(),u=(0,o.k6)(),c=(0,h.Z)(ed,e),p=(0,el.mB)(d.search).rs,g=u?.action==="POP";return(0,r.useEffect)(()=>{(0,E.Z)({isFromBackButton:g,referringSource:p,relatedModulesRef:a})},[g,d,p,a]),(0,S.jsx)(q.Q,{children:(0,S.jsx)(eu,{...l,clientTrackingParams:t,closeupWithinMasonryEnabled:s,i18n:n,logContextEvent:i,pin:c,relatedPinsInRow:s})})}var ep=l(788730),eg=l(195658),em=l(433100),e_=l(190665),eh=l(383022),ey=l(309266),ef=l(758594);let ek=(0,k.Z)(()=>l.e("80949").then(l.bind(l,1515)),void 0,e=>1515,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),eS=new Set([...ep.aW,"related_domain_carousel","related_products_collage","SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"]),ex=void 0!==t?t:t=l(684517);function eP({clientTrackingParams:e,closeupBody:a,isRelatedPins10PercentVisible:l,isVideoPin:n,pinKey:i,relatedResourceOptions:t,searchQuery:s,relatedPinsContainerRef:o,setRelatedPinsHeaderRef:u,topLevelTrafficSource:c,trafficSource:p,viewParameter:g,viewportSize:m}){let{closeupWithinMasonryEnabled:_}=(0,f.x4)(),[y,k]=(0,r.useState)(!n),x=(0,J.Z)(y?t:null),P=(0,eh.Z)(),v=(0,e_.Z)(),b=(0,ey.Z)(),{cacheOneBarModules:F,cachedProductFilterOneBarModules:I}=(0,em.X)(),w=(0,r.useRef)(null),C=(0,r.useCallback)(e=>{e&&(w.current=e)},[]),[A,K]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=y?void 0:setTimeout(()=>k(!0),_&&n?1e3:0);return()=>clearTimeout(e)},[_,n,y]);let L=(0,h.Z)(ex,i),{isInCloseupShoppingRefinementsExp:j,shouldFetchSLURPFields:E}=(0,eg.Z)({pinKey:L}),R=(0,J.Z)(j&&v&&L.entityId?{name:"ApiResource",options:{url:`/v3/pins/${L.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...E?["pin.is_eligible_for_closeup_one_bar_refinements"]:[]],data:{applied_unified_filters:v}}}:null),D=R?.data?R:x,Z=D?.data?.find(e=>"story"===e.type&&e.story_type===ep.vs),M=Z?.objects;(0,r.useEffect)(()=>{j&&Z?.objects&&F({baseCacheKey:L.entityId,oneBarModules:Z.objects})},[x,L.entityId,F,j,R,Z?.objects]);let N=!j||j&&!P;return(0,S.jsx)(ef.Z,{metricName:"RelatedModulesFeed",children:(0,S.jsxs)(d.xu,{ref:C,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[A&&(x.data||[]).filter(e=>eS.has(e.story_type)).map((a,n)=>(0,S.jsx)(d.xu,{"data-test-id":`related-module-${a.id}`,direction:"column",display:"flex",children:(0,S.jsx)(T,{ref:w,clientTrackingParams:e,isRelatedPins10PercentVisible:l,pinKey:L,searchQuery:s,setRelatedPinsHeaderRef:u,slotIndex:n,story:a,trafficSource:p,viewParameter:g,viewportSize:m})},`related-module-${a.id}`)),M&&M.length>0&&I&&I.length>0&&(0,S.jsx)(ek,{oneBarModules:M,viewParameter:g,viewType:3}),j&&P&&(0,S.jsx)(ec,{closeupBody:a,isFilteredFeed:!0,lfvExperiences:b,pinKey:L,relatedModulesRef:w,relatedPinsContainerRef:o,relatedPinsResource:R,setHasRelatedPins:K,surface:"ShoppingDynamicHeightGrid",topLevelTrafficSource:c,viewParameter:g}),N&&(0,S.jsx)(ec,{closeupBody:a,lfvExperiences:b,pinKey:L,relatedModulesRef:w,relatedPinsContainerRef:o,relatedPinsResource:x,setHasRelatedPins:K,topLevelTrafficSource:c,viewParameter:g})]})})}var ev=l(928585),eb=l(110261),eT=l(877733),eF=l(17841),eI=l(4533),ew=l(81221),eC=l(201363),eA=l(719301),eK=l(663),eL=l(200301),ej=l(230201),eE=l(470205),eR=l(681698),eD=l(176714),eZ=l(856853),eM=l(391696),eN=l(240571),eB=l(49104),eO=l(566431),ez=l(296339),eU=l(35169),eV=l(438303),eH=l(613567),eG=l(830031),eW=l(398006),e$=l(23641),eX=l(774838),eY=l(34550),eq=l(213539),eQ=l(730448),eJ=l(736328),e0=l(439048),e1=l(577356),e3=l(575647),e6=l(366863),e2=l(200619),e5=l(601871),e7=l(417525),e4=l(15392),e8=l(289747),e9=l(76849),ae=l(715987),aa=l(271875),al=l(386385),an=l(250704),ai=l(490515),at=l(74195);let ar=(0,k.Z)(()=>l.e("96615").then(l.bind(l,430505)),{ssr:!1},e=>430505,"CloseupPartnerModule"),as=(0,k.Z)(()=>l.e("54347").then(l.bind(l,416843)),{ssr:!1},e=>416843,"SponsorshipApprovalModule"),ao={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},ad={boxShadow:"unset",borderRadius:ep.uO};function au({conversation_id:e,senderId:a,pinId:l}){(0,eR.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:a,pin:l}})}let ac=({isWideVideo:e,viewportSize:a,peekCloseupEnabled:l})=>!["md","sm"].includes(a)&&!e||l&&"sm"!==a;function ap(e){let{clientTrackingParams:a,closeupWithinMasonryEnabled:l=!1,conversation_id:n,conversationOpen:i,didRepin:t,getStringifiedCommerceAuxData:s,isCloseupRelatedPinsAboveTheFoldEnabled:o=!1,isEligibleForStaticImageIdeaPin:c,isLandingPage:h,isRelatedPins10PercentVisible:y,logContextEvent:f,onHandleBackButtonClick:k,openInbox:x,orbacActingAs:P,peekCloseupEnabled:v=!1,pin:b,pinDerivedData:T,pinId:F,pinResource:I,relatedPinsContainerRef:w,senderId:C,setAbortNoActionPlacementTimeout:A,setMostRecentPinId:K,setMostRecentPinImage:L,setPlacementExtraContext:j,shouldShowInbox:E,storyPinTaggedProductsResource:R,verticalNavWidth:D,viewer:Z}=e,{pin:M,shopping:N,visualState:B,isCloseupMaximized:O=!1,isCommentSectionOpen:z=!1,didShortClickThrough:U=!1,didPinClickThrough:V=!1,firstLoadComplete:H=!1,intervalId:G,viewportSize:W="lg",isOverRelatedPins:$=!1}=e.initialState||{},[Y,q]=(0,r.useState)(M),[Q,J]=(0,r.useState)(B),[ee,ea]=(0,r.useState)(O),[el,ei]=(0,r.useState)(z),[et,es]=(0,r.useState)(U),[eo,ed]=(0,r.useState)(V),[eu,ec]=(0,r.useState)(H),[eg,em]=(0,r.useState)(G),[e_,eh]=(0,r.useState)(!1),[ey,ef]=(0,r.useState)(W),[ek,eS]=(0,r.useState)($),ex=(0,r.useRef)(!1),ev=(0,r.useRef)(!1),eb=(0,r.useRef)(0),eT=(0,r.useRef)(null),ew=(0,r.useRef)(null),ej=(0,e6.Z)(F),eR=(0,e6.Z)(t),eM=(0,e6.Z)(h),ez=(0,r.useCallback)(e=>{eT.current=e},[]),eU=(0,r.useCallback)(e=>{ew.current=e},[]),eH=(0,r.useCallback)(()=>{if(!ev.current)return;let{BACKBUTTON_WIDE_BREAKPOINT:e,BREAKPOINT:a,STACKED_CLOSEUP_BACKBUTTON_NARROW_BREAKPOINT:n,BACKBUTTON_NARROW_BREAKPOINT:i,EXP_SM_BREAKPOINT:t,SM_BREAKPOINT:r}=(0,ep.le)({verticalNavWidth:D}),s=l?t:r,o="lg";"undefined"!=typeof window&&window.innerWidth<a&&(o=window.innerWidth<s?"sm":"md");let d=l?n:i;eh("undefined"!=typeof window&&(!l&&"lg"===o&&window.innerWidth<=e||["md","sm"].includes(o)&&window.innerWidth<=d)),ef(o)},[l,D]),eG=(0,r.useMemo)(()=>(0,eQ.Z)(eH,50),[eH]),eW=(0,r.useCallback)(()=>{clearInterval(eg),j&&j({didLongClickThrough:!0})},[eg,j]),eX=(0,r.useCallback)(l=>{let{pinFormattedLink:n,viewer:i,trafficSource:t,logContextEvent:r,getStringifiedCommerceAuxData:s,isEligibleForStaticImageIdeaPin:o,isCloseupMediaViewerOpen:d}=e,u=!!b?.story_pin_data_id&&o,{wasImageClicked:c,auxData:p,componentType:g=u?228:4,elementType:m=c?35:u?11157:361,viewType:_=d?675:3}=l||{},h=(0,X.Z)({hasPin:!!b,hasPinRichMetadata:!!b?.rich_metadata,hasPinRichMetadataProducts:!!b?.rich_metadata?.products,hasPinRichMetadataArticle:!!b?.rich_metadata?.article,hasPinRichMetadataRecipe:!!b?.rich_metadata?.recipe,hasPinStoryPinData:!!b?.story_pin_data}),y={...s?.(),...p||{},is_promoted:b?.is_promoted};i?.isAuth&&!eo&&j&&(j({didPinClickThrough:!0}),ed(!0)),u&&r?.({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:b?.id,url:n}}),r?.({event_type:101,object_id_str:F,component:g,element:m,clientTrackingParams:a,aux_data:{...s?.(),...p||{}}}),r?.({event_type:12,object_id_str:F,view_type:_,view_parameter:h,component:g,element:m,aux_data:y,clientTrackingParams:a}),r?.({event_type:8948,view_type:_,view_parameter:h,component:g,element:m,object_id_str:F,clientTrackingParams:a,aux_data:{click_type:"clickthrough",closeup_navigation_type:t&&eO.sV(t)?"deeplink":"click",...s?.(),...p||{}}}),c&&em(window.setInterval(eW,12e4)),eb.current=Date.now(),et&&es(!1),A(!0)},[e,b,eo,j,F,a,et,A,eW]),eJ=(0,r.useCallback)(()=>{clearInterval(eg),j&&j({didLongClickThrough:!1})},[eg,j]),e1=(0,r.useCallback)(()=>{eb.current>0&&(es(Date.now()-eb.current<5e3),eb.current=0)},[]),e3=(0,r.useCallback)(()=>{f?.({event_type:101,object_id_str:Y?.id,component:4,element:0,clientTrackingParams:a,aux_data:{...s?.()}}),A(!0)},[f,Y?.id,a,s,A]),e2=(0,r.useCallback)(()=>{k()},[k]),{isEnabled:e7}=(0,g.Z)({dangerouslySkipActivation:!0}),ae=(0,r.useCallback)(e=>{eu&&((0,er.nP)(`closeup.dweb.css_carousel.${e7?"enabled":"control"}.global_carousel_index_update`,{sampleRate:1,tags:{index:e}}),J(a=>({...a,carouselData:{...a.carouselData||{},index:e}})))},[eu,e7]),aa=(0,r.useMemo)(()=>(0,eQ.Z)(()=>{if(!ew.current)return;let e=al.hu,a=(ew.current?.getBoundingClientRect().top??0)<=e;eS(e=>!!a||e&&a),!a&&ek&&eS(!1)},10),[ek]),an=(0,r.useCallback)(e=>{ea(!e),eT&&(eT.ariaHidden=!e)},[ea]),ai=(0,r.useCallback)(e=>{e.stopPropagation(),e2()},[e2]),at=(0,r.useCallback)(a=>{let{setIsCommentThreadExpanded:l,logContextEvent:n}=e;ei(!!a),l?.(!!a),a&&n?.({component:13464,element:11981,event_type:10554,view_type:3})},[e]),ap=(0,r.useCallback)(()=>{let a=b?.board||{},l=e.viewer,n=a.is_collaborative&&(0,eC.Z)(a?.collaborated_by_me,a?.owner?.id,l);return!!(l.isAuth&&b?.pinner?.id===l.id||n)},[b?.board,b?.pinner?.id,e.viewer]),ag=(0,r.useCallback)(()=>{let a;let{mainImage:l}=e;if(!eu)return;let n=(0,eK.Z)({carouselData:b?.carousel_data,images:b?.images,product:b?.rich_metadata?.products?.[0]||b?.rich_summary?.products?.[0]}),i=(n?.carousel_slots||[])[0]||{},t=(0,eL.Z)(i.images),r=Q.carouselData,s=Q.mainImage||{url:""},o=r?.index||0;a=n&&(n.carousel_slots?.length||0)>1?{mainImage:l,carouselData:{...n,index:o},previewImage:(0,e9.Yf)(b?.images?.["236x"])}:t?.url?{mainImage:{url:t.url,height:t.height||1,width:t.width||1}}:{mainImage:l,previewImage:(0,e9.Yf)(b?.images?.["236x"])};let d=a.carouselData?.id,u=r?.id,c=a.carouselData?.carousel_slots,p=r?.carousel_slots,g=a.mainImage?.url??"",m=s.url??"";(u!==d||JSON.stringify(p)!==JSON.stringify(c)||m!==g)&&J(a)},[b,e,eu,Q]);(0,r.useEffect)(()=>{let{didRepin:a,isLandingPage:l,pinResource:{data:i},pwtSurfaceContext:t}=e;ag(),eu&&!ex.current&&(t?.removeConstraint?.("thumbnailsLoaded"),(0,e$.l7)("thumbnailsLoaded"),ex.current=!0),i&&!eu&&(i.carousel_data&&(i.carousel_data.index=Q.carouselData?.index||0),q(i),ec(!0)),n&&C&&F&&ej!==F&&au({conversation_id:n,senderId:C,pinId:F});let r={};((0,eY.M0)().getItem(eI.W3)||"").includes(`/pin/${F}`)&&l&&(r.loginPageType="pin"),a&&(r.didRepin=!0),b?.image_signature&&(r.pin_image_signature=b.image_signature),r.is_own_or_group_pin=ap();let s=eR!==a||e.isLandingPage!==eM||ej!==F;!(0,eZ.Z)(r)&&s&&j&&j({...r})},[F,C,n,e,eu,ex,Q.carouselData,j,ej,ag,b.image_signature,ap,eR,eM]),(0,en.Z)(()=>(ev.current=!0,n&&C&&F&&au({conversation_id:n,senderId:C,pinId:F}),n&&(i?.(n),E&&x?.()),b?.image_signature&&L?.(b.image_signature),F&&K?.(F),j&&j({is_own_or_group_pin:ap()}),eH(),window.addEventListener("resize",eG),window.addEventListener("focus",e1),window?.location?.search?.includes("invite_code=")&&(0,eD.Z)(),()=>{window.removeEventListener("resize",eG),window.removeEventListener("focus",e1),ev.current=!1}));let am=e4.u6,a_=e.isCommentThreadExpanded||!1,{recommendation_reason:ah}=b,{contextPinIds:ay,experimentsClient:{checkExperiment:af},landingContext:ak,searchQuery:aS,shouldFetchSLURPFields:ax,topLevelTrafficSource:aP,topLevelTrafficSourceDepth:av,trafficSource:ab}=e,aT={name:"RelatedModulesResource",options:{additional_fields:(0,r.useCallback)(()=>{let e=ax?["pin.is_eligible_for_closeup_one_bar_refinements"]:[],a=af("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return a&&(["control_pwt","enabled_pwt"].includes(a)&&af("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==a&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[ax,af])(),pin_id:b.id,context_pin_ids:ay,homefeed_source_sig:ah&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(ah.reason)&&ah.reason_id,page_size:12,search_query:aS,source:ab,top_level_source:aP,top_level_source_depth:av,is_pdp:!1,landing_context:ak}},aF=(0,e5.q6)(Z,b.pinner?.id,P),aI=!!b.id&&!aF||l,{data:aw}=R||{},aC=function({isCommentThreadExpanded:a,storyPinTaggedProducts:l,maxWidth:n,isEligibleForStaticImageIdeaPin:i,clientTrackingParams:t}){let s;let{experimentsClient:{checkExperiment:o},isLimitedLogin:c,pin:g,pinDerivedData:m,pinResource:_,requestContext:h,routePush:y,showRepinOnInitialRender:f,trafficSource:k,userBusinessRoleResource:x,trendsData:v,closeupWithinMasonryEnabled:b,peekCloseupEnabled:T,isCloseupRelatedPinsAboveTheFoldEnabled:F}=e,{id:I,sponsorship:w,story_pin_data_id:C,story_pin_data:A}=g,K=!!C&&!i,L=!!A?.is_deleted,{creator:j,sponsor:E,status:R}=w||{},{username:D}=j||{},{username:M}=E||{},{refresh:B}=_,O=(0,e5.lJ)(Z,P),{data:z}=x||{},U=!g.is_repin&&!!M,V=M===Z.username?[eA.V3.OWNER]:z?.permissions,H=M===Z.username||!!V?.find(e=>eF.Z.includes(e)),G=M===Z.username||!!V?.find(e=>eF.Z.includes(e)),{isWideVideo:W}=(0,eB.Z)((0,eV.Z)({pin:g}))||{},$=(0,eN.rh)(g&&{aggregatedPinData:g.aggregated_pin_data&&{creatorAnalytics:g.aggregated_pin_data.creator_analytics&&{_30dRealtime:g.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:g.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:g.board&&{privacy:g.board.privacy},creatorAnalytics:g.creator_analytics&&{_30dRealtime:g.creator_analytics["30d_realtime"]&&{carId:g.creator_analytics["30d_realtime"].id}},isRepin:g.is_repin,pinner:g.pinner&&{entityId:g.pinner.id},storyPinDataId:g.story_pin_data_id,videos:g.videos&&{videoList:g.videos.video_list&&{__typename:"VideoList"}}},Z,O),X=(0,u.CA)(v?.data),Y=U&&Z.isAuth&&o("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(H&&0===R||G&&1===R),q=g.link_domain?.official_user?.username||g.native_creator?.username,Q=(0,e5.Ms)(Z,P)===q&&(0,e5.nl)(Z,P)&&h.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,J=K&&(A?.pages?.length??0)>0,ea=(0,eN.WE)(Z,ey,$,X,v,Y);s=K?{boxShadow:void 0,borderRadius:void 0}:b?ad:ep.te;let en=J?226:3;en=F?3:en;let ei=(0,S.jsx)(eE.Z,{name:"CloseupBody",children:(0,S.jsxs)(d.xu,{ref:ez,color:"default",direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,S.jsxs)(d.xu,{alignItems:W?"center":void 0,direction:W?"column":void 0,display:W?"flex":void 0,children:[Y&&"number"==typeof R&&(0,S.jsx)(d.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,S.jsx)(eE.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,S.jsx)(as,{business_role:V,creatorUsername:D??"",pinId:I,sponsorshipStatus:R})})}),ea&&!K&&!b&&(0,S.jsx)(d.xu,{"data-test-id":"PartnerModule",width:"lg"===ey&&W?n:"100%",children:(0,S.jsx)(eE.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,S.jsx)(ar,{borderStyle:s,isStoryPin:K,pinKey:{type:"deprecated",data:g},showPinStats:$,trendsData:X?v?.data?.results:null,viewportSize:ey})})})]}),(0,S.jsx)(d.xu,{"data-test-id":"closeup-body",flex:"grow",children:(0,S.jsx)(p.Z,{clientTrackingParams:t,data:_.data,didShortClickThrough:et,goBack:e2,handleCarouselSwipe:ae,isCloseupMaximized:ee,isCommentSectionOpen:!F&&el||a,isDeletedStoryPin:!!L,isRelatedPins10PercentVisible:e.isRelatedPins10PercentVisible,isStoryPin:K,isVideoPin:m.isVideoPin,isWideVideo:W,onClickThrough:eX,onCloseupBodyUpdate:eH,onCommentSectionClick:at,onSaveButtonClick:e3,onUpdate:B,outerBodyStyle:s,outerPaddingSize:F?e4.ER:void 0,pin:g,relatedPinsContainerRef:e.relatedPinsContainerRef,routePush:y,shopping:N,shouldShowPartnerModule:ea,shouldShowStlCarouselForOwnPin:Q,showPinStats:$,showRepinOnInitialRender:!c&&f,showTrendsOnPinCloseup:X,storyPinTaggedProducts:l,trafficSource:k,trendsData:v,viewParameterType:J?157:void 0,viewportSize:ey,viewType:en})})]})});return(0,S.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:K?{...ao.storyPinGradientStyle}:{}},"data-test-id":"gradient",display:"flex",flex:T?void 0:"grow",id:"gradient",justifyContent:"center",marginBottom:b?0:4,width:T?void 0:"100%",children:(0,S.jsxs)(r.Fragment,{children:[J&&A&&(0,S.jsx)(eq.Z,{appConfig:{type:"authDesktop",onClickThrough:eX,onNavigateBack:e2},clientTrackingParams:t,onIdeaPinCloseupCommentClick:()=>{at(!0)},onTogglePanel:an,pin:g,storyPinData:A,variant:"closeup",viewParameterType:157,viewType:3}),(0,S.jsx)(e8.Z,{isStoryPin:K,isWideVideo:W,children:ei})]})})}({isCommentThreadExpanded:a_,storyPinTaggedProducts:aw,maxWidth:am,isEligibleForStaticImageIdeaPin:c,clientTrackingParams:a}),aA=(0,S.jsx)(e0.Z,{handleScroll:aa,onClick:e2,showShadow:ek}),aK=(0,S.jsx)(m.Z,{backButton:aA,bodyContent:aC,firstLoadComplete:eu,isVideoPin:T.isVideoPin,onWrapperClick:ai,pin:b,pinResource:I,relatedModulesContent:aI?(0,S.jsx)(eP,{clientTrackingParams:a,closeupBody:aC,isRelatedPins10PercentVisible:y,isVideoPin:T.isVideoPin,pinKey:{type:"deprecated",data:b},relatedPinsContainerRef:w,relatedResourceOptions:aT,searchQuery:aS,setRelatedPinsHeaderRef:eU,topLevelTrafficSource:aP,trafficSource:ab,viewParameter:(0,X.Z)({hasPin:!!b,hasPinRichMetadata:!!b?.rich_metadata,hasPinRichMetadataProducts:!!b?.rich_metadata?.products,hasPinRichMetadataArticle:!!b?.rich_metadata?.article,hasPinRichMetadataRecipe:!!b?.rich_metadata?.recipe,hasPinStoryPinData:!!b?.story_pin_data}),viewportSize:ey}):(0,S.jsx)(r.Fragment,{})}),{abortNoActionPlacementTimeout:aL,calculatedImageHeight:aj,isCloseupMediaViewerOpen:aE,isCommentAttachmentSelectorOpen:aR,isInRemoveMagnifyingGlassVariant:aD,isMediaViewerOpen:aZ,isPinNoteExpanded:aM,isShoppingModuleExpanded:aN,setCalculatedImageHeight:aB,setIsCloseupMediaViewerOpen:aO,setIsCommentAttachmentSelectorOpen:az,setIsCommentThreadExpanded:aU,setIsMediaViewerOpen:aV,setIsPinNoteExpanded:aH,setIsShoppingModuleExpanded:aG}=e;return(0,S.jsx)(_.Z,{abortNoActionPlacementTimeout:aL,calculatedImageHeight:aj,classProps:e,classState:{...e.initialState,pin:Y,shopping:N,visualState:Q,isCloseupMaximized:ee,isCommentSectionOpen:el,didShortClickThrough:et,didPinClickThrough:eo,firstLoadComplete:eu,intervalId:eg,viewportSize:ey,isOverRelatedPins:ek,hideBackButton:e_},clientTrackingParams:a,closeupContent:aK,closeupWithinMasonryEnabled:l,descriptionPaneWidth:am-e4.Gg-(l?4:0),handleBackButtonClick:e2,handleCarouselSwipe:ae,handleFocus:eJ,handleScroll:aa,isCloseupMediaViewerOpen:aE,isCloseupRelatedPinsAboveTheFoldEnabled:o,isCommentAttachmentSelectorOpen:aR,isCommentThreadExpanded:a_,isEligibleForStaticImageIdeaPin:c,isInRemoveMagnifyingGlassVariant:aD,isMediaViewerOpen:aZ,isPinNoteExpanded:aM,isShoppingModuleExpanded:aN,maxWidth:am,paneWidth:e4.Gg,peekCloseupEnabled:v,setAbortNoActionPlacementTimeout:A,setCalculatedImageHeight:aB,setIsCloseupMediaViewerOpen:aO,setIsCommentAttachmentSelectorOpen:az,setIsCommentThreadExpanded:aU,setIsMediaViewerOpen:aV,setIsPinNoteExpanded:aH,setIsShoppingModuleExpanded:aG,showCloseupContentRight:!l&&ac({isWideVideo:eB.Z(eV.Z({pin:b}))?.isWideVideo,viewportSize:ey,peekCloseupEnabled:v}),showProductDetailPage:!1})}let ag=(0,eT.Z)(function(e){var a;let{logContextEvent:l}=(0,ej.v)(),{pin:n,viewer:i,pinResource:t,pinId:s,goToCampaignCreation:d,deepLinkBackGoesToBoard:p,goBack:g,routePush:m,trafficSource:_}=e,h=(0,G.ZP)(),y=(0,eH.F)(),{checkExperiment:f}=y,k=(0,eJ.Z)(),x=(0,eX.B)(),[P,v]=(0,r.useState)(!1),[b,T]=(0,r.useState)(!1),[F,I]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[A,K]=(0,r.useState)(!1),[L,j]=(0,r.useState)(!1),[E,R]=(0,r.useState)(0),[D,Z]=(0,r.useState)(!1),M=(0,at.Z)(),N=(0,r.useRef)(null),[B,O]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{O(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),a=N?.current;return N?.current&&e.observe(N?.current),()=>{a&&e.unobserve(a)}},[N]);let{setMostRecentPinId:z,setMostRecentPinImage:U}=(0,ai.f)(),V=(0,e3.Z)({type:"deprecated",data:n}),H=(0,eO.sY)(n.embed?.type)&&"gif"||n.is_eligible_for_pdp&&"productPin"||n.rich_summary?.type_name==="recipe"&&"recipePin"||!!n.story_pin_data_id&&"storyPin"||!!n.videos?.video_list&&"video"||"image",W="pin_closeup_lcp",$=(0,eW.PY)(W),{conversationOpen:X}=(0,aa.Z)(),Y=(0,e2.Z)(),q=(0,ew.Z)(),Q=(0,eG.E)(),ee=(0,o.TH)(),ea=(0,an.Z)((ee?.state||{}).trackingParams,n.trackingParams||n.tracking_params),el=(0,e1.F9)(),[en,ei]=(0,r.useState)(!1),{advertiser:et}=x,er=(0,e7.xN)(et,s),es=(0,eU.Z)({type:"deprecated",data:n}),{landingContext:eo}=(0,eM.Z)(),ed=(0,e5.lJ)(i,Y),{onHandleBackButtonClick:eu}=(0,ae.Z)({logCommerceAuxData:n.promoted_is_lead_ad,deepLinkBackGoesToBoard:p,goBack:g,routePush:m,trafficSource:_,viewer:i,requestContext:x,pinKey:{type:"deprecated",data:n}},l);(0,r.useEffect)(()=>{t.data&&!en&&d&&ei(!0)},[t.data,en,d]),(0,r.useEffect)(()=>{$&&(0,eW.ku)({stopwatchName:W,binaryAnnotationName:"pinType",value:H,annotationType:"STRING"})},[$,H]);let ec=!!n,ep=(0,r.useRef)(!1);ec&&Q&&!ep.current&&(Q.addBinaryAnnotation("pinType",H,"STRING"),(0,e$.rt)("pinType",H,"STRING"),ep.current=!0);let em=n.sponsorship?.sponsor?.id,e_=!n.is_repin&&!!em,eh=(0,J.Z)(em&&e_&&i.isAuth&&"storyPin"===H?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${em}/me/ad_accounts_permissions/`}}:null),ey=i.isAuth&&(a=i.country,!c.includes(a))&&(0,u.Gv)({orbacSubjectId:ed,pinIsRepin:n.is_repin,pinPinnerId:n.pinner?.id,viewerId:i.id,viewerIsPartner:i.isPartner}),{data:ef,isLoaded:ek}=(0,J.Z)(ey?{name:"ApiResource",options:{url:`/v3/trends/partner/${i.id||""}/trends_for_pin/${n.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:eS}=(0,ev.Z)(),ex=i.isAuth&&f("closeup_dweb_remove_magnifying_glass").anyEnabled,{shouldFetchSLURPFields:eP}=(0,eg.Z)({pinKey:{type:"deprecated",data:n}}),eT=!!n.story_pin_data_id,eF=(0,eb.Z)({pin:n,pinId:s,pinResource:t}),{getMainPinImage:eI}=(0,ez.Z)({pinKey:{type:"deprecated",data:n}});return en?(window.location.assign(er),(0,S.jsx)(r.Fragment,{})):(0,S.jsx)(ap,{...e,abortNoActionPlacementTimeout:D,calculatedImageHeight:E,clientTrackingParams:ea,closeupWithinMasonryEnabled:eS,conversationOpen:X,experimentsClient:y,getSterlingURL:q,getStringifiedCommerceAuxData:V,i18n:h,initialState:eF,isCloseupMediaViewerOpen:F,isCloseupRelatedPinsAboveTheFoldEnabled:!0,isCommentAttachmentSelectorOpen:P,isCommentThreadExpanded:b,isEligibleForStaticImageIdeaPin:eT,isInRemoveMagnifyingGlassVariant:ex,isMediaViewerOpen:w,isPinNoteExpanded:A,isRelatedPins10PercentVisible:B,isShoppingModuleExpanded:L,landingContext:eo,location:ee,logContextEvent:l,mainImage:eI(),onHandleBackButtonClick:eu,orbacActingAs:Y,peekCloseupEnabled:!eS,pinFormattedLink:es,pwtSurfaceContext:Q,relatedPinsContainerRef:N,requestContext:x,setAbortNoActionPlacementTimeout:Z,setCalculatedImageHeight:R,setIsCloseupMediaViewerOpen:I,setIsCommentAttachmentSelectorOpen:v,setIsCommentThreadExpanded:T,setIsMediaViewerOpen:C,setIsPinNoteExpanded:K,setIsShoppingModuleExpanded:j,setMostRecentPinId:z,setMostRecentPinImage:U,shouldFetchSLURPFields:eP,toastManager:el,trackInteraction:k,trendsData:{data:ef,isLoaded:!ey||ek},userBusinessRoleResource:eh,verticalNavWidth:M})});function am(e){let a=(0,J.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,S.jsx)(ag,{...e,storyPinTaggedProductsResource:a})}var a_=l(375217),ah=l(400962),ay=l(462867),af=l(228612);function ak(e){let{previous:a}=(0,ah.Hv)(),l=0===a.length,{children:n}=e,i=(0,o.TH)(),t=(0,ay.Z)(),r=(0,s.I0)(),{isBot:d}=(0,eX.B)(),{dropdownOpen:u}=(0,aa.Z)(),c=(0,af.AF)(),p=!!c[e.pinId]&&(c[e.pinId].saved||!!c[e.pinId].savedInfo),g=c[e.pinId]||e.pinResource.data||{},m=e.pinResource.data?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video,_=g?.story_pin_data?.pages?.[0]?.blocks?.[0];m&&_&&!_?.video&&((g?.story_pin_data?.pages?.[0]?.blocks?.[0]).video=m);let h="inbox"===(0,el.mB)(i.search).tab;return n({isLandingPage:l,isLimitedLogin:!!t.isAuth&&t.isLimitedLogin,didRepin:p,openInbox:u,pin:g,shouldShowInbox:h,updateExperienceForPlacement:e=>{r((0,a_.pz)([e],d))}})}var aS=l(399312),ax=l(454435),aP=l(734473),av=l(521367),ab=l(683372);let aT=({pathname:e})=>/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(e),aF=e=>!!e&&((0,ab.C)(e)||aT(e)),aI=e=>e.map(e=>aF(e.location)).find(e=>!0===e)??!1;var aw=l(505633),aC=l(925201);function aA(e,a=!1){let l=e||window.location.href;(0,aw.Z)(`/login?next=${a?(0,aC.Z)(l,{type:"signup"}):encodeURIComponent(l)}`)}var aK=l(331357),aL=l(148),aj=l(267092);let aE=(0,k.Z)(()=>l.e("8479").then(l.bind(l,532197)),void 0,e=>532197,"app-common-react-components-StatusPin-StatusPinCloseup"),aR=({id:e,story_pin_data:a,videos:l})=>(e&&l?.id&&l.video_list?[l.video_list.V_720P,l.video_list.V_HLSV4,l.video_list.V_HLSV3_MOBILE]:[]).some(e=>e&&e.thumbnail&&e.url&&!!e.width&&!!e.height)||((a?.pages?.[0]||{}).blocks??[]).some(e=>!!e.video),aD=e=>({isVideoPin:!!e&&aR(e)});function aZ({checkExperiment:e,clientTrackingParams:a,currentHistoryStack:l,history:n,location:i,params:t,pinResource:s,requestContext:o,searchPinCloseupViewed:d,goToCampaignCreation:u,showRepin:c,viewer:p,CloseupComponent:g,...m}){let _=s.data,h=s.isLoaded,y=(0,r.useRef)(null),f=h&&_&&_.pinner&&p.isAuth&&p.username===_.pinner.username&&h&&_&&"extension"===_.method,{trafficSource:k,topLevelTrafficSource:x,topLevelTrafficSourceDepth:P,contextPinIds:v}=(0,aS.Z)(l,p.isAuth);P>1&&"pin"!==k&&(0,er.nP)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:k,topLevelTrafficSource:x,topLevelTrafficSourceDepth:P}});let b=(0,ab._)(l),T=(0,el.mB)(i.search);(0,r.useEffect)(()=>{y!==_&&function({history:e,isBot:a,location:l,viewerId:n,viewerIsAuth:i}){!a&&n&&"undefined"!=typeof window&&(0,aK.U)(window.location,n,!1,i,a=>e.replace(a,l.state))}({history:n,isBot:o.isBot,location:i,viewerId:p.id||"",viewerIsAuth:p.isAuth}),y.current=_},[n,i,y,_,o.isBot,p.id,p.isAuth]),(0,r.useEffect)(()=>()=>{b&&_?.id&&d(_.id,b)},[_?.id,b,d]);let F=(0,r.useMemo)(()=>({viewType:3,viewParameter:(0,X.Z)({hasPin:!!_,hasPinRichMetadata:!!_?.rich_metadata,hasPinRichMetadataProducts:!!_?.rich_metadata?.products,hasPinRichMetadataArticle:!!_?.rich_metadata?.article,hasPinRichMetadataRecipe:!!_?.rich_metadata?.recipe,hasPinStoryPinData:!!_?.story_pin_data})}),[_]);return(0,S.jsx)(aP.Q,{value:{featuredCommentId:t.comment_id||""},children:(0,S.jsx)(aL.v,{value:F,children:(0,S.jsx)(em.f,{children:(0,S.jsx)(av.Ig,{children:(0,S.jsx)(ak,{pinId:t.id||"",pinResource:s,children:({isLandingPage:e,isLimitedLogin:i,didRepin:o,openInbox:d,pin:h,shouldShowInbox:y,updateExperienceForPlacement:F})=>(0,S.jsx)(r.Fragment,{children:(0,S.jsx)(g,{clientTrackingParams:a,contextPinIds:v,conversation_id:T.conversation_id,deepLinkBackGoesToBoard:f,didRepin:o,emailId:T.e_t,forceSendFeedback:T.fsf,goBack:function({boardUrl:e,currentHistoryStack:a,history:l,isFromExtension:n=!1,hasViewerPartner:i}){return()=>{if(!aI(a)&&!n){i?l.push("/homefeed/"):l.push("/");return}if(n&&1===a.length){l.push(e??"");return}l.goBack()}}({boardUrl:_?.board?.url,currentHistoryStack:l,history:n,isFromExtension:!!f,hasViewerPartner:!!p.partner}),goToCampaignCreation:u,isLandingPage:e,isLimitedLogin:i,messageId:T.message,onLoginClick:aA,openInbox:d,pin:h,pinDerivedData:aD(h),pinId:t.id??"",pinResource:s,routePush:n.push,searchQuery:b,senderId:T.sender,shouldShowInbox:y,showRepinOnInitialRender:c,topLevelTrafficSource:x,topLevelTrafficSourceDepth:P,trafficSource:k,updateExperienceForPlacement:F,viewer:p,...m})})})})})})})}function aM(e){let{pinResource:a}=e,l=a.data,{is_hidden:n,is_unsafe:i}=l||{},t=l?.story_pin_data?.has_product_pins,r=(0,U.Z)({isHiddenPin:n,isUnsafePin:i}),s=ag;return r&&t&&(s=am),(0,S.jsx)(aZ,{...e,CloseupComponent:s})}function aN(e){let a=(0,s.I0)(),l=(0,ay.Z)(),n=(0,o.UO)(),i=(0,ah.aX)(),t={...e,history:(0,o.k6)(),location:(0,o.TH)(),params:n,requestContext:(0,eX.B)(),searchPinCloseupViewed:(e,l)=>a((0,aj.Y4)(e,l)),viewer:l},{checkExperiment:d}=(0,eH.F)();return(0,S.jsx)(ax.Z,{orbacSubjectId:(0,e5.lJ)(l,(0,e2.Z)()),pinId:n.id||"",children:({pinResource:e})=>{let a=e&&e.data;return a&&(0,eO._J)(a.video_status)?(0,S.jsx)(aE,{pinKey:{type:"deprecated",data:a},...t}):(0,r.createElement)(aM,{...t,key:n.id,checkExperiment:d,currentHistoryStack:i,pinResource:e})}})}},646941:function(e,a,l){l.d(a,{Z:()=>x});var n=l(667294),i=l(883119),t=l(788730),r=l(928585),s=l(19817),o=l(752031),d=l(216762),u=l(806513),c=l(891851),p=l(830031),g=l(730448),m=l(893957),_=l(133546),h=l(330572),y=l(49254),f=l(542515),k=l(767415),S=l(785893);function x({pin:e,pinResource:a,topLevelTrafficSource:l,firstLoadComplete:x,relatedModulesContent:P,onWrapperClick:v,beforeBodyContent:b,afterBodyContent:T,isVideoPin:F,bodyContent:I,backButton:w}){let C=(0,p.E)(),{isCloseupRelatedPinsAboveTheFoldEnabled:A,isInRemoveMagnifyingGlassVariant:K,closeupWithinMasonryEnabled:L,peekCloseupEnabled:j,viewportSize:E}=(0,_.x4)(),{mainImage:R}=(0,o.r)(),{sideBySideRedesignFastFollowsEnabled:D}=(0,r.Z)(),Z=(0,y.t)(),{error:M}=a,{story_pin_data_id:N}=e||{},[B,O]=(0,n.useState)(L||!F);(0,n.useEffect)(()=>{let e=B?void 0:setTimeout(()=>O(!0),L?0:1e3);return()=>clearTimeout(e)},[L,B]);let{isEligibleForStaticImageIdeaPin:z}=(0,s.Z)(e.should_open_in_stream,e.story_pin_data_id),U=(0,n.useRef)(null),V=(0,n.useRef)(null),[H,G]=(0,n.useState)(void 0),W=u.yF+u.oX,$=Math.floor((H??1)/W),X=W*$-u.oX,Y=(0,n.useCallback)(()=>{U.current&&V.current&&G(window.innerWidth)},[]);(0,f.Z)(()=>{window&&(0,k.nP)("web.closeup.closeup_redesign.handleResize",{sampleRate:.1,tags:{sideBySideEnabled:D,isStoryPin:!!N,isVideoPin:F,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}),j&&Y()},U),(0,m.Z)(()=>{window&&(0,k.nP)("web.closeup.closeup_redesign.initialRender",{sampleRate:.1,tags:{sideBySideEnabled:D,isStoryPin:!!N,isVideoPin:F,windowHeight:window.innerHeight,windowWidth:window.innerWidth}})}),(0,n.useEffect)(()=>{j&&Y()},[Y,j]);let[q,Q]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=(0,g.Z)(function(){R&&window&&(window.scrollY>R.height?Q(!0):Q(!1))},150);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[R]);let{maxWidth:J}=(0,t.Re)();if(Object.keys(e).length,M)return(0,S.jsx)(h.Z,{});let ee=!!N&&!z,ea=B&&P,el=(0,c.Z)({hasPin:!!e,hasPinRichMetadata:!!e?.rich_metadata,hasPinRichMetadataProducts:!!e?.rich_metadata?.products,hasPinRichMetadataArticle:!!e?.rich_metadata?.article,hasPinRichMetadataRecipe:!!e?.rich_metadata?.recipe,hasPinStoryPinData:!!e?.story_pin_data}),en=(0,S.jsx)("div",{ref:V,className:"Closeup Module","data-test-id":x?"closeup-data-loaded":"",onClick:e=>{!K&&(ee||v(e),C&&C?.abort("closefakemodal"))},role:"presentation",style:{cursor:K?void 0:"zoom-out",display:"flex",width:"100%",maxWidth:J,margin:j?"0 auto":void 0,marginTop:A?void 0:"16px"},children:(0,S.jsxs)(i.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"center",children:[j?(0,S.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column"}},display:"flex",marginTop:5,children:[w,b]}):(0,S.jsx)(n.Fragment,{children:b}),I,T]})},"closeup-content");return(0,S.jsx)(i.xu,{ref:U,width:"100%",children:(0,S.jsxs)(i.kC,{direction:L?"row":"column",justifyContent:"center",children:[!L&&en,L&&(w||b)&&(0,S.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginStart:4,children:(0,S.jsxs)(i.Le,{top:Z+2,children:[w,(0,S.jsx)(i.xu,{"aria-hidden":q,dangerouslySetInlineStyle:{__style:{transition:"opacity 300ms ease-in-out"}},opacity:q?0:1,children:b})]})}),(0,S.jsx)(i.kC.Item,{flex:"grow",children:(0,S.jsxs)(i.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingRight:L?"80px":void 0}},direction:"column",display:"flex",justifyContent:"center",paddingX:L?0:4,width:"100%",children:[j&&X&&"lg"!==E&&(0,S.jsx)(i.kC.Item,{alignSelf:"center",children:(0,S.jsx)(d.Z,{moduleWidth:X,pinKey:{type:"deprecated",data:e},trafficSource:l,viewParameter:el})}),ea]})})]})})}},34692:function(e,a,l){l.d(a,{Z:()=>s});var n=l(883119),i=l(861494),t=l(138596),r=l(785893);function s(){let e=(0,t.ZP)();return(0,r.jsxs)(n.xu,{paddingY:16,children:[(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(n.xv,{align:"center",size:"500",weight:"bold",children:e.bt("   ", "You've reached the end", "closeup.filteredFeed.enfOfFeed.title", undefined, true)}),(0,r.jsx)(n.xv,{align:"center",children:e.bt("   ,      .", "Try removing a few filters to help us show more results.", "closeup.filteredFeed.enfOfFeed.actionOne", undefined, true)})]}),(0,r.jsx)(i.Z,{})]})}},819108:function(e,a,l){l.d(a,{Z:()=>s});var n=l(883119),i=l(861494),t=l(138596),r=l(785893);function s(){let e=(0,t.ZP)();return(0,r.jsx)(n.xu,{paddingY:16,children:(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(n.xv,{align:"center",size:"500",weight:"bold",children:e.bt(" ", "No results found", "closeup.filteredFeed.noResultsFound.title", undefined, true)}),(0,r.jsx)(n.xv,{align:"center",children:e.bt("   ,      .", "Try removing a few filters to help us show more results.", "closeup.filteredFeed.noResultsFound.actionOne", undefined, true)}),(0,r.jsx)(i.Z,{})]})})}},510065:function(e,a,l){l.d(a,{Z:()=>f});var n=l(667294),i=l(291211),t=l(195658),r=l(752031),s=l(272598),o=l(470205),d=l(521367),u=l(438303),c=l(891851),p=l(112658),g=l(439048),m=l(133546),_=l(271245),h=l(785893);let y=(0,_.Z)(()=>Promise.resolve().then(l.bind(l,597151)),{ssr:!1},e=>597151,"ExperienceHeroCommon"),f=function({abortNoActionPlacementTimeout:e,classProps:a,classState:l,commerceData:_,showCloseupContentRight:f,showProductDetailPage:k,paneWidth:S,maxWidth:x,descriptionPaneWidth:P,handleCarouselSwipe:v,handleFocus:b,setIsCommentAttachmentSelectorOpen:T,setIsCommentThreadExpanded:F,setIsCloseupMediaViewerOpen:I,setIsMediaViewerOpen:w,setIsPinNoteExpanded:C,setIsProductDetailsExpanded:A,setIsShoppingModuleExpanded:K,handleScroll:L,handleBackButtonClick:j,closeupContent:E,isEligibleForStaticImageIdeaPin:R,isCloseupRelatedPinsAboveTheFoldEnabled:D,isCommentAttachmentSelectorOpen:Z,isCommentThreadExpanded:M,isCloseupMediaViewerOpen:N,isMediaViewerOpen:B,isPinNoteExpanded:O,isProductDetailsExpanded:z,isShoppingModuleExpanded:U,closeupWithinMasonryEnabled:V,peekCloseupEnabled:H,isInRemoveMagnifyingGlassVariant:G,setAbortNoActionPlacementTimeout:W,clientTrackingParams:$,calculatedImageHeight:X,setCalculatedImageHeight:Y}){let{pin:q,pinId:Q}=a,{visualState:{carouselData:J,mainImage:ee,previewImage:ea},hideBackButton:el,isOverRelatedPins:en,viewportSize:ei}=l,et=!!q.story_pin_data_id&&!R,{isInCloseupShoppingRefinementsExp:er}=(0,t.Z)({pinKey:{type:"deprecated",data:q}}),es=(0,h.jsx)(g.Z,{handleScroll:L,marginTop:er?0:void 0,onClick:()=>{j()},showShadow:en});return(0,h.jsx)(m.ZP.Provider,{value:(0,m.Nb)({showCloseupContentRight:f,showProductDetailPage:k,viewportSize:ei,paneWidth:S,maxWidth:x,descriptionPaneWidth:P,isCloseupRelatedPinsAboveTheFoldEnabled:D,isCommentAttachmentSelectorOpen:Z,isCommentThreadExpanded:M,isCloseupMediaViewerOpen:N,isMediaViewerOpen:B,isPinNoteExpanded:O,isProductDetailsExpanded:z,isShoppingModuleExpanded:U,setIsCommentAttachmentSelectorOpen:T,setIsCommentThreadExpanded:F,setIsCloseupMediaViewerOpen:I,setIsMediaViewerOpen:w,setIsPinNoteExpanded:C,setIsProductDetailsExpanded:A,setIsShoppingModuleExpanded:K,closeupWithinMasonryEnabled:V,peekCloseupEnabled:H,isInRemoveMagnifyingGlassVariant:G,setAbortNoActionPlacementTimeout:W,clientTrackingParams:$,calculatedImageHeight:X,setCalculatedImageHeight:Y}),children:(0,h.jsxs)(r.A,{overrideValue:{mainImage:ee,previewImage:ea,carouselInfo:J&&{carouselData:J,handleCarouselSwipe:v,viewType:N?675:3,componentType:q.is_eligible_for_pdp?14186:85,viewParameter:(0,c.Z)({hasPin:!0,hasPinRichMetadata:!!q.rich_metadata,hasPinRichMetadataProducts:!!q.rich_metadata?.products,hasPinRichMetadataArticle:!!q.rich_metadata?.article,hasPinRichMetadataRecipe:!!q.rich_metadata?.recipe,hasPinStoryPinData:!!q.story_pin_data})}},pinKey:{type:"deprecated",data:q},children:[(0,h.jsx)(d.k6,{placementId:1000141}),(0,h.jsx)(d.k6,{placementId:1000499}),(0,h.jsx)(d.H6,{placementId:1000140}),(0,h.jsx)(d.OR,{abortNoActionPlacementTimeout:e,extraContext:{pin_id:Q,is_promoted:q.is_promoted},placementId:1000564}),(0,h.jsx)(d.iH,{placementId:12}),(0,h.jsx)(d.b9,{placementId:12}),(0,h.jsx)(d.nj,{placementId:12}),(0,h.jsx)(d._f,{placementId:12}),(0,h.jsx)(s.Z,{placementId:12}),(0,h.jsx)(p.Z,{auxData:_,clientTrackingParams:$,objectId:Q,view:3,viewParameter:(0,u.Z)(a)?(0,c.Z)({hasPin:!!q,hasPinRichMetadata:!!q.rich_metadata,hasPinRichMetadataProducts:!!q.rich_metadata?.products,hasPinRichMetadataArticle:!!q.rich_metadata?.article,hasPinRichMetadataRecipe:!!q.rich_metadata?.recipe,hasPinStoryPinData:!!q.story_pin_data}):void 0,children:(0,h.jsxs)("div",{className:"reactCloseupScrollContainer","data-test-id":"closeup-layout",onFocus:b,children:[(0,h.jsx)(o.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,h.jsx)(y,{placementId:12})}),(0,h.jsx)(d.O9,{placementId:12}),D?E:(0,h.jsxs)(n.Fragment,{children:[!el&&!et&&es,E]}),!B&&!N&&!Z&&!V&&(0,h.jsx)(i.Z,{onClose:j}),(0,h.jsx)(d.RK,{placementId:12})]})})]})})}},560333:function(e,a,l){l.r(a),l.d(a,{default:()=>k});var n=l(667294),i=l(616550),t=l(883119),r=l(788730),s=l(513314),o=l(230201),d=l(108473),u=l(64627),c=l(613567),p=l(735403),g=l(405897),m=l(893957),_=l(133546),h=l(546746),y=l(261926),f=l(785893);function k({filter:e,story:a,viewParameter:l}){let{logContextEvent:k}=(0,o.v)(),S=(0,i.k6)(),{pathname:x,search:P}=(0,i.TH)(),{closeupWithinMasonryEnabled:v}=(0,_.x4)(),{checkExperiment:b}=(0,c.F)(),T=new URLSearchParams(P).get("f"),F=b("web_skin_tone_filters_closeup_migration",{dangerouslySkipActivation:!0}).anyEnabled,{inInclusiveEfficientRefinements:I}=(0,s.Z)(e),w="skin_tone"===e?13863:13864,C="skin_tone"===e?13803:14935,A="skin_tone"===e?10418:13358,{custom_properties:K,title:L}=a;(0,m.Z)(()=>{k({element:A,event_type:13,component:w,view_type:3,view_parameter:l,aux_data:{story_type:w}})});let j=("skin_tone"===e&&F?K?.skin_tone_filter_list:(0,u.ZP)(e,K))||[],{format:E="",args:R=[]}=L||{},{query:D=""}=R[0]||{},Z=a=>{let n=F?a:(0,d.Z)(a,e);if(D&&k({element:A,view_type:3,view_parameter:l,event_type:101,component:C,aux_data:{entered_query:D,filter_value:n,story_type:w}}),I){let e=n?`?f=${n}`:"";T&&T===n?S.push(x):S.push(`${x}${e}`)}else{let e=(0,p.Z)({query:D,rs:g.i.TYPED||"",scope:"pins",filters:n});S.push(e)}},M="hair_pattern"===e,N=v?y.P.CLOSEUP_FEED:y.P.CLOSEUP_STACKED,B=I?y.P.CLOSEUP_RESPONSIVE:N;return(0,f.jsx)(n.Fragment,{children:v&&!I?(0,f.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:r.tc,gap:"12px"}},direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:6,children:(0,f.jsx)(h.Z,{filters:j,headerTitle:E??"",moduleType:y.P.CLOSEUP_FEED,onClickApplyFilters:Z,query:M?D:void 0,showHairPatternEducationIcon:M,type:e,viewParameter:l,viewType:3})}):(0,f.jsx)(h.Z,{currentlyAppliedFiltersParamTerm:I?T:void 0,filters:j,headerTitle:E??"",moduleType:B,onClickApplyFilters:Z,query:M?D:void 0,showHairPatternEducationIcon:M,type:e,viewParameter:l,viewType:3})})}},236739:function(e,a,l){l.d(a,{Z:()=>_});var n=l(667294),i=l(633301),t=l(883119),r=l(361004),s=l(138596),o=l(59111),d=l(133546),u=l(279394),c=l(380575),p=l(785893);let g=e=>e?"200":r.n;function m({isDarkMode:e,onPress:a,testID:l,label:n,peekCloseupEnabled:i,withShadow:s}){return(0,p.jsxs)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":l,display:"inlineBlock",position:"relative",children:[s&&(0,p.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, black 100%)":"linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, white 100%)",right:"100%"}},height:"100%",position:"absolute",width:"48px"}),(0,p.jsx)(t.iP,{fullWidth:!1,onTap:a,children:(0,p.jsxs)(t.xv,{size:i?"200":r.n,weight:"bold",children:["\xa0...\xa0",n]})})]})}function _({children:e,isDarkMode:a,descriptionDir:l}){let r=(0,n.useRef)(null),[_,h]=(0,n.useState)(0),[y,f]=(0,n.useState)(0),[k,S]=(0,n.useState)(!0),[x,P]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),[T,F]=(0,n.useState)(!1),I=(0,s.ZP)(),{closeupWithinMasonryEnabled:w,isCloseupRelatedPinsAboveTheFoldEnabled:C,peekCloseupEnabled:A}=(0,d.x4)(),K=C?1:3,L=C?600:0;(0,n.useEffect)(()=>{if(r.current&&k){let e;let a=(0,u.xW)(r.current),l=(e=r.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;P(()=>!!l&&(r.current&&(r.current.style.webkitLineClamp="unset",f(r.current?.scrollHeight??0),r.current.style.webkitLineClamp=K.toString()),!0)),S(!1),F(a>=K&&l),h(r.current?.clientHeight)}},[k,S,K,_,y,x]);let j=`${_}px`,E=`${_+y}px`,R=`
    .TruncatedDescription-enter{
      max-height: ${j};
    }
    .TruncatedDescription-enter-active {
      max-height: ${E};
      transition: max-height ${L}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-enter-done {
      max-height: ${E};
    }
    .TruncatedDescription-exit {
      max-height: ${E};
    }
    .TruncatedDescription-exit-active {
      max-height: ${j};
      transition: max-height ${L}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-exit-done {
      max-height: ${j};
    }
    [data-test-id="truncated-description"] div[role=button] {
      outline-offset: -2px;
      outline-width: 2px;
    }
  `,D=e=>b(e),Z=e=>{let l=e?I.bt("", "more", "storyPin.previewText.more", undefined, true):I.bt("", "less", "storyPin.previewText.less", undefined, true);return(0,p.jsx)(m,{isDarkMode:a,label:l,onPress:()=>D(e),peekCloseupEnabled:A,testID:`${e?"more":"less"}-description-container`,withShadow:e&&C})},M=(0,n.useRef)(null);return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(o.Z,{unsafeCSS:R}),(0,p.jsx)(i.Z,{classNames:"TruncatedDescription",in:v,nodeRef:M,onEnter:()=>P(!1),onExited:()=>P(!0),timeout:L,children:(0,p.jsx)(t.xu,{ref:M,"data-test-id":"truncated-description",flex:"grow",overflow:C?"hidden":"visible",position:"relative",width:w?"100%":void 0,children:(0,p.jsx)(c.Z,{dir:l,children:(0,p.jsxs)(t.xv,{ref:r,align:"ltr"===l?"forceLeft":void 0,lineClamp:k||x?K:0,size:g(A),children:[e,T?(0,p.jsxs)(n.Fragment,{children:[v&&Z(!1),(0,p.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:C?"opacity 200ms ease-in-out":void 0,visibility:x?"visible":"hidden"}},opacity:x?1:0,position:"absolute",right:!0,children:Z(!0)})]}):null]})})})})]})}},879029:function(e,a,l){l.d(a,{Z:()=>n});function n(e){return!!e&&e?.replaceAll(" ","").length>0}},797484:function(e,a,l){l.d(a,{Z:()=>r});var n=l(785893);let i={cursor:"auto"},t=e=>{e.stopPropagation()};function r({className:e,children:a}){return(0,n.jsx)("div",{className:e,onClick:t,role:"presentation",style:i,children:a})}},239292:function(e,a,l){l.d(a,{k:()=>x,Z:()=>v});var n,i=l(667294);l(422578);var t=l(883119),r=l(120034),s=l(788730),o=l(138596),d=l(180483),u=l(785893);let c=(e,a)=>(0,d.Z)(a.bt(" {{domain}}", "Visit {{domain}}", "Accessible label for clickthrough link button", undefined, true),{domain:e}),p=({domain:e,fontSize:a="200",fullWidth:l=!0,textNode:n})=>{let i=c(e,(0,o.ZP)());return(0,u.jsx)(t.xu,{color:"secondary","data-test-id":"link-icon-with-domain-styles-wrapper",padding:2,rounding:2,width:l?"100%":void 0,children:(0,u.jsx)(t.st,{children:(0,u.jsxs)(t.xu,{alignItems:"center","data-test-id":"link-icon-with-domain-styles",display:"flex",justifyContent:"start",padding:1,children:[(0,u.jsx)(t.xu,{paddingX:1,children:(0,u.jsx)(t.JO,{accessibilityLabel:i,color:"default",icon:"arrow-up-right",inline:!0,size:15})}),(0,u.jsx)(t.xu,{paddingX:1,children:n||(0,u.jsx)(t.xv,{inline:!0,size:a,weight:"bold",children:(0,s.ff)(e)})})]})})})};var g=l(521367),m=l(907022),_=l(171556),h=l(680391),y=l(632492),f=l(386385);let k=({children:e,clientTrackingParams:a,isPulsarDisplayed:l,onCompleteClick:n,zIndex:r,onClick:s,to:o,pin:d})=>{let c=(0,i.useRef)(null),p=(0,h.Z)({href:{pathname:o??"",state:{trackingParams:a}},clientTrackingParams:a,target:"blank",externalData:{pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,advertiserId:d.advertiserId}}});return(0,u.jsx)(g._7,{anchor:".PinActionBar .website.pinActionBarButton, .linkModuleActionButton",anchorElementRef:c.current,isHidden:!l,onCompleteClick:n,zIndex:r,children:(0,u.jsx)(t.Tg,{ref:c,fullWidth:!1,href:o??"",onTap:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),s?.(e),p({event:e})},rel:"nofollow",children:(0,u.jsx)("div",{className:"linkModuleActionButton",children:e})})})},S=({actionBarHeight:e,children:a,setPulsarVisibility:l})=>(0,u.jsx)(_.Z,{onVisibilityChange:e=>{l(e.slice(-1)[0].isIntersecting)},options:{rootMargin:`-${e+f.hu}px 0px 0px 0px`,threshold:.75},children:e=>(0,u.jsx)(t.xu,{ref:e,children:a})}),x=e=>{let a=(0,o.ZP)(),{clientTrackingParams:i,children:s,isPulsarDisplayed:d,onClickThrough:c,pinKey:g,showDomainInLink:_,zIndex:h}=e,y=(0,m.Z)(void 0!==n?n:n=l(222769),g);if(!(y.link&&!y.link.startsWith("https://i.pinimg.com")))return null;let f=a.bt("", "Visit", "Default pin link button text", undefined, true);!y.linkDomain||y.richMetadata?.recipe?.fromAggregatedData?f=y.link&&!y.link.startsWith("https://i.pinimg.com")?a.bt("", "Visit", "Generalized pin link button text", undefined, true):a.bt("", "Open", "Button text for pin without link to view media", undefined, true):y.richMetadata?.products&&y.richMetadata.products.length>0?f=a.bt("", "Visit", "Buyable pin link button text", undefined, true):y.richMetadata?.tutorial?.name?f=a.bt("", "Visit", "Make pin link button text", undefined, true):y.richMetadata?.recipe?.name?f=a.bt("", "Make it", "Recipe pin link button text", undefined, true):y.richMetadata?.article?.name?f=a.bt("", "Read it", "Article pin link button text", undefined, true):y.link&&y.link.startsWith("https://i.pinimg.com")&&(f=a.bt("", "Open", "Button text for pin without link to view media", undefined, true));let{carouselLink:S,currentDomain:x}=(0,r.Z)({carouselData:y.carouselData&&{carouselSlots:y.carouselData.carouselSlots&&y.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:y.carouselData?.index},domain:y.domain});return(0,u.jsx)(k,{clientTrackingParams:i,isPulsarDisplayed:d,onClick:c,onCompleteClick:c,pin:y,to:S||y.link||y.imageSpec_orig?.url||"",zIndex:h,children:s||(_?(0,u.jsx)(p,{domain:x}):(0,u.jsx)(t.zx,{fullWidth:!0,size:"md",text:f}))})},P=({actionBarHeight:e,...a})=>{let[l,n]=(0,i.useState)(!0);return(0,u.jsx)(t.xu,{width:"100%",children:(0,u.jsx)(S,{actionBarHeight:e||0,setPulsarVisibility:n,children:(0,u.jsx)(t.xu,{display:"inlineBlock",children:(0,u.jsx)(x,{isPulsarDisplayed:l,zIndex:y.qW,...a})})})})},v=e=>(0,u.jsx)(t.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(t.xu,{children:(0,u.jsx)(P,{...e})})})},101428:function(e,a,l){l.d(a,{Z:()=>h});var n,i=l(667294);l(167912);var t=l(883119),r=l(788730),s=l(120034),o=l(239292),d=l(361004),u=l(521367),c=l(907022),p=l(566431),g=l(133546),m=l(785893);let _=void 0!==n?n:n=l(675112);function h({actionBarHeight:e,isStoryPin:a,legoLinkClickthroughAnchorRef:l,onClickThrough:n,pinKey:h}){let y=(0,i.useRef)(null),{closeupWithinMasonryEnabled:f,peekCloseupEnabled:k,clientTrackingParams:S}=(0,g.x4)(),x=(0,c.Z)(_,h),{currentDomain:P}=(0,s.Z)({carouselData:x.carouselData&&{carouselSlots:x.carouselData.carouselSlots&&x.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:x.carouselData?.index},domain:x.domain});return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsxs)(t.xu,{display:"inlineBlock",marginTop:!f&&(0,p._S)(P)?k?2:6:0,position:"relative",width:"100%",children:[(0,m.jsx)(o.Z,{actionBarHeight:e,clientTrackingParams:S,onClickThrough:n,pinKey:x,showDomainInLink:!0,children:(0,m.jsx)(t.xu,{ref:y,dangerouslySetInlineStyle:{__style:{textDecoration:"underline"}},children:(0,m.jsx)(t.xv,{size:k?"200":d.n,weight:f?"bold":"normal",children:(0,r.ff)(P)})})}),a&&(0,m.jsx)(u.Qp,{anchor:y.current,experienceIds:[504729],flyoutSize:"md",placementId:1000167,showCaret:!0,textAlign:"center",textWeight:"normal"})]}),(0,m.jsx)(t.xu,{ref:l,marginEnd:f?0:-7,marginStart:f?0:6,width:4})]})}},454435:function(e,a,l){l.d(a,{Z:()=>y});var n=l(667294),i=l(193371),t=l(230201),r=l(891851),s=l(830031),o=l(23641),d=l(661376),u=l(575647),c=l(739405),p=l(462867),g=l(884541);let m=({segment:e})=>g.GL.get(e)??new Set,_=({segment:e})=>{let a=m({segment:e});return new Set([...g.hO].filter(e=>!a.has(e)))},h=()=>{let e=(0,c.HG)(),{isAuth:a}=(0,p.Z)(),l=a&&e,n=(0,s.E)();return n?e=>{"DEFAULT"!==e&&n.setSegment(e),l&&_({segment:e}).forEach(e=>{n.removeConstraint(e),(0,o.l7)(e)})}:null};function y(e){let{logContextEvent:a}=(0,t.v)(),l=(0,s.E)(),c=h(),p=(0,d.Z)({name:"PinResource",options:(0,i.Z)(e.pinId,e.orbacSubjectId,e.addFields)}),g=p.data,m=(0,u.Z)(null!=g?{type:"deprecated",data:g}:null);return(0,n.useEffect)(()=>{if(g){let e=(0,r.Z)({hasPin:!!g,hasPinRichMetadata:!!g.rich_metadata,hasPinRichMetadataProducts:!!g.rich_metadata?.products,hasPinRichMetadataArticle:!!g.rich_metadata?.article,hasPinRichMetadataRecipe:!!g.rich_metadata?.recipe,hasPinStoryPinData:!!g.story_pin_data});a({event_type:7408,view_parameter:e,object_id_str:g.id,view_type:3,view_data:{pin_id:g.id,closeup_rich_types:g.shopping_flags||[]},aux_data:{...m()}}),g.aggregated_pin_data&&(g.aggregated_pin_data.is_shop_the_look||g.aggregated_pin_data.is_stela)&&a({event_type:7579,view_parameter:e,object_id_str:g.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:g.aggregated_pin_data.is_shop_the_look,pin_is_stela:g.aggregated_pin_data.is_stela})}}),(0,o.Nx)("resource"),l&&l.markConstraintComplete("resource");let n="DEFAULT";g.is_eligible_for_pdp?n=g.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":g.story_pin_data_id&&(n="story_pin"),"DEFAULT"!==n&&(0,o.Yl)(n),c&&c(n)}},[g,m]),e.children({pinResource:p})}},216762:function(e,a,l){l.d(a,{F:()=>A,Z:()=>L});var n,i,t,r,s=l(667294);l(167912);var o=l(883119),d=l(788730),u=l(912046),c=l(271930),p=l(907022),g=l(495506),m=l(79271),_=l(661376),h=l(739405),y=l(986523),f=l(462867),k=l(669787),S=l(234278),x=l(15392),P=l(133546),v=l(194801),b=l(271245),T=l(785893);let F=(0,b.Z)(()=>Promise.resolve().then(l.bind(l,41516)),void 0,e=>41516,"app-packages-StructuredFeed-ModuleReps-CarouselModule-CarouselModule"),I=void 0!==n?n:n=l(575629),w=void 0!==i?i:i=l(630590),C=void 0!==t?t:t=l(158388);function A(e){let a=(0,f.Z)(),l=a&&a.isAuth,n=(0,h.HG)(),i=(0,k.Z)(),t=(0,g.Z)({strategy:i?"GRAPHQL":"LEGACY",query:C,variables:{pinId:e,isDesktop:n},options:{fetchPolicy:"network-only"},useGetLegacyData:({pinId:e})=>{let a=l?`/v3/visual_search/stela/pins/${e}/module/`:`/v3/seo/stela/pins/${e}/module/`;return(0,_.Z)({name:"ApiResource",noCache:!0,options:{url:a,data:{fields:(0,v.Z)()}}})}}),r=t?.v3GetStelaShoppingCarouselQuery?.__typename==="V3GetStelaShoppingCarousel"?t.v3GetStelaShoppingCarouselQuery:null,s=(0,p.Z)(w,r);return s?s.data:null}let K=({children:e,id:a,isCloseupRelatedPinsAboveTheFoldEnabled:n,storyRef:i,viewParameter:t})=>{let s=void 0!==r?r:r=l(928320),{contentIds:d,displayOptions:u,slot:c,storyId:g,storyType:_,trackingParams:h}=(0,p.Z)(s,i),y=u?.contentDisplay?.componentType,f=(0,m.Z)({clientTrackingParams:h,componentType:y,contextLogData:{story_id:g,story_type:_,content_ids:d},impressionType:"Story",loggingId:g,slotIndex:c||0,viewParameter:t,viewType:3});return(0,T.jsx)(o.xu,{ref:f,marginTop:n?4:8,children:e},a)};function L({moduleWidth:e,pinKey:a,trafficSource:l,viewParameter:n}){let{isAuth:i}=(0,f.Z)(),t=(0,k.Z)(),{closeupWithinMasonryEnabled:r,isCloseupRelatedPinsAboveTheFoldEnabled:g,peekCloseupEnabled:m,viewportSize:_}=(0,P.x4)(),h=(0,p.Z)(I,a),v=(0,s.useRef)(null),[b,w]=(0,s.useState)(e),C=A(h.entityId),L=C?.[0];((0,y.Z)()?s.useEffect:s.useLayoutEffect)(()=>{v.current&&w(v.current?.offsetWidth)},[C]);let j=t?null:function(e){let a=e?(0,c.G5)(e):null;return a&&"LegacyData"===a.kind?a.singularLegacyData:null}(L),E=(0,u.Z)({pinKey:h,requestParams:L?.action?.requestParams??"",surfaceType:"stl",topLevelTrafficSource:l}).url;if(!C||C&&0===C.length)return null;let R=m&&"lg"===_?void 0:4,D=(()=>{if(!r&&!(m&&"lg"===_))return{};let e={paddingLeft:`${d.Gd}px`,paddingBottom:`${d.Gd}px`};return r?{...e,border:d.tc}:e})(),Z=m&&"lg"===_,M=i?x.g9:0;return(0,T.jsx)(s.Fragment,{children:(0,T.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:e,children:(0,T.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:D},rounding:r?6:0,width:e,children:!!C&&C.length>0&&C.map(e=>{if(null==e)return null;let a=e.displayOptions?.displayViewState??void 0,{action:l,containerType:t,storyId:s}=e;if(139!==t)return null;{let t=e.title?.format||"",u=i&&l?.url?l.url:E;return(0,T.jsx)(K,{id:s,isCloseupRelatedPinsAboveTheFoldEnabled:g,storyRef:e,viewParameter:n,children:(0,T.jsx)(S.Z,{collapseByDefault:!1,displayViewState:g?null:a,forceTappableHeader:!g,headerPaddingRight:M,heading:t,surface:"ShoppingGridSmallCarousel",children:(0,T.jsx)(o.xu,{ref:v,marginTop:R,children:(0,T.jsx)(F,{addContentRight:(0,T.jsx)(o.xu,{width:x.g9}),allowHover:!0,contentVisibleItemCountOverride:r&&"number"==typeof b?Math.floor((b+8)/175):void 0,dangerouslySetActionUrl:u,disableHeader:!0,itemWidth:r?175:void 0,itemWidthHeightRatio:1,productTagParentPinId:h.entityId,saveButtonOptions:r?{type:"inline"}:{type:"classic"},story:j,storyKey:e,styleOverrides:{buttonSizeOverride:"lg",carouselContainerMarginBottom:r?0:void 0,flexDirection:Z?"column":"row",gutterWidth:g?d.Gd:void 0,justifyContent:"start",navigationFabSize:32,showPagination:r},surface:"ShoppingGridSmallCarousel",view:3,viewParameter:n,width:b})})})},s)}})})})})}},346703:function(e,a,l){l.d(a,{Z:()=>n});function n(e){if(!e)return"";let[a,l]=e.split(":");return a&&l?a.includes("skin_color")?JSON.stringify({10:{tab_option_selections:[l]}}):a.includes("hair_pattern")?JSON.stringify({11:{tab_option_selections:[l]}}):"":""}},399312:function(e,a,l){l.d(a,{Z:()=>r});var n=l(575820);let i=/^\/pin\/(.*[^\/])\/$/,t={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/interest/:id":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"};function r(e,a){let l=["pin"],r=[],s=1,o="unknown",d="unknown",u=!0;for(let a=e.length-1;a>0;a-=1){let i=function(e,a){if(a<=0)return"unknown";let l=e[a-1],i=l?.match?.path||"",r=["stela","stl"].includes((0,n.mB)(l?.location?.search).surfaceType??"");return i&&"/pin/:id/visual-search"===i&&r?"shop_feed":i?t[i]||"unknown":"feed_home"}(e,a);l.splice(0,0,i),u&&("pin"===(o=i)?s+=1:u=!1)}for(let a=e.length-2;a>=0;a-=1){let l=(e[a]?.location?.pathname||"").match(i);if(l&&2===l.length)r.splice(0,0,l[1].split("/")[0]);else break}return 1===l.length?(d="deep_linking",o="deep_linking"):(d=l[l.length-2],"pin"===o&&(o="deep_linking")),"seo_auth"!==d||a||(d="seo_unauth"),"seo_auth"!==o||a||(o="seo_unauth"),("search"===d||"search"===o)&&e.length>=s+1&&"/search/buyable_pins/"===(e[e.length-s-1]?.location?.pathname||"")&&(o="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:o,topLevelTrafficSourceDepth:s,contextPinIds:r}}},193371:function(e,a,l){l.d(a,{Z:()=>n});let n=(e,a,l)=>({id:e,field_set_key:"auth_web_main_pin",add_fields:l?l.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},945624:function(e,a,l){l.d(a,{Z:()=>d,f:()=>o});var n=l(667294),i=l(788730),t=l(216762),r=l(133546);function s(e){return"object"==typeof e&&null!==e&&"type"in e&&"shopping_module"===e.type}let o=e=>a=>{if(!e&&s(a)||e&&(s(a)||"object"==typeof a&&null!==a&&"type"in a&&"inclusive_filters_module"===a.type))return{min:2,max:9}};function d(e,a){let l=(0,t.F)(e),{closeupWithinMasonryEnabled:s}=(0,r.x4)(),[o,d]=(0,n.useState)(a);!o&&a&&d(a);let u=(0,n.useMemo)(()=>({...i.ne}),[]),c=(0,n.useMemo)(()=>({...i.tV}),[]),p=(0,n.useMemo)(()=>({...i.MB}),[]),g=l&&l.length>0,m=(0,n.useMemo)(()=>{let e=[u];return g&&e.push(c),o&&e.push(p),e},[u,g,o,c,p]);return s?{closeupMasonryModules:m,hasShoppingModule:g,inclusiveFilters:o}:{closeupMasonryModules:[],inclusiveFilters:void 0}}},110261:function(e,a,l){l.d(a,{Z:()=>s});var n=l(663),i=l(296339),t=l(76849);let r=e=>{let a={...e.pin,...e.pinResource.data},l=(0,n.Z)({carouselData:a.carousel_data,images:a.images,product:(a.rich_metadata||a.rich_summary)?.products?.[0]});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,hideBackButton:!1,isCloseupMaximized:!1,isCommentSectionOpen:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:a,pinId:e.pinId,campaignCreationTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!a.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:l&&{...l,index:e.pin.carousel_data?.index||0},mainImage:e.mainImage,previewImage:(0,t.Yf)(a.images?.["236x"])},v1DeprecationModalDismissed:!1}};function s(e){let{pin:a,pinId:l,pinResource:n}=e,{getMainPinImage:t}=(0,i.Z)({pinKey:{type:"deprecated",data:a}});return r({pin:a,pinId:l,pinResource:n,mainImage:t()})}},513314:function(e,a,l){l.d(a,{Z:()=>i});var n=l(613567);function i(e){let{checkExperiment:a}=(0,n.F)(),l="skin_tone"===e&&a("web_closeup_inclusive_refinement").anyEnabled,i="hair_pattern"===e&&a("web_closeup_hair_refinement").anyEnabled;return{inInclusiveEfficientRefinements:!!(l||i)}}},195658:function(e,a,l){l.d(a,{Z:()=>d}),l(167912);var n,i=l(907022),t=l(613567),r=l(739405),s=l(462867);let o=void 0!==n?n:n=l(932202);function d({pinKey:e}){let{checkExperiment:a}=(0,t.F)(),l=(0,r.HG)(),n=(0,i.Z)(o,e),d=(0,s.Z)();if(!l||!d.isAuth)return{shouldFetchSLURPFields:!1,isInCloseupShoppingRefinementsExp:!1};let u=a("web_closeup_shopping_refinements_auth",{dangerouslySkipActivation:!0}).group;return{shouldFetchSLURPFields:!!u,isInCloseupShoppingRefinementsExp:!0===n.isEligibleForCloseupOneBarRefinements&&!1===n.isPromoted&&"enabled"===u}}},552871:function(e,a,l){l.d(a,{Z:()=>s});var n=l(613567),i=l(739405);let t={employees:"rgba(255, 255, 255, 0.9)",enabled_white_blur:"rgba(255, 255, 255, 0.9)",enabled_black_blur:"rgba(0, 0, 0, 0.85)",enabled_white_solid:"rgba(255, 255, 255, 1)"},r={employees:"blur(4px)",enabled_white_blur:"blur(4px)",enabled_black_blur:"blur(4px)"};function s(){let e=(0,i.HG)(),{checkExperiment:a}=(0,n.F)(),{anyEnabled:l,group:s}=a("closeup_dweb_media_veiwer_background");if(!(e&&l))return{backdropFilter:"",backgroundColor:"rgba(0, 0, 0, 1)",isDarkModeBackground:!0,isBlurredBackground:!1};let o=t[s]||"rgba(0, 0, 0, 1)";return{backdropFilter:r[s]||"",backgroundColor:o,isDarkModeBackground:"enabled_black_blur"===s||"control"===s,isBlurredBackground:"enabled_white_blur"===s||"enabled_black_blur"===s}}},877733:function(e,a,l){l.d(a,{Z:()=>i});var n=l(721956);let i=(0,l(521367).RL)(12,(e,a)=>({pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:a.didLongClickThrough||!1,did_pin_clickthrough:a.didPinClickThrough||!1,did_repin:a.didRepin||!1,is_own_or_group_pin:a.is_own_or_group_pin||!1,login_page_type:a.loginPageType||"unknown",scroll_to_threshold:a.scrollToThreshold,pin_image_signature:a.pin_image_signature,is_creator_card_shown:!!(0,n.nU)({domain:e.pin.domain??"",hasLinkDomainOfficialUser:!!e.pin.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!e.pin.link_user_website?.official_user,hasNativeCreator:!!e.pin.native_creator,hasThirdPartyPinOwner:!!e.pin.third_party_pin_owner,isPromoted:!!e.pin.is_promoted,pinnerDomainUrl:e.pin.pinner?.domain_url??"",pinnerDomainVerified:!!e.pin.pinner?.domain_verified}),creator_username:e.pin?.closeup_attribution?.full_name}))},361004:function(e,a,l){l.d(a,{n:()=>n});let n="300"},677650:function(e,a,l){l.d(a,{Z:()=>r});var n=l(883119),i=l(785893);let t=/^(?!.*#.*#)#[\p{L}\p{N}_]\S*$/gu;function r({closeupWithinMasonryEnabled:e=!1,peekCloseupEnabled:a=!1,text:l}){let r=a?"200":"300";return l.split(new RegExp(/(#\S*)/)).map((a,l)=>{let s=`${l}-${a}`;return a.match(t)?(0,i.jsx)(n.xv,{color:"link",inline:!0,size:r,children:(0,i.jsx)(n.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(a.replace("#",""))}`,underline:"none",children:a})},s):(0,i.jsx)(n.xv,{color:e?"subtle":void 0,inline:!0,size:r,children:a},s)})}},483306:function(e,a,l){l.d(a,{Z:()=>d}),l(167912);var n,i=l(230201),t=l(907022),r=l(566431),s=l(575647);let o=void 0!==n?n:n=l(45229),d=function({clientTrackingParams:e,pinKey:a,pinId:l,viewParameter:n,trafficSource:d}){let{logContextEvent:u}=(0,i.v)(),c=(0,t.Z)(o,a),p=(0,s.Z)(c);return()=>{let a=p();u({event_type:12,object_id_str:l,view_type:3,component:85,view_parameter:n,clientTrackingParams:e,aux_data:{...a}}),u({event_type:8948,clientTrackingParams:e,view_type:3,view_parameter:n,component:85,object_id_str:l,aux_data:{click_type:"clickthrough",closeup_navigation_type:d&&(0,r.sV)(d)?"deeplink":"click",...a}})}}},283220:function(e,a,l){l.d(a,{Z:()=>g});var n=l(667294),i=l(883119),t=l(677650),r=l(230201),s=l(133546),o=l(785893);let d=e=>e.replace(/\s+/g," "),u=e=>null!=e&&e>-1,c=(e,a)=>{let l=a.substr(0,e);return(e??0)-(l.length-d(l).length)},p=({color:e,mention:a,tagObjectId:l,tagType:n,textSize:t})=>{let{logContextEvent:s}=(0,r.v)();return(0,o.jsx)(i.rU,{display:"inlineBlock",href:`/${a.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:11915,aux_data:{tag_id:l,tag_type:n}})},underline:"none",children:(0,o.jsx)(i.xv,{color:e,inline:!0,overflow:"normal",size:t,weight:"bold",children:a},a)},l)},g=({description:e,mentionLinkColor:a,shouldAdjustOffset:l,shouldMakeHashtagLinksFromText:r,textSize:d,userMentionTags:g})=>{let{closeupWithinMasonryEnabled:m,peekCloseupEnabled:_}=(0,s.x4)();if(0===g.length)return(0,o.jsx)(n.Fragment,{children:e});let h=0,y=[];return[...g].map(a=>l?{...a,offset:c(a.offset??0,e)}:a).sort((e,a)=>(e.offset??0)-(a.offset??0)).filter(e=>u(e.offset)&&u(e.length)).forEach(l=>{let n=l.offset??0,i=l.length??0,t=e.substr(h,n-h),r=e.substr(n,i);y.push(t),y.push((0,o.jsx)(p,{color:a,mention:r,tagObjectId:l.objectId,tagType:l.tagType,textSize:d})),h=n+i}),y.push(e.substr(h)),(r?y.flatMap(e=>"string"!=typeof e?e:(0,t.Z)({closeupWithinMasonryEnabled:m,peekCloseupEnabled:_,text:e})):y).reduce((e,a)=>(0,o.jsxs)(i.xv,{inline:!0,size:d,children:[e,a]}),null)}},671121:function(e,a,l){l.d(a,{Z:()=>i});var n=l(27399);async function i(e,a){let l=async()=>{let e={name:a.bt(" ", "Quick Saves", "quickSave.defaultBoardName", undefined, true),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return n.Z.create("BoardResource",e).callCreate()},{resource_response:{data:i}}=await l(),t=async a=>n.Z.create("RepinResource",{board_id:a,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await t(i.id),i}},196748:function(e,a,l){l.d(a,{g:()=>F,Z:()=>C});var n=l(667294),i=l(883119),t=l(560433),r=l(758724),s=l(552871),o=l(581722),d=l(230201),u=l(138596),c=l(293646),p=l(515158),g=l(72034),m=l(785893);function _({currentlySelectedIndex:e,index:a,onSelect:l,pinId:t,isDarkMode:s=!1,isSelectOnHover:_,size:h,thumbnail:y,mediaType:f="image",viewParameter:k}){let{logContextEvent:S}=(0,d.v)(),x=(0,o.I0)(),P=(0,u.ZP)(),[v,b]=(0,n.useState)(!1),{isCloseupMediaViewerEnabled:T}=(0,r.Z)({isShufflePin:!1}),F=(0,n.useCallback)(e=>{"video"===f&&e&&!v&&(b(!0),S({event_type:13,component:13596,element:12831,view_type:3,view_parameter:k}))},[S,f,k,v]),I=(0,c.Z)({onVisibilityChanged:F}),w=()=>{x((0,g.yR)(t,a)),l(a)},C=e===a||!e&&0===a;return(0,m.jsx)(i.xu,{ref:I,marginBottom:4,children:(0,m.jsx)(i.iP,{onMouseEnter:({event:e})=>{e.preventDefault(),e.stopPropagation(),_&&w()},onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),_||w()},rounding:T?4:void 0,children:(0,m.jsx)(p.Z,{isDarkMode:s,outlined:C,rounding:T?4:void 0,children:(0,m.jsxs)(i.xu,{position:"relative",children:[(0,m.jsx)(i.zd,{height:h,wash:!0,width:h,children:(0,m.jsx)(i.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:y})}),"video"===f&&(0,m.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,m.jsx)(i.JO,{accessibilityLabel:P.bt("   ", "Secondary Carousel Video Icon", "secondaryCarousel.carouselItem.videoIndicatorIcon", undefined, true),color:"light",icon:"play",size:20})})]})})})})}var h=l(774838);let y=()=>{};function f({direction:e,handleNavHoverToggle:a,leftHover:l,isDarkMode:n=!1,hasBlurredBackground:t=!1,onScroll:r,rightHover:s,shouldPadArrows:o,size:d="md"}){let c=(0,u.ZP)(),{isRTL:p}=(0,h.B)(),g=function({direction:e,isDarkMode:a,isRTL:l,leftHover:n,rightHover:i,shouldPadArrows:t,verticalSize:r,hasBlurredBackground:s=!1},o){let d={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},u={color:a?"inverse":"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},c={sm:"54px",md:"124px"};return{up:{...u,backgroundImage:s?"":`linear-gradient(${a?"#000 0%, rgba(0, 0, 0, 0) 90%":"#fff 0%, rgba(255, 255, 255, 0) 90%"})`,bottom:"",icon:"arrow-up",label:o.bt(" ", "Up arrow", "product.carousel.arrowUp", undefined, true),top:"0px",width:c[r]},down:{...u,backgroundImage:s?void 0:`linear-gradient(${a?"rgba(0, 0, 0, 0) 0%, #000 90%":"rgba(255, 255, 255, 0) 0%, #fff 90%"})`,bottom:"0px",icon:"arrow-down",label:o.bt(" ", "Down arrow", "product.carousel.arrowDown", undefined, true),top:void 0,width:c[r]},left:{...d,color:t?"default":n?"default":"subtle",icon:l?"arrow-forward":"arrow-back",justifyContent:"start",label:o.bt(" ", "Left arrow", "Label for left arrow button in search guides", undefined, true),left:"0px",right:void 0,width:l?"22px":"210px"},right:{...d,color:t?"default":i?"default":"subtle",icon:l?"arrow-back":"arrow-forward",justifyContent:"end",label:o.bt(" ", "Right arrow", "Label for right arrow button in search guides", undefined, true),left:void 0,right:"0px",width:l?"22px":"210px"}}}({direction:e,isDarkMode:n,isRTL:p,leftHover:l,rightHover:s,shouldPadArrows:o,verticalSize:d,hasBlurredBackground:t},c);return(0,m.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:g[e].top,bottom:g[e].bottom,left:g[e].left,right:g[e].right}},height:g[e].height,position:"absolute",children:(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundImage:g[e].backgroundImage,marginTop:o?"25px":void 0}},display:"flex",height:"100%",justifyContent:g[e].justifyContent,width:g[e].width,children:(0,m.jsx)("button",{onClick:r,onMouseEnter:a?()=>a(e,!0):y,onMouseLeave:a?()=>a(e,!1):y,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,m.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:g[e].justifyContent,width:"50px",children:(0,m.jsx)(i.JO,{accessibilityLabel:g[e].label,color:g[e].color,icon:g[e].icon})})})})})}var k=l(59111),S=l(273675),x=l(829485),P=l(730448),v=l(133546),b=l(49254),T=l(767415);let F=52,I={md:120,sm:52},w=`
  .ProductCarousel-InnerScrollContainer {
    -ms-overflow-style: none;
    overflow-x: hidden;
    overflow-y: auto;
  }
  .ProductCarousel-InnerScrollContainer::-webkit-scrollbar {
    display: none;
  }
`;function C({carouselSlots:e,commerceData:a={},isSelectOnHover:l,onImageSelect:o,pinId:u,selectedIndex:c,size:p,surfaceType:g,viewParameter:h}){let y;let{logContextEvent:F}=(0,d.v)(),{isCloseupMediaViewerEnabled:C}=(0,r.Z)({isShufflePin:!1}),{isEnabled:A}=(0,t.Z)({dangerouslySkipActivation:!1}),[K,L]=(0,n.useState)(),[j,E]=(0,n.useState)(0),[R,D]=(0,n.useState)(),[Z,M]=(0,n.useState)(),[N,B]=(0,n.useState)(),[O,z]=(0,n.useState)(!1),[U,V]=(0,n.useState)(e.length>=4),[H,G]=(0,n.useState)(!1),W=(0,b.t)(),{closeupWithinMasonryEnabled:$}=(0,v.x4)(),{isDarkModeBackground:X,isBlurredBackground:Y}=(0,s.Z)(),q=(0,n.useRef)(null),Q=(0,n.useRef)(null),J=I[p],ee=C&&"media-viewer"===g&&X,ea=C&&"media-viewer"===g&&Y;(0,n.useEffect)(()=>{F({event_type:120,component:13596,view_type:3,view_parameter:h,aux_data:{pin_id:u,...a}})},[]),(0,n.useEffect)(()=>{if(!K&&q.current){let e=q.current.getBoundingClientRect();E(Math.floor(e.top)),D(Math.floor(e.bottom)),B(Math.floor(e.top)),M(Math.floor(e.bottom))}},[q.current,K]),(0,n.useEffect)(()=>{if(q.current){let{height:e,top:a,bottom:l}=q.current.getBoundingClientRect();E(Math.floor(a)),D(Math.floor(l)),L(Math.floor(e))}},[e.length]),(0,n.useEffect)(()=>{!K&&q.current&&L(Math.floor(q.current.getBoundingClientRect().height))},[q.current]);let el=8/($?2:1);(0,n.useEffect)(()=>{j&&N&&Z&&R&&e.length>=4&&(j<N?z(!0):z(!1),R>=490+W+el?V(!0):V(!1))},[j,R,N,Z]);let en=()=>{H||((0,T.nP)(`closeup.dweb.css_carousel.${A?"enabled":"control"}.scroll_thumbnails`,{sampleRate:1}),G(!0),F({event_type:110,component:13596,view_type:3,view_parameter:h,aux_data:{pin_id:u,...a}}))},ei=(0,n.useRef)(en);(0,n.useEffect)(()=>{ei.current=en});let et=Q.current;(0,n.useEffect)(()=>{let e=(0,P.Z)(()=>{if(q.current){let e=q.current.getBoundingClientRect();E(Math.floor(e.top)),D(Math.floor(e.bottom)),ei.current()}},16);return et?.addEventListener("scroll",e),()=>{et?.removeEventListener("scroll",e)}},[et]);let er=(e,l)=>{o&&((0,T.nP)(`closeup.dweb.css_carousel.${A?"enabled":"control"}.select_thumbnail`,{sampleRate:1}),F({event_type:101,component:13596,element:"image"===l?11922:12831,view_type:3,view_parameter:h,aux_data:{...a}}),o(e))},es=e=>{0!==e&&(y&&y.cancel(),q.current&&Q.current&&((y=(0,x.Z)(Q.current,0,e,{easingFunction:"ease-in-out",extendToEdgeDistanceY:50,scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{y=null}})).start(),en()))};return(0,m.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:`${el}px`}},overflow:"hidden",position:"relative",children:[(0,m.jsx)(k.Z,{unsafeCSS:w}),(0,m.jsx)("div",{ref:Q,className:"ProductCarousel-InnerScrollContainer",id:"InnerScrollContainer",style:{maxHeight:490,cursor:"default"},children:(0,m.jsx)("div",{"aria-hidden":"true",onClick:e=>{e.preventDefault(),e.stopPropagation()},style:{cursor:"default"},children:(0,m.jsx)(i.xu,{ref:q,alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:1,marginEnd:$?0:6,marginTop:1,position:"relative",width:J+4,children:e.map((e,a)=>{let{images:n,videos:i}=e,{thumbnail:t,mediaType:r}=i?{thumbnail:i.cover_image_url,mediaType:"video"}:{thumbnail:S.Z({images:n,resolutionPreferences:["564x","736x","236x"]})?.url,mediaType:"image"};return(0,m.jsx)(_,{currentlySelectedIndex:c,index:a,isDarkMode:ee,isSelectOnHover:l,mediaType:r,onSelect:()=>{er(a,r)},pinId:u,size:J,thumbnail:t||"",viewParameter:h},`carousel-item-${e.image_signature||""}-${a}`)})})})}),!!K&&e.length>3&&(0,m.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:K>490?494:K+4,overflow:"hidden",position:"absolute",top:!0,width:"100%",children:[O&&(0,m.jsx)(f,{direction:"up",hasBlurredBackground:ea,isDarkMode:ee,onScroll:e=>{e.preventDefault(),e.stopPropagation(),es(-100)},size:p}),U&&(0,m.jsx)(f,{direction:"down",hasBlurredBackground:ea,isDarkMode:ee,onScroll:e=>{e.preventDefault(),e.stopPropagation(),es(100)},size:p})]})]})}},184865:function(e,a,l){l.d(a,{i:()=>n,j:()=>i});let n=2,i=236},201105:function(e,a,l){l.d(a,{Z:()=>t});var n=l(667294),i=l(785893);let t=({text:e})=>Array.isArray(e)?e.map((e,a)=>(0,i.jsx)(n.Fragment,{children:e},a)):e},551474:function(e,a,l){l.d(a,{Z:()=>i});let n=new Set([90,88,89,91,101,92,131]);function i(e){return n.has(e)}},73910:function(e,a,l){l.d(a,{Z:()=>r});var n=l(618003);let i=new Set([92]),t=new Set([154]);function r(e){let a=[];return e.forEach(e=>{if("story"===e.type?i.has(e.container_type)||t.has(e.container_type)||n.v8.has(e.story_type):1){let l=a[a.length-1];Array.isArray(l)?l.push(e):a.push([e])}else a.push(e)}),a}},81221:function(e,a,l){l.d(a,{Z:()=>t});var n=l(581722),i=l(861072);function t(){let e=(0,n.v9)(({advertiser:e})=>e);return(a,l)=>(0,i.default)(a,e,l)}},876645:function(e,a,l){l.d(a,{Z:()=>i});let n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function i({window:e,duration:a,run:l}){let i=n(),t=0,r=null,s=()=>{let o=n()-i,d=o-t;if(a===1/0)l(0,o,d);else{let e=o/a;if(e>=1){l(1,o,d);return}l(e,o,d)}t=o,r=e.requestAnimationFrame(s)};return{start:()=>{r=e.requestAnimationFrame(s)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},719301:function(e,a,l){l.d(a,{EF:()=>p,GM:()=>o,Hg:()=>I,Hl:()=>k,IR:()=>y,Je:()=>u,K3:()=>K,O1:()=>R,Q6:()=>m,QE:()=>n,V3:()=>F,Z4:()=>h,c7:()=>f,cU:()=>r,cZ:()=>b,cg:()=>i,dZ:()=>t,gO:()=>S,hd:()=>v,j$:()=>P,j9:()=>L,kX:()=>x,oQ:()=>N,p:()=>M,pg:()=>D,pk:()=>T,pt:()=>A,qq:()=>E,sy:()=>c,tP:()=>w,uE:()=>_,vk:()=>j,w2:()=>d,ww:()=>C,xX:()=>s,xw:()=>Z,yR:()=>g});let n=3e3,i=280,t=500,r=1e4,s=250,o=250,d=251,u=50,c=50,p=20,g=20,m={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",BUSINESS_HIERARCHY_BUSINESS_SECURITY:"BUSINESS_HIERARCHY_BUSINESS_SECURITY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS",CATALOGS:"CATALOGS",BRAND_SAFETY:"BRAND_SAFETY",AD_ACCOUNTS_CEE_MIGRATION:"AD_ACCOUNTS_CEE_MIGRATION",BUSINESS_SETTINGS:"BUSINESS_SETTINGS",SYSTEM_USERS:"SYSTEM_USERS",APPS:"APPS"},_={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},h={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},y={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},f={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER",CATALOG:"CATALOG"},k={PERSON:"PERSON",PARTNER:"PARTNER",PROFILE:"PROFILE"},S={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER",FINANCE_EDIT:"FINANCE_EDIT",FINANCE_VIEW:"FINANCE_VIEW"},x={CATALOGS_MANAGER:"CATALOGS_MANAGER",CATALOGS_VIEWER:"CATALOGS_VIEWER"},P=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],v=["ADMIN","ANALYST","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER","FINANCE_EDIT","FINANCE_VIEW"],b=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER"],T=["CATALOGS_MANAGER","CATALOGS_VIEWER"],F={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},I=["PROFILE_PUBLISHER"],w={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3,CATALOG:4},C={0:"AD_ACCOUNT",2:"PROFILE",3:"ASSET_GROUP",4:"CATALOG"},A={ACTIVE:0,PENDING:1},K={ACTIVE:"active",PENDING:"pending"},L="filter_type",j={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},E={WARNING:"WARNING",DEFAULT:"DEFAULT"},R={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:53,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:66,ODO_BIZ_INVITE_EXISTS:71,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770,BUSINESS_RELATIONSHIP_PREMATURE_MIGRATION_INVITE:4300,SANCTIONED_COUNTRY_FOR_BUSINESS:2762},D={ALL:"ALL",OWNED:"OWNED",SHARED:"SHARED"},Z=new Date("2024-10-31T12:00"),M="Httpool by Aleph",N="pinterest-leads@alephholding.com"},663:function(e,a,l){l.d(a,{Z:()=>i});let n=["236x","474x","564x","736x"];function i({carouselData:e,images:a,product:l,shouldUnifyImageSizes:i}){return e?.carousel_slots?.length?e:l?.additional_images?.length?function(e,a,l,i,t){let r=[...e?[{images:e}]:[],...(a??[]).map(({canonical_images:e,image_signature:a})=>({images:e||void 0,image_signature:a||void 0}))];return{carousel_slots:i?function(e){function a(e,{imageKey:a,height:l,width:n}){return e.images&&e.images[a]&&(e={...e,images:{...e.images,[a]:{...e.images[a],height:l,width:n}}}),e}let l=n.map(function(a){let l=Math.min(...e.map(e=>e.images&&e.images[a]&&e.images[a].height||1/0)),n=Math.min(...e.map(e=>e.images&&e.images[a]&&e.images[a].width||1/0));return{imageKey:a,height:l,width:n}});return e.map(e=>l.reduce(a,e))}(r):r,index:l||0,id:t}}(a,l.additional_images,e?.index,i,l.id):e||void 0}},217703:function(e,a,l){l.d(a,{Z:()=>p});var n=l(667294),i=l(230201),t=l(629724),r=l(462867),s=l(573375),o=l(785893);function d(e,a,l){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let u=(0,t.Z)()&&(0,t.Z)().debug_impression_log,c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function p(e){class a extends n.Component{constructor(...e){super(...e),d(this,"currentNs",()=>1e6*Date.now()),d(this,"startTime",0),d(this,"debugPinImpressions",u&&"Pin"===this.props.impressionType&&this.props.viewer.isAuth&&this.props.viewer.isEmployee),d(this,"handleVisibilityChanged",e=>{let{componentType:a,contextLogData:l,impressionAuxFields:n,impressionType:i,loggingId:t,slotIndex:r,viewParameter:s,viewType:o,viewData:d,logContextEvent:u}=this.props;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&console.log(r+" started timer");else{let e=c[i],p=e.idType,g=this.currentNs(),m={endTime:g,[p]:t,slotIndex:r,time:this.startTime,renderDuration:g-this.startTime,...n};u({event_type:e.eventType,component:a,event_data:{[e.impressionType]:[m]},view_type:o,view_parameter:s,view_data:d,aux_data:{...l}}),this.debugPinImpressions&&console.log(r+" logged for "+(g-this.startTime)/1e9+"s")}})}render(){return(0,o.jsx)(s.Z,{onVisibilityChanged:this.handleVisibilityChanged,...this.props,children:(0,o.jsx)(e,{...this.props})})}}return function(e){let{logContextEvent:l}=(0,i.v)(),n=(0,r.Z)();return(0,o.jsx)(a,{...e,logContextEvent:l,viewer:n})}}},108473:function(e,a,l){l.d(a,{Z:()=>n});function n(e,a){let l=e.split(a?",":":");return l.length>0?a?l[0]:l[1]:""}},64627:function(e,a,l){l.d(a,{HM:()=>o,ZP:()=>u,oV:()=>d});let n="filter_queries",i="skin_tone",t="hair_pattern",r=`${i.toUpperCase()}_${n.toUpperCase()}`,s=`${t}_${n}`,o=e=>e.startsWith(r)||e.startsWith(s),d=e=>o(e)&&e===r?i:t;function u(e,a){return"skin_tone"===e?a.skin_tone_filter_list.options:a.hair_pattern_filter_list}},391696:function(e,a,l){l.d(a,{T:()=>n,Z:()=>t});let{Provider:n,useHook:i}=(0,l(213491).Z)("NotificationContext"),t=i},240571:function(e,a,l){l.d(a,{G7:()=>o,Nl:()=>u,WE:()=>s,l6:()=>d,rh:()=>r});var n=l(249459),i=l(400850),t=l(696749);function r(e,a,l){if(!a.isAuth||!a.isPartner)return!1;let{creatorAnalytics:i}=e,t=!!e.storyPinDataId,r=!!e.videos?.videoList,s=!(t||r)&&0!==Object.keys(e.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,o=e.board?.privacy===n.ZP.BoardPrivacy.PUBLIC,d=(e.board?.privacy===n.ZP.BoardPrivacy.PROTECTED||o)&&!e.isRepin&&[a.id,l].includes(e.pinner?.entityId);return s||0!==Object.keys(i?._30dRealtime||{}).length||a.isPartner&&d||t&&d}function s(e,a,l,n,i,t){return e.isAuth&&!!a&&(l||n)&&!!i?.isLoaded&&!t}function o(e,a){return(0,t.Z)(a.nbt([" {{ count }}", " {{ count }}", " {{ count }}"], e, "Previous {{ count }} days from current date", true),{count:e})}function d(e,a){return(0,t.Z)(a.nbt(["  {{ count }}", "  {{ count }}", "  {{ count }}"], e, "analytics.utils", true),{count:e})}function u({i18n:e,isRealtime:a,humanizedTimeSinceLastUpdate:l,displayLifetime:n,numDays:r,selectedDateRange:s,locale:o}){let d=[];if(r){let a=n?(0,t.Z)(e.nbt(["      {{n}}   {{startDate}}  {{endDate}}.", "      {{n}}   {{startDate}}  {{endDate}}.", "      {{n}}   {{startDate}}  {{endDate}}."], r, "pinstats.toplineMetrics.description", true),{n:r,startDate:(0,i.ZP)(o,s.startDate,i.kH.NUMERIC),endDate:(0,i.ZP)(o,s.endDate,i.kH.NUMERIC)}):(0,t.Z)(e.nbt(["      {{n}}   .", "      {{n}}   .", "      {{n}}   ."], r, "pinstats.toplineMetrics.description", true),{n:r});d.push(a)}return a?d.push(e.bt("     .", "Metrics are updated in real-time.", "pinstats.PinnerToplineMetrics.description", undefined, true)):l&&d.push((0,t.Z)(e.bt("  {{ timeSince }}.", "Metrics updated {{ timeSince }}.", "analytics.header.disclaimer.metricsUpdated", undefined, true),{timeSince:l})),d.join(" ")}},589771:function(e,a,l){l.d(a,{f:()=>n,Z:()=>i});let n=e=>{let{h:a,m:l}=e||{},n={hours:a||0,minutes:l||0};return void 0===a&&void 0===l?null:{h:a,m:l,time:n,isoDuration:function({hours:e,minutes:a}){return`PT${e}H${a}`}(n)}},i=e=>{if(!e)return null;let{richMetadata:a}=e,{recipe:l}=a;return l&&l.name?{...e,recipe:{name:l.name,categorizedIngredients:l.categorized_ingredients,diets:l.diets,fromAggregatedData:l.from_aggregated_data,prepTime:n(l.cook_times?.prep),cookTime:n(l.cook_times?.cook),totalTime:n(l.cook_times?.total),servingSummary:l.servings_summary?.summary,serves:l.servings_summary?.serves,instructions:l.instructions}}:null}},569377:function(e,a,l){l.d(a,{Z:()=>n});let n=e=>{if(!e)return null;let{rich_metadata:a}=e.pin;return a?{...e,richMetadata:a}:null}},49104:function(e,a,l){l.d(a,{Z:()=>o});let n=e=>{if(!e)return null;let{embed:a}=e.pin,{type:l,src:n,subtype:i}=a||{};return n?{...e,embed:{type:l,src:n,subtype:i}}:null};var i=l(232065);let t=e=>{if(!e)return null;let{videos:a}=e.pin,{id:l,video_list:n={}}=a||{},{V_720P:t,V_HLSV4:r,V_HLSV3_MOBILE:s}=n,o=(0,i.V3)(r),d=(0,i.V3)(s),u=(0,i.V3)(t),c=u||o||d;return l&&c?{...e,video:{id:l,hasVideo:c,mp4:u||void 0,hls:o||void 0,hlsv3:d||void 0}}:null};var r=l(438303);let s=e=>{let{hlsv3:a,hls:l}=e,n=a||l;return!!(n&&(n.width??0)>(n.height??0))},o=e=>{if(!e)return null;let{video:a}=t((0,r.Z)(e))||{},{embed:l}=n((0,r.Z)(e))||{},i=!!(a&&s(a))||!!(l&&l.src&&"pinstory"!==l.subtype&&"gif"!==l.type);return{...e,isWideVideo:i}}},296339:function(e,a,l){l.d(a,{Z:()=>s});var n,i=l(667294);l(167912);var t=l(907022);let r=void 0!==n?n:n=l(988605);function s({pinKey:e}){let a=(0,t.Z)(r,e),l=a?.imageSpec_736x||a?.imageSpec_564x||a?.imageSpec_orig||a?.imageSpec_474x||a?.imageSpec_236x;return{getMainPinImage:(0,i.useCallback)(()=>({url:l?.url||"",height:l?.height||1,width:l?.width||1}),[l?.height,l?.url,l?.width])}}},35169:function(e,a,l){l.d(a,{Z:()=>s}),l(167912);var n,i=l(907022),t=l(903519);let r=void 0!==n?n:n=l(45169),s=e=>{let a=(0,i.Z)(r,e),l=(0,t.Z)(a);if(!a?.entityId)return null;let{trackedLink:n,link:s,method:o}=a,d=n||s;return d&&("catalog_bulk_create"===o||l)?decodeURIComponent(d):d}},903519:function(e,a,l){l.d(a,{Z:()=>r}),l(167912);var n,i=l(907022);let t=void 0!==n?n:n=l(37751),r=e=>{let a=(0,i.Z)(t,e);if(!a?.richMetadata)return!1;let{products:l}=a.richMetadata??{};return!!Array.isArray(l)&&l.some(e=>!!e&&e.name)}},438303:function(e,a,l){l.d(a,{Z:()=>n});let n=e=>e?.pin?.id?e:null},220347:function(e,a,l){l.d(a,{Z:()=>o});var n=l(667294),i=l(883119),t=l(830031),r=l(23641),s=l(785893);function o(e){let a=(0,t.E)();return(0,n.useEffect)(()=>{let l=document.getElementById(e.containerId),n=async(e,a)=>{let l=e.getBoundingClientRect(),n=a.getBoundingClientRect();return!!l&&!!n&&l.top>=n.top&&l.left>=n.left&&l.bottom<=n.bottom&&l.right<=n.right};if(null==l)a?.removeConstraint("thumbnailsLoaded"),(0,r.l7)("thumbnailsLoaded");else{let e=Array.from(l.querySelectorAll("*")).filter(e=>"IMG"===e.tagName&&n(e,l)),i=e.length,t=()=>{i-=1};e.forEach(e=>{e.onload=t(),0===i&&(a?.markConstraintComplete("thumbnailsLoaded"),(0,r.Nx)("thumbnailsLoaded"))})}},[e.containerId,a]),(0,s.jsx)(i.xu,{id:"imageContainerPerf",children:e.children})}},398006:function(e,a,l){l.d(a,{Jx:()=>I,ku:()=>A,PY:()=>C});var n=l(774303),i=l(705460),t=l(426035),r=l(381571),s=l(827039),o=l(449896),d=l(192496),u=l(648447);let c=()=>(0,u.PJ)().reduce((e,{identifier:a,loadTime:l,renderTime:n})=>e[`${a}_loadTime`]?e[`${a}_dupe_loadTime`]?{...e,[`${a}_dupe_loadTime`]:l,[`${a}_dupe_renderTime`]:n}:e:{...e,[`${a}_loadTime`]:l,[`${a}_renderTime`]:n},Object.freeze({}));var p=l(649324),g=l(525939),m=l(591048);let _=e=>{let a=(0,m.y0)();return e.reduce((e,{name:l,match:n})=>a.filter(e=>n(e)).slice(0,2).reduce((e,a,n)=>({...e,...(0,s.jh)(`${l}${n?"_dupe1":""}_`,(0,p.Z)(a))}),e),Object.freeze({}))},h=e=>{if("pin_closeup"===e){let e=(0,g.Z)();return _([{name:"mainImage",match:({name:a})=>a===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var y=l(780764),f=l(217472),k=l(337751),S=l(662896),x=l(679767),P=l(240083),v=l(296264);let b=(0,n.XV)("LightStopwatch"),T=()=>{let e=[],a=null;return window.PerformanceObserver&&(a=(0,x.Z)({entryTypes:["resource"]},a=>{(e=e.concat(a.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{a&&a.disconnect()}}},F={},I=({annotateExperiments:e,annotateMarks:a,annotateResourceTimingForSurface:l,name:n,pwtStaticContext:u})=>{let p=T(),g=(0,S.Z)(u.fullPath),m=!0,_={...g?{pagePath:{value:g,type:"STRING"}}:{}},x=(0,r.jf)();(0,i.A9)(`TIMING.${n}`,{tags:{isAuth:u.isAuthenticated}});let I={type:"stopwatch",name:n,navigationType:"initial_app_load",isAuthenticated:u.isAuthenticated,surface:""},w={abort:g=>{if(!m){(0,i.H)("duplicate_abort_action",{action:n});return}m=!1;let S=(0,P.Z)(),b=(0,d.Z)(),T=p.get(),F={reason:g,type:"ABORT",traceId:x,startTime:0,endTime:v.Z?.now()||0,spans:[{name:"network_resources",id:S,startTime:0,endTime:v.Z?.now()||0,annotationMap:{},binaryAnnotationMap:{},parentId:null},...T.map(e=>(0,k.Z)((0,y.p)(e,[]),S)).filter(Boolean)],annotationMap:{...(0,s.jh)("resource_",l?h(l):{}),...(0,s.jh)("element_",c()),...(0,s.jh)("mark_",a&&a.length?(0,s.Hd)((0,t.gQ)(),a):{}),...(0,s.jh)("browser_",b?(0,s.D3)(b):{})},binaryAnnotationMap:(0,o.ng)({annotateExperiments:e,metricId:I,pwtStaticContext:u,performanceResourceTimings:T,binaryAnnotations:_,type:"ABORT"})};(0,f.Z)({metricId:I,pwtStaticContext:u,result:F,isAuth:u.isAuthenticated}),(0,r.$B)()},error:(e,a)=>{let l={...a,action:n};if(!m){(0,i.H)("duplicate_error_action",l);return}e&&(0,i.H)(e,l),p&&p.disconnect(),m=!1,(0,r.$B)()},stop:g=>{if(!m){(0,i.H)("duplicate_stop_action",{action:n});return}m=!1,p.disconnect();let S=(0,P.Z)(),v=(0,d.Z)(),b=p.get(),T={type:"COMPLETE",traceId:x,startTime:0,endTime:g,spans:[{name:"network_resources",id:S,startTime:0,endTime:g,annotationMap:{},binaryAnnotationMap:{},parentId:null},...b.map(e=>(0,k.Z)((0,y.p)(e,[]),S)).filter(Boolean)],annotationMap:{...(0,s.jh)("resource_",l?h(l):{}),...(0,s.jh)("element_",c()),...(0,s.jh)("mark_",a&&a.length?(0,s.Hd)((0,t.gQ)(),a):{}),...(0,s.jh)("browser_",v?(0,s.D3)(v):{})},binaryAnnotationMap:(0,o.ng)({annotateExperiments:e,metricId:I,pwtStaticContext:u,performanceResourceTimings:b,binaryAnnotations:_,type:"COMPLETE"})};(0,f.Z)({metricId:I,pwtStaticContext:u,result:T,isAuth:u.isAuthenticated}),(0,r.$B)()},addBinaryAnnotation:(e,a,l)=>{b(`adding binary annotation {${e}: ${String(a)}}`),_={..._,[e]:{value:a,type:l}}}};return F[n]=w,w},w=e=>F[e],C=e=>!!w(e),A=({stopwatchName:e,binaryAnnotationName:a,value:l,annotationType:n})=>{let i=w(e);i&&i.addBinaryAnnotation(a,l,n)}},427052:function(e,a,l){l.d(a,{B:()=>r,Q:()=>t});let{Provider:n,useHook:i}=(0,l(439947).Z)({name:"related_feed",sampleRate:1}),t=n,r=i},662896:function(e,a,l){l.d(a,{Z:()=>n});function n(e){let a=e.split("?")[0]??"";if(!a.startsWith("/pin/"))return null;let l=a.split("/")[3];return l?"feedback"===l||"sent"===l?l:null:"default"}},525939:function(e,a,l){l.d(a,{Z:()=>i,f:()=>n});let n="closeupImage",i=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},518596:function(e,a,l){function n(e){let a=Object.keys(e);return a.length>0?a.sort((a,l)=>e[l]-e[a]).slice(0,3):null}function i(e){let a=Object.values(e);return a.length>0?a.reduce((e,a)=>e+a,0):0}function t(e,a,l){return!e.isPromoted&&!e.isDownstreamPromotion&&!!(e.videos?.entityId||e.storyPinDataId)&&!a&&(!e.board?.isCollaborative||!e.board.collaboratedByMe)&&!l}l.d(a,{At:()=>n,J6:()=>t,Ud:()=>i})},147950:function(e,a,l){function n({m:e=0,h:a=0}){let l;return l=a<=0?a:e>45?a+1:e>15?a+.5:a,{m:e,h:a,rm:a>0?0:e,rh:l}}function i(e){let a=Math.floor(e/3600);return n({m:Math.floor(e%3600/60),h:a})}l.d(a,{X:()=>n,u:()=>i})},64151:function(e,a,l){l.d(a,{Z:()=>_});var n=l(667294),i=l(883119),t=l(361004),r=l(138596),s=l(613567),o=l(696749),d=l(785893);function u({category:e,ingredients:a,textSize:l="300"}){return(0,d.jsxs)(i.xu,{children:[e&&(0,d.jsx)(i.xu,{children:(0,d.jsx)(i.xv,{size:l,weight:"bold",children:e})}),(0,d.jsx)("ul",{children:a.map((e,a)=>(0,d.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,d.jsx)(i.xu,{marginTop:1,children:(0,d.jsxs)(i.xv,{size:l,children:[" ",e.amt||null," ",e.name]})})},a))})]})}function c({instructions:e}){return e?e.map((e,a)=>{let l=`Step ${a+1}`;return(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xv,{size:"200",weight:"bold",children:l}),(0,d.jsx)(i.xv,{size:"100",children:e})]},l)}):null}var p=l(55475),g=l(234278),m=l(133546);function _({recipeProps:e,marginOverrides:a}){var l;let _=(0,r.ZP)(),{checkExperiment:h}=(0,s.F)(),{image:y,name:f,categorizedIngredients:k,instructions:S}=e.recipe,{isCloseupRelatedPinsAboveTheFoldEnabled:x,peekCloseupEnabled:P}=(0,m.x4)(),v=S&&h("web_food_indicator").anyEnabled,b=0;if(k&&k.length){let e=[];k.forEach(a=>(b+=a.ingredients.length,e.push(a.ingredients)))}let T=P?(l=b,(0,o.Z)(_.nbt(["{{ count }}", "{{ count }}", "{{ count }}"], l, "closeup.recipePin.heading.ingredientCount", true),{count:l.toString()})):_.bt("", "Ingredients", "Ingredients title and count in closeup recipe description", undefined, true);return(0,d.jsx)(i.xu,{marginBottom:x?2:void 0,marginTop:x?2:8,children:(0,d.jsxs)(p.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,d.jsx)("meta",{content:f,itemProp:"name"}),(0,d.jsx)("meta",{content:y,itemProp:"image"}),v&&(0,d.jsx)(g.Z,{collapseByDefault:!1,heading:"Instructions",children:(0,d.jsx)(i.xu,{marginTop:x?void 0:4,children:(0,d.jsx)(c,{instructions:S})})}),(0,d.jsx)(g.Z,{heading:T,children:(0,d.jsx)(i.xu,{marginTop:x?void 0:4,children:k.map(({category:e,ingredients:l},r)=>{let s=`ingredient-${r}`;return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(i.xu,{marginBottom:a?.ingredientMarginBottom||4,children:(0,d.jsx)(u,{category:e,ingredients:l,textSize:x?"200":t.n})})},s)})})})]})})}},481923:function(e,a,l){l.d(a,{Z:()=>i});var n=l(216975);function i({m:e,h:a,rm:l,rh:t},r,s=!1){return e&&(!a||t<=0)?s?(0,n.nk)(r.bt("{{mins}}", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:l.toString()}):(0,n.nk)(r.nbt(["{{mins}} ", "{{mins}} ", "{{mins}} "], l, "number showing the minutes to complete a recipe", true),{mins:l.toString()}):a?s?(0,n.nk)(r.bt("{{hrs}} {{mins}}", "{{hrs}}hr {{mins}}min", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:a.toString(),mins:e.toString()}):(0,n.nk)(r.nbt(["{{hrs}} ", "{{hrs}} ", "{{hrs}} "], t, "number showing the hours to complete a recipe", true),{hrs:t.toString()}):null}},692763:function(e,a,l){l.d(a,{Z:()=>r});var n=l(507006),i=l(216975),t=l(785893);function r({m:e,h:a,rm:l,rh:r},s){return e&&(!a||r<=0)?(0,i.nk)(s.bt("{{mins}}", "{{mins}}min", "closeup.makeRecipeText.minutesLabel", undefined, true),{mins:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:l},"recipe-minutes")}):a?(0,i.nk)(s.bt("{{hrs}}", "{{hrs}}hr", "closeup.makeRecipeText.hoursLabel", undefined, true),{hrs:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},233377:function(e,a,l){l.d(a,{Z:()=>i});var n=l(216975);function i(e,a){return e<60?(0,n.nk)(a.bt("{{mins}}", "{{mins}}min", "recipe.minutes", undefined, true),{mins:e}):(0,n.nk)(a.bt("{{hrs}} {{mins}}", "{{hrs}}h {{mins}} min", "recipe.time", undefined, true),{mins:e%60,hrs:Math.floor(e/60)})}},55475:function(e,a,l){l.d(a,{Z:()=>i});var n=l(785893);let i=e=>{let a=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...a,children:e.children||null})}},829485:function(e,a,l){l.d(a,{Z:()=>s});var n=l(876645);function i({scrollPosition:e,containerSize:a,contentSize:l,intendedDistance:n,extendToEdgeDistance:i=0}){let t=l-a,r=n;return r=Math.max(r=Math.min(r,t-e),-e),n>0&&t-(e+r)<=i?r=t-e:n<0&&e+r<=i&&(r=-e),r}let t={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},r={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:-1+(4-2*e)*e};function s(e,a,l,o={}){let d={...t,...o},{scrollLeft:u,scrollTop:c,scrollWidth:p,scrollHeight:g,clientWidth:m,clientHeight:_}=e,h=i({scrollPosition:u,containerSize:m,contentSize:p,intendedDistance:a,extendToEdgeDistance:d.extendToEdgeDistanceX}),y=i({scrollPosition:c,containerSize:_,contentSize:g,intendedDistance:l,extendToEdgeDistance:d.extendToEdgeDistanceY}),f=Math.max(Math.abs(Math.floor(h/d.scrollSpeedPxPerMs)),Math.abs(Math.floor(y/d.scrollSpeedPxPerMs)));d.minScrollDuration&&(f=Math.max(f,d.minScrollDuration));let k=r[d.easingFunction]||r["ease-in-out"];return(0,n.Z)({window,duration:f,run:a=>{e.scrollLeft=u+h*k(a),e.scrollTop=c+y*k(a),1===a&&d.onAnimationComplete&&setTimeout(d.onAnimationComplete,0)}})}},529211:function(e,a,l){l.d(a,{GZ:()=>n,OE:()=>i,zX:()=>t});let n=246,i=197,t=236},100723:function(e,a,l){l.d(a,{Z:()=>r});var n=l(460575);let i=/\{\s*(\w+)\s*\}/g,t=(e,a)=>(0,n.Z)(i,e,a);function r({args:e,format:a}){return t(a||"",(e||[]).reduce((e,a,l)=>({...e,[l]:a.text}),{}))}},439048:function(e,a,l){l.d(a,{Z:()=>h,m:()=>g});var n=l(667294),i=l(883119),t=l(138596),r=l(59111),s=l(774838),o=l(133546),d=l(632492),u=l(31863),c=l(74195),p=l(785893);let g=4,m=`
@keyframes showShadow {
  0% {
    box-shadow: none;
  }

  100% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }
}

@keyframes hideShadow {
  0% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }

  100% {
    box-shadow: none;
  }
}
`,_=({onClick:e,showShadow:a,size:l="lg"})=>{let r=(0,t.ZP)();return(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{animation:a?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},rounding:"circle",children:(0,p.jsx)(i.hU,{accessibilityLabel:r.bt("", "Back", "backButton.accessibilityLabel", undefined, true),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e,size:l})},"back-button-icon")})};function h({handleScroll:e,marginTop:a,onClick:l,showShadow:t}){let{closeupWithinMasonryEnabled:h,isCloseupRelatedPinsAboveTheFoldEnabled:y}=(0,o.x4)(),{isRTL:f}=(0,s.B)(),k=(0,c.Z)();y&&(k=h?0:-12);let S=f?{right:0}:{left:k};(0,n.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[]);let x=a||0===a?4*a:4*g;return y&&(x=0),y?(0,p.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:x,...S}},"data-test-id":"back-button",display:"flex",paddingX:h?0:4,position:y?"relative":"fixed",children:(0,p.jsx)(_,{marginTop:a,onClick:l,showShadow:t,size:h?"xl":"lg"})}):(0,p.jsxs)(u.Z,{position:"fixed",style:{zIndex:d.Cq,width:"60px",maxWidth:"265px"},children:[(0,p.jsx)(r.Z,{unsafeCSS:m}),(0,p.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:x,...S}},"data-test-id":"back-button",display:"flex",paddingX:4,position:"fixed",children:(0,p.jsx)(_,{marginTop:a,onClick:l,showShadow:t})})]})}},698808:function(e,a,l){l.d(a,{Z:()=>d});var n=l(883119),i=l(230201),t=l(138596),r=l(216975),s=l(605203),o=l(785893);function d({closeupLinkEnabled:e,nativeCreatorCloseupLinkEligible:a,peekCloseupEnabled:l,uriComponent:d}){let u=(0,t.ZP)(),{logContextEvent:c}=(0,i.v)();return a&&e&&d?(0,o.jsx)(n.xv,{align:"start",size:l?"200":"300",children:(0,r.nk)(u.bt("    {{ instagramLink }}", "See original post on {{ instagramLink }}", "closeup.defaultMetadata.instagramLink", undefined, true),{instagramLink:(0,o.jsx)(n.xv,{color:"link",inline:!0,children:(0,o.jsx)(n.rU,{display:"inline",externalLinkIcon:"default",href:(0,s.Z)(d)??d,onClick:()=>{c({event_type:102,element:16198,component:135,aux_data:{is_claimed_domain:a}})},underline:"none",children:u.bt("Instagram", "Instagram", "closeup.defaultMetadata.instagramLink-linkText", undefined, true)})})})}):null}},127051:function(e,a,l){l.d(a,{Z:()=>i});var n=l(629724);let i=({url:e})=>{if(e){let a=e.split("?");if(a[1])return(0,n.Z)(a[1])}return(0,n.Z)()}},605203:function(e,a,l){l.d(a,{Z:()=>n});function n(e){try{return decodeURIComponent(e)}catch{return null}}},415927:function(e,a,l){l.d(a,{Z:()=>i});var n=l(667294);let i=()=>{let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},366863:function(e,a,l){l.d(a,{Z:()=>i});var n=l(667294);let i=e=>{let a=(0,n.useRef)(null);return(0,n.useEffect)(()=>{a.current=e},[e]),a.current}},804748:function(e,a,l){l.d(a,{Z:()=>r});var n=l(667294),i=l(562400),t=l(730448);let r=(e="throttle")=>{let[a,l]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let a="throttle"===e?(0,t.Z)(()=>l(window.scrollY),10):(0,i.Z)(()=>l(window.scrollY),10);return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[e]),a}},669787:function(e,a,l){l.d(a,{Z:()=>t});var n=l(613567),i=l(739405);function t(){let{checkExperiment:e}=(0,n.F)();return"desktop"===(0,i.ZP)()?e("dweb_pdm_shopping_module_gql").anyEnabled:e("mweb_shopping_module_gql").anyEnabled}},417525:function(e,a,l){l.d(a,{GI:()=>r,oo:()=>s,xN:()=>o});var n=l(861072),i=l(247387),t=l(943893);let r=e=>e?.segment_metadata?.sales_channel!=="ENTERPRISE",s=(e,a)=>e===t.$o.APPROVED&&a,o=(e,a)=>{let l=a?`?pinId=${a}`:"";return r(e)?i.auO+(0,n.default)("createAutomated")+l:i.auO+(0,n.default)("create")+l}},400947:function(e,a,l){l.d(a,{Z:()=>k});var n=l(667294),i=l(883119),t=l(583875),r=l(507006),s=l(138596),o=l(216975),d=l(613567),u=l(180483),c=l(680589),p=l(426775),g=l(902123),m=l(462867),_=l(133546),h=l(488598),y=l(687163),f=l(785893);let k=function(e){let a=(0,s.ZP)(),{isCloseupRelatedPinsAboveTheFoldEnabled:l}=(0,_.x4)(),{followerCount:k,fullName:S,isVerifiedIdentity:x,imageUrl:P,isPromoted:v,isVerifiedMerchant:b,profileUrl:T,sponsorName:F,sponsorshipStatus:I,sponsorUsername:w="",verified:C,color:A="default",onAvatarClick:K,onNavigateClick:L,onNavigateSponsorClick:j,openNewTab:E,isLeadPin:R=!1}=e,D=(0,d.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,Z=(0,m.Z)(),M=Z.isAuth?Z?.avatar_color_index:void 0,N=(0,u.Z)(a.bt("    {{ fullName }}", "{{ fullName }} avatar link", "creatorCardProfile.avatar.accessibilityLabel", undefined, true),{fullName:S??""}),B=(0,f.jsx)(g.q,{children:({active:e,focused:a,hovered:n,onBlur:r,onFocus:s,onMouseEnter:o,onMouseLeave:d})=>(0,f.jsx)(i.xu,{onBlur:r,onFocus:s,onMouseDown:()=>{K&&K()},onMouseEnter:o,onMouseLeave:d,children:(0,f.jsx)(i.zd,{rounding:"circle",wash:n||e||a,children:(0,f.jsx)(t.qE,{accessibilityLabel:N,color:M,name:S??"",size:l?"xs":"md",src:P??"",verified:C})})})}),O=(0,c.ZP)(S,70),z=(0,f.jsxs)(n.Fragment,{children:[v&&(0,f.jsx)(i.xv,{lineClamp:1,size:"200",weight:"bold",children:a.bt(":", "Promoted by", "indicating the username of the person who promoted the pin", undefined, true)}),(0,f.jsx)(i.xu,{"data-test-id":"creator-profile-name",children:(0,f.jsx)(i.xu,{maxWidth:270,children:(0,f.jsx)(i.xv,{color:A,size:"200",weight:R||l?"normal":"bold",children:x||b?(0,f.jsx)(i.xu,{"data-test-id":"verified-name",children:(0,f.jsx)(y.Z,{badgeSize:"xs",badgeSpacing:2,fullName:O,isVerifiedIdentity:x,isVerifiedMerchant:b})}):S})})})]}),U=w&&F||h.j.includes(I)&&D,V=`/${w??""}/`,H=!(x||b)&&!Z.isAuth;return(0,f.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,f.jsx)(i.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:T?(0,f.jsx)(i.Tg,{dataTestId:"creator-avatar-link",href:T,onTap:L,rel:(0,p.Z)(T)?"none":"nofollow",target:E?"blank":null,children:B}):B}),(0,f.jsxs)(i.xu,{children:[T?(0,f.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:(0,f.jsx)(i.rU,{dataTestId:"creator-profile-link",href:T,onClick:L,rel:(0,p.Z)(T)?"none":"nofollow",target:E?"blank":null,underline:"none",children:z})}):z,U?(0,f.jsx)(i.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,f.jsx)(h.Z,{href:V,isPromoted:v,onNavigateSponsorClick:j,sponsorName:F,sponsorshipStatus:I,sponsorUsername:w})}):!!k&&!H&&!l&&(0,f.jsx)(i.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,f.jsx)(i.xv,{color:A,size:"200",children:(0,o.nk)(a.nbt(["{{ followerCount }} ", "{{ followerCount }} ", "{{ followerCount }} "], k, "closeup.creator.followerCount", true),{followerCount:(0,f.jsx)(r.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:k},k)})})})]})]})}},330572:function(e,a,l){l.d(a,{Z:()=>t});var n=l(138596),i=l(785893);let t=function(){let e=(0,n.ZP)();return(0,i.jsx)("div",{className:"errorMessage",children:(0,i.jsx)("div",{className:"standaloneErrorPage",children:(0,i.jsx)("div",{children:e.bt("!     .", "Whoops! We couldnt find that page.", " - ", undefined, true)})})})}},943893:function(e,a,l){l.d(a,{$o:()=>r,GW:()=>n,Jo:()=>t,MS:()=>y,Q8:()=>_,VX:()=>g,Zo:()=>o,aD:()=>d,b2:()=>c,g2:()=>p,s4:()=>s,tK:()=>h,ym:()=>u,zQ:()=>m});let n="/business/hub/?show_vmp=true",i=["FR"],t=["US","GB","CA","AU","DE","FR"].concat(["ES","IT","AT","CH","NL","BR","MX"]).filter(e=>!i.includes(e)),r={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},s=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),o=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"}),d=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),u="Verified merchant program not yet available in this country",c=2e3,p={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},g=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),m=[g.ACCOUNT_AGE,g.DOMAIN_AGE,g.PROFILE_IMAGE,g.PROFILE_COVER_IMAGE,g.BIO,g.SHOP_TAB,g.PINNER_FEEDBACK],_=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),h=30,y=.5},68876:function(e,a,l){l.d(a,{Z:()=>s});var n=l(495839),i=l(774838),t=l(884541),r=l(785893);function s({children:e,type:a}){let l=(0,i.B)();return(0,r.jsx)(n.Z,{annotateExperiments:[...l.isAuthenticated?["authDesktop"===a?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],l.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth",..."authDesktop"===a?["closeup_dweb_side_by_side_redesign_fast_follow"]:[],..."authDesktop"===a?["auth_dweb_shuffle_renderer_closeup_v2"]:[]],constraints:"authDesktop"===a?[...t.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},427488:function(e,a,l){l.d(a,{Z:()=>K});var n,i=l(667294);l(167912);var t=l(883119),r=l(907022),s=l(59111),o=l(680391),d=l(35169),u=l(903519),c=l(55475),p=l(145626),g=l(462867),m=l(15392),_=l(133546),h=l(785893);let y=`
.CloseupTitleCard {
  color: #444;
  font-weight: bold;
}

.CloseupTitleCard .richPinInformation {
  padding: 0 40px 16px;
  padding-top: 0;
  width: 470px; /* 80% of closeup width */
}

.CloseupTitleCard a {
    color: #444;
}

.CloseupTitleCard a:hover,
.CloseupTitleCard a:active {
  color: #444;
}`,f=void 0!==n?n:n=l(752395),k=e=>{let{carouselData:a,title:l}=e??{};if(l)return!0;if(a){let{carouselSlots:e,index:l}=a;if(null!=l&&e?.[l]&&e[l].title)return!0}return!1},S=e=>{let{clientTrackingParams:a,children:l,isLink:n=!0,onClick:i,pin:r}=e,s=(0,d.Z)(r),u=(0,g.Z)(),{closeupWithinMasonryEnabled:c,peekCloseupEnabled:p}=(0,_.x4)(),m=r.imageSpec_orig?.url&&r.imageSpec_orig.width&&r.imageSpec_orig.height?r.imageSpec_orig:null,y=l;if(r.carouselData){let{carouselSlots:e,index:a}=r.carouselData;e&&null!=a&&e[a]&&(s=e[a].link||s,y=e[a].title||y)}let f=r?.originPinner&&u.isAuth&&u.id===r.originPinner.entityId||!r.isGoLinkless,k=(0,o.Z)({href:{pathname:s??m?.url??"",state:{trackingParams:a}},clientTrackingParams:a,target:"blank",externalData:{pin:r&&{advertiserId:r.advertiserId,attributionSourceId:r.attributionSourceId,board:r.board&&{url:r.board.url},campaignId:r.campaignId,entityId:r.entityId,isDownstreamPromotion:r.isDownstreamPromotion,isPromoted:r.isPromoted,pinner:r.pinner&&{username:r.pinner.username},pinPromotionId:r.pinPromotionId,promoter:r.promoter&&{entityId:r.promoter.entityId},storyPinDataId:r.storyPinDataId,trackingParams:r.trackingParams}}});if(!e.pin.entityId)return null;let S=y&&(0,h.jsx)(t.X6,{accessibilityLevel:1,lineClamp:p?2:void 0,size:c?"400":"600",children:y});return(0,h.jsx)("div",{itemProp:"name",children:(n||s)&&f?(0,h.jsx)(t.rU,{href:s??m?.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),i&&i(),k({event:e})},rel:"nofollow",target:"blank",underline:"none",children:S}):S})},x=e=>{if(!e.pin.entityId)return null;let{entityId:a}=e.pin,l=e.pin.imageSpec_736x?.url&&e.pin.imageSpec_736x.width&&e.pin.imageSpec_736x.height?e.pin.imageSpec_736x:null;return(0,h.jsxs)(t.xu,{children:[(0,h.jsx)("meta",{content:`https://${p.Vi}/pin/${a}/`,itemProp:"url"}),l&&(0,h.jsx)("meta",{content:l.url,itemProp:"image"})]})},P=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{gridTitle:l,title:n}=a||{},t=l||n;return(0,h.jsx)(i.Fragment,{children:t&&(0,h.jsx)(c.Z,{children:(0,h.jsx)(S,{...e,children:t})})})},v=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{richMetadata:l,gridTitle:n}=a||{},{title:t}=l||{};return(0,h.jsx)(i.Fragment,{children:(n||t)&&(0,h.jsx)(c.Z,{itemType:m.iB.PRODUCT,children:(0,h.jsxs)(S,{...e,children:[n||t,(0,h.jsx)(x,{...e})]})})})},b=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{richMetadata:l,gridTitle:n}=a||{},{title:i}=l||{};return(0,h.jsx)(c.Z,{itemType:m.iB.ARTICLE,children:(0,h.jsx)(S,{...e,children:n||i})})},T=e=>{if(!e.pin.richMetadata?.recipe?.name)return null;let{name:a}=e.pin.richMetadata.recipe;return(0,h.jsx)(c.Z,{itemType:m.iB.RECIPE,children:(0,h.jsx)(S,{...e,children:a})})},F=e=>e.pin.richMetadata?.tutorial?.fromAggregatedData||!e.pin.richMetadata?.tutorial?.name?null:(0,h.jsx)(c.Z,{children:(0,h.jsx)(S,{...e,children:(0,h.jsx)(t.xu,{children:e.pin.richMetadata.tutorial.name})})}),I=e=>{let a=!!e.pin.richSummary?.displayName;return a?(0,h.jsx)(c.Z,{children:(0,h.jsx)(S,{...e,children:(0,h.jsx)(t.xu,{children:a})})}):null},w=e=>{if(!e.pin.entityId)return null;let{gridTitle:a}=e.pin||{};return(0,h.jsx)(c.Z,{itemType:m.iB.ARTICLE,children:(0,h.jsx)(S,{...e,children:a})})};function C(e){let{carouselInfo:a}=e,{carouselData:l}=a||{},{carousel_slots:n}=l||{};return((n||[])[0]||{}).title}let A=e=>{let{pin:a,...l}=e;if(!e.pin.entityId)return null;let n=C(l);return(0,h.jsx)(c.Z,{itemType:m.iB.ARTICLE,children:(0,h.jsx)(S,{...e,children:n})})},K=({pinKey:e,...a})=>{let l=(0,r.Z)(f,e),{carouselInfo:n,onTitleCheck:o}=a,d=!!l.entityId&&!!l.gridTitle,c=!!l.richMetadata?.tutorial?.name,p=!!l.richMetadata?.recipe?.name,g=!!l.richMetadata?.article?.name,m=!!l.richSummary?.displayName,S=(0,u.Z)(l),{isCloseupRelatedPinsAboveTheFoldEnabled:x,clientTrackingParams:K}=(0,_.x4)(),L=w,j=!1;return n&&l.entityId&&C(a)?L=A:S?L=v:k(l)?L=P:c?L=F:p?L=T:g?L=b:m?L=I:d||(j=!0),(0,i.useEffect)(()=>{o?.(j)},[j,o]),(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(s.Z,{unsafeCSS:y}),(0,h.jsx)("div",{className:"CloseupTitleCard",children:(0,h.jsx)(t.xu,{marginTop:x?void 0:4,children:(0,h.jsx)(L,{...a,clientTrackingParams:K,pin:l})})})]})}},289747:function(e,a,l){l.d(a,{Z:()=>d});var n=l(883119),i=l(788730),t=l(774838),r=l(15392),s=l(133546),o=l(785893);function d({children:e,isStoryPin:a=!1,isWideVideo:l=!1}){let d;let{showCloseupContentRight:u,showProductDetailPage:c,closeupWithinMasonryEnabled:p,peekCloseupEnabled:g,viewportSize:m,maxWidth:_}=(0,s.x4)(),{fiftyPercentWidth:h}=(0,i.Re)(),y=l?r.KP:_,f=p?r.Gg:r.CI,k=l?r.Gg:c?f:1050,{isRTL:S}=(0,t.B)();return a?(0,o.jsx)(n.xu,{bottom:!0,display:"flex",left:S,position:"absolute",right:!S,top:!0,width:g?h:r.Gg,children:e}):(p||g||(d=(u||l)&&"lg"===m?y:k),(0,o.jsx)(n.xu,{maxWidth:d,width:l||p?"100%":void 0,children:e}))}},855574:function(e,a,l){l.d(a,{Z:()=>s});var n=l(883119),i=l(15392),t=l(133546),r=l(785893);function s({children:e,isStoryPin:a=!1,isScheduledPin:l=!1,isWideVideo:s=!1}){let{showCloseupContentRight:o,viewportSize:d,paneWidth:u,maxWidth:c,isCloseupRelatedPinsAboveTheFoldEnabled:p}=(0,t.x4)(),g=l?i.bx:c;return(0,r.jsx)(n.kC,{direction:o?"row":"column",flex:"grow",width:s||p?void 0:!o||"lg"!==d||a||s?u:g,children:e})}},60707:function(e,a,l){l.d(a,{Z:()=>t});var n=l(566431),i=l(127051);let t=(e,a)=>{let l=e.action||void 0,t=(0,i.Z)({url:e.location.search});return"PUSH"===l?"click":("POP"!==l||e.location.key)&&"news_hub"!==t.entrySource?a&&(0,n.sV)(a)?"deeplink":"click":"deeplink"}},76849:function(e,a,l){l.d(a,{Yf:()=>n});let n=e=>{let{url:a,width:l,height:n}=e||{};return a&&l&&n?{url:a,width:l,height:n}:void 0}},715987:function(e,a,l){l.d(a,{Z:()=>d});var n,i=l(667294);l(167912);var t=l(907022),r=l(891851),s=l(575647);let o=void 0!==n?n:n=l(656203);function d({logCommerceAuxData:e,deepLinkBackGoesToBoard:a,element:l,goBack:n,pinKey:d,routePush:u,trafficSource:c,viewer:p,requestContext:g,viewType:m,viewParameterType:_,componentType:h},y){let f=(0,t.Z)(o,d),k=(0,s.Z)(f);return{onHandleBackButtonClick:(0,i.useCallback)(()=>{let i=f.promotedLeadForm?.leadId,t=e?k():null;f.promotedIsLeadAd?(y({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:f.entityId,aux_data:{...t,lead_form_id:i,is_lead_ad:1}}),y({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:f.entityId,aux_data:{lead_form_id:i,is_lead_ad:1}})):y({aux_data:t,event_type:101,view_type:m||3,view_parameter:_||(0,r.Z)({hasPin:!0,hasPinRichMetadata:!!f.richMetadata,hasPinRichMetadataProducts:!!f.richMetadata?.products,hasPinRichMetadataArticle:!!f.richMetadata?.article,hasPinRichMetadataRecipe:!!f.richMetadata?.recipe,hasPinStoryPinData:!!f.storyPinData}),...h?{component:h}:void 0,element:l||34});let s="deep_linking"===c&&!a,o=p.partner?"/homefeed/":"/",{utm_source:d,news_hub_id:S}=function(e){let a=e.searchParams;return{utm_source:a.get("utm_source")??"",utm_medium:a.get("utm_medium")??"",utm_campaign:a.get("utm_campaign")??"",news_hub_id:a.get("news_hub_id")??""}}(new URL(g.fullPath,g.origin)),x=`/news_hub/${S}`;return"31"==`${d}`&&S?u(x):s?u(o):n()},[h,a,l,k,n,e,y,f.entityId,f.promotedIsLeadAd,f.promotedLeadForm?.leadId,f.richMetadata,f.storyPinData,g.fullPath,g.origin,u,c,_,m,p.partner])}}},194801:function(e,a,l){l.d(a,{Z:()=>n});function n(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","domain.official_user()","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.image_square_url","pin.images[170x,136x136,236x,474x,736x,orig]","pin.images[236x]","pin.is_downstream_promotion","pin.is_eligible_for_pdp","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link_domain()","pin.link_user_website()","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoted_lead_form","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.sponsorship","pin.story_pin_data_id","pin.story_pin_data()","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pintag.pin_tag_key","pintag.pins()","pintag.type","pintag.x_percent","pintag.y_percent","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_verified_merchant","user.type","user.username","user.verified_identity","userwebsite.official_user()","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}},410890:function(e,a,l){l.d(a,{Z:()=>u});var n=l(883119),i=l(924591),t=l(138596),r=l(216975),s=l(613567),o=l(462867),d=l(785893);function u({boardName:e,boardUrl:a,isBoardlessPin:l,isFromPinBuilder:u,hasNewPin:c,onChangeButtonClick:p,onVisitButtonClick:g=()=>{},onHide:m,onUndo:_,pinImageUrl:h}){let y;let f=(0,t.ZP)(),{checkExperiment:k}=(0,s.F)(),S=(0,o.Z)(),x=!!S.isAuth&&S.isPartner,P=l&&k("web_all_toasts_lead_to_boards").anyEnabled?x?"/me/pins/":"/me/_pins/":"/me/";return u?y={accessibilityLabel:f.bt("  ", "Visit Pin", "PostSavedPinToast.a11yVisitButton", undefined, true),label:f.bt("", "Visit", "PostSavedPinToast.VisitButton", undefined, true),size:"lg",onClick:g}:(p||_)&&(y={accessibilityLabel:c&&l&&p?f.bt("   ", "Change Pin destination", "PostSavedPinToast.a11yChangeButton", undefined, true):f.bt("  ", "Undo Saved Pin", "PostSavedPinToast.a11yUndoButton", undefined, true),label:c&&l&&p?f.bt("", "Change", "PostSavedPinToast.ChangeButton", undefined, true):f.bt("", "Undo", "PostSavedPinToast.UndoButton", undefined, true),size:"lg",onClick:c&&l&&p?()=>p():_}),(0,d.jsx)(i.Z,{duration:l?6e3:3e3,imageUrl:h,onHide:m,primaryAction:y,text:(0,d.jsx)(n.xv,{overflow:"normal",size:"200",children:(0,r.nk)(f.bt(": {{ destination }}", "Saved to {{ destination }}", "PostSavedPinToast.SavedToBoardLabel", undefined, true),{destination:(0,d.jsx)(n.rU,{href:l?P:a??"",children:(0,d.jsx)(n.xv,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})})}),thumbnail:l?{icon:(0,d.jsx)(n.JO,{accessibilityLabel:f.bt(":   ", "Saved to profile thumbnail", "PostSavedPinToast.thumbnail.accessibilityLabel", undefined, true),color:"default",icon:"history",size:24})}:void 0})}},548782:function(e,a,l){l.r(a),l.d(a,{default:()=>g});var n=l(883119),i=l(230201),t=l(806513),r=l(79271),s=l(100723),o=l(574991),d=l(133546),u=l(991449),c=l(785893);let p=t.yF;function g({contextLogData:e,bubbles:a,id:l,referringSource:t,slotIndex:g,storyType:m,title:_,titleIcon:h,viewType:y,viewParameter:f}){let{logContextEvent:k}=(0,i.v)(),{closeupWithinMasonryEnabled:S}=(0,d.x4)(),x=a?.map(({type:e,id:a})=>e+":"+a).join("|"),P={story_type:m,...e,content_ids:x},v=!!h&&(0,o.Z)(h);return(0,c.jsx)(r.F,{componentType:200,contextLogData:P,impressionType:"Story",loggingId:l,objectIdStr:l,slotIndex:g,viewParameter:f,viewType:y,children:({impressionTrackerRef:e})=>(0,c.jsxs)(n.xu,{ref:e,children:[_&&(0,c.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[v&&(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:v,size:14})}),(0,c.jsx)(n.xv,{weight:"bold",children:(0,s.Z)(_)})]}),a?.map((e,a)=>c.jsx(n.xu,{flex:"none",paddingY:1,children:c.jsx(u.Z,{bubble:e,contextLogData:P,height:103,onClick:e=>{k({event_type:101,object_id_str:e,view_type:y,view_parameter:f,component:200,aux_data:P})},referringSource:t,slotIndex:a,storyId:l,viewParameter:f,viewType:y,width:S?"100%":p})},`bubble-${e.id}`))]})})}},241028:function(e,a,l){function n(e){return{type:"PIN_QUICK_SAVE",payload:e}}function i(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}l.d(a,{X:()=>i,d:()=>n})},1769:function(e,a,l){l.d(a,{Z:()=>r});var n=l(147950),i=l(481923),t=l(233377);function r(e,a,l,r){switch(e){case 0:return function({isShortened:e,minutes:a,i18n:l}){if(!a)return"";if(e)return(0,t.Z)(a,l).join("");let r=(0,i.Z)((0,n.X)({m:a}),l);if(!r)return"";let s=r.join(""),o=l.bt(" ", "Cook Time", "ideapin.basics.cookTime", undefined, true);return`${o}: ${s}`}({minutes:parseInt(a,10),i18n:l,isShortened:r});case 1:return function({servingSize:e,i18n:a}){return e?1===e?`${e} ${a.bt("", "serving", "ideapin.basics.servings", undefined, true)}`:`${e} ${a.bt(".", "servings", "ideapin.basics.servings", undefined, true)}`:""}({servingSize:parseInt(a,10),i18n:l});case 2:return function({difficulty:e,i18n:a}){let l={1:a.bt("", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:a.bt("", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:a.bt("", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},n=a.bt(" ", "Difficulty", "ideapin.basics.difficulty", undefined, true);return`${n}: ${l[e??"1"]}`}({difficulty:a,i18n:l});default:return""}}},977854:function(e,a,l){l.d(a,{Z:()=>n});let n=e=>e.join(` \u2022 `)},380575:function(e,a,l){l.d(a,{Z:()=>i});var n=l(785893);function i({children:e,dir:a="auto"}){return(0,n.jsx)("div",{"data-test-id":"safeTextDirection",dir:a,children:e})}},292917:function(e,a,l){l.d(a,{j:()=>i});let n=RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6A-Za-z\xc0-\xd6\xd8-\xf6--]*[---]");function i(e){return n.test(e||"")?"rtl":"ltr"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/86111.ru_RU-0fe69a1197511a2c.mjs.map